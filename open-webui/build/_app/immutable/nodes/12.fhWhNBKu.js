import{s as ul,e as d,t as C,k as A,c as _,a as v,b as R,d as f,o as D,I as Ct,f as i,i as B,g as r,u as ae,z as jl,h as K,n as wt,H as Xt,j as sl,p as yl,q as Ul,y as gt,A as yt,C as te,O as Il,P as Yt,G as Dl,R as wl,D as zs,l as tl,Q as ll,E as Gt,F as Zt,B as ds,S as Ps,Z as Wl}from"../chunks/scheduler.CvZYoJ9P.js";import{S as fl,i as cl,f as Tt,b as he,d as pe,m as ve,t as Y,g as Lt,a as X,c as Ut,e as me}from"../chunks/index.C1N8d1hw.js";import{t as Ze}from"../chunks/Toaster.svelte_svelte_type_style_lang.ChidyyUD.js";import{e as cs,m as kl,u as Ys,v as ao,M as Ns}from"../chunks/index.Dh8PXriy.js";import{b as ro,u as no,c as io,d as oo,g as Pl,e as uo,f as fo,h as co,i as _o,j as ho,k as po,a as Os,l as vo,m as mo}from"../chunks/index.CusVmKHs.js";import{f as Qi}from"../chunks/FileSaver.min.CimDdHIv.js";import{d as go}from"../chunks/index.BnGSMWXY.js";import{j as bo}from"../chunks/index.C1FCzb-X.js";import{i as Eo,e as wo,S as El,g as ko,s as Io,a as yo}from"../chunks/SensitiveInput.DPgbJTlr.js";import{d as To,e as Ao,f as Do,h as Vo,i as So,j as $o}from"../chunks/index.C5iONN2C.js";import{S as ml}from"../chunks/Switch.BWN5EyxE.js";import{T as Kt,m as Zr}from"../chunks/Tooltip.DE9EGTmQ.js";import{e as St,u as Mo,o as No}from"../chunks/each.BAtknz4E.js";import{S as ms}from"../chunks/Spinner.D_9sd18Y.js";import{g as Oo,a as Po,b as Lo,u as Uo}from"../chunks/index.VLQ7Yb5F.js";import{T as Da,v as Co,s as Fs}from"../chunks/index.C-Yl_4Dq.js";import{g as Ro,a as Bo,b as Ho,u as Kr,c as jo,v as qr}from"../chunks/index.CF24VyJO.js";import{T as $a}from"../chunks/Textarea.BuO9faAd.js";import{b as Go,u as Zo,c as Wr,t as Ko,e as qo}from"../chunks/index.CcvU3k-4.js";import{S as Wo}from"../chunks/Search.DWLaJ4Hf.js";import{M as Fo}from"../chunks/ModelEditor.2VKzdWFm.js";import{C as Va}from"../chunks/ConfirmDialog.BlzuV8fX.js";import{v as zo,p as Fr,d as zr,c as Yr,a as Yo,u as Qo,b as Jo,e as Xo,f as xo}from"../chunks/index.BAcob18o.js";import{v as eu,a as tu,b as lu,u as su}from"../chunks/index.CR8c5aJv.js";import{P as Qs}from"../chunks/Plus.BJxySHW6.js";import{C as Ja}from"../chunks/Cog6.DmkF6C8g.js";import{M as Xa}from"../chunks/Modal.DHNRbNDK.js";import"../chunks/index.CGwCSIWv.js";import{g as au,a as Ji,u as ru,b as Xi,c as Qr,d as nu,e as iu,r as ou,f as uu}from"../chunks/index.CK9F4X6H.js";import{d as fu}from"../chunks/index.DBc44hR_.js";import"../chunks/index.DQfRr7yB.js";import{A as cu}from"../chunks/AccessControl.BF_c5vc4.js";import{a as du,u as _u}from"../chunks/index.DtS65OcU.js";function Jr(l){let e,t,s,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',o,n,c=l[1].t("Download Database")+"",u,h,m,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,E,w=l[1].t("Export All Chats (All Users)")+"",k,I,T;return{c(){e=d("div"),t=d("button"),s=d("div"),s.innerHTML=a,o=A(),n=d("div"),u=C(c),h=A(),m=d("button"),p=d("div"),p.innerHTML=b,g=A(),E=d("div"),k=C(w),this.h()},l(y){e=_(y,"DIV",{class:!0});var V=v(e);t=_(V,"BUTTON",{class:!0,type:!0});var $=v(t);s=_($,"DIV",{class:!0,"data-svelte-h":!0}),Ct(s)!=="svelte-1n29mwa"&&(s.innerHTML=a),o=D($),n=_($,"DIV",{class:!0});var M=v(n);u=R(M,c),M.forEach(f),$.forEach(f),V.forEach(f),h=D(y),m=_(y,"BUTTON",{class:!0});var S=v(m);p=_(S,"DIV",{class:!0,"data-svelte-h":!0}),Ct(p)!=="svelte-1l0oz0g"&&(p.innerHTML=b),g=D(S),E=_(S,"DIV",{class:!0});var L=v(E);k=R(L,w),L.forEach(f),S.forEach(f),this.h()},h(){i(s,"class","self-center mr-3"),i(n,"class","self-center text-sm font-medium"),i(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),i(t,"type","button"),i(e,"class","flex w-full justify-between"),i(p,"class","self-center mr-3"),i(E,"class","self-center text-sm font-medium"),i(m,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(y,V){B(y,e,V),r(e,t),r(t,s),r(t,o),r(t,n),r(n,u),B(y,h,V),B(y,m,V),r(m,p),r(m,g),r(m,E),r(E,k),I||(T=[ae(t,"click",l[9]),ae(m,"click",l[10])],I=!0)},p(y,V){V&2&&c!==(c=y[1].t("Download Database")+"")&&K(u,c),V&2&&w!==(w=y[1].t("Export All Chats (All Users)")+"")&&K(k,w)},d(y){y&&(f(e),f(h),f(m)),I=!1,Xt(T)}}}function hu(l){var Z;let e,t,s,a,o=l[1].t("Database")+"",n,c,u,h,m,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,E,w=l[1].t("Import Config from JSON File")+"",k,I,T,y,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',$,M,S=l[1].t("Export Config to JSON File")+"",L,P,N,q,j,O,G=(((Z=l[2])==null?void 0:Z.features.enable_admin_export)??!0)&&Jr(l);return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),n=C(o),c=A(),u=d("input"),h=A(),m=d("button"),p=d("div"),p.innerHTML=b,g=A(),E=d("div"),k=C(w),I=A(),T=d("button"),y=d("div"),y.innerHTML=V,$=A(),M=d("div"),L=C(S),P=A(),N=d("hr"),q=A(),G&&G.c(),this.h()},l(H){e=_(H,"FORM",{class:!0});var U=v(e);t=_(U,"DIV",{class:!0});var W=v(t);s=_(W,"DIV",{});var J=v(s);a=_(J,"DIV",{class:!0});var F=v(a);n=R(F,o),F.forEach(f),c=D(J),u=_(J,"INPUT",{id:!0,type:!0,accept:!0}),h=D(J),m=_(J,"BUTTON",{type:!0,class:!0});var z=v(m);p=_(z,"DIV",{class:!0,"data-svelte-h":!0}),Ct(p)!=="svelte-uk5zsu"&&(p.innerHTML=b),g=D(z),E=_(z,"DIV",{class:!0});var x=v(E);k=R(x,w),x.forEach(f),z.forEach(f),I=D(J),T=_(J,"BUTTON",{type:!0,class:!0});var re=v(T);y=_(re,"DIV",{class:!0,"data-svelte-h":!0}),Ct(y)!=="svelte-uk5zsu"&&(y.innerHTML=V),$=D(re),M=_(re,"DIV",{class:!0});var ee=v(M);L=R(ee,S),ee.forEach(f),re.forEach(f),P=D(J),N=_(J,"HR",{class:!0}),q=D(J),G&&G.l(J),J.forEach(f),W.forEach(f),U.forEach(f),this.h()},h(){i(a,"class","mb-2 text-sm font-medium"),i(u,"id","config-json-input"),u.hidden=!0,i(u,"type","file"),i(u,"accept",".json"),i(p,"class","self-center mr-3"),i(E,"class","self-center text-sm font-medium"),i(m,"type","button"),i(m,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),i(y,"class","self-center mr-3"),i(M,"class","self-center text-sm font-medium"),i(T,"type","button"),i(T,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),i(N,"class","dark:border-gray-850 my-1"),i(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(H,U){B(H,e,U),r(e,t),r(t,s),r(s,a),r(a,n),r(s,c),r(s,u),r(s,h),r(s,m),r(m,p),r(m,g),r(m,E),r(E,k),r(s,I),r(s,T),r(T,y),r(T,$),r(T,M),r(M,L),r(s,P),r(s,N),r(s,q),G&&G.m(s,null),j||(O=[ae(u,"change",l[6]),ae(m,"click",l[7]),ae(T,"click",l[8]),ae(e,"submit",jl(l[11]))],j=!0)},p(H,[U]){var W;U&2&&o!==(o=H[1].t("Database")+"")&&K(n,o),U&2&&w!==(w=H[1].t("Import Config from JSON File")+"")&&K(k,w),U&2&&S!==(S=H[1].t("Export Config to JSON File")+"")&&K(L,S),((W=H[2])==null?void 0:W.features.enable_admin_export)??!0?G?G.p(H,U):(G=Jr(H),G.c(),G.m(s,null)):G&&(G.d(1),G=null)},i:wt,o:wt,d(H){H&&f(e),G&&G.d(),j=!1,Xt(O)}}}function pu(l,e,t){let s,a;sl(l,cs,w=>t(2,a=w));const{saveAs:o}=Qi,n=yl("i18n");sl(l,n,w=>t(1,s=w));let{saveHandler:c}=e;const u=async()=>{let w=new Blob([JSON.stringify(await bo(localStorage.token))],{type:"application/json"});o(w,`all-chats-export-${Date.now()}.json`)};Ul(async()=>{});const h=w=>{const k=w.target.files[0],I=new FileReader;I.onload=async T=>{await Eo(localStorage.token,JSON.parse(T.target.result)).catch(V=>{Ze.error(V)})&&Ze.success("Config imported successfully"),T.target.value=null},I.readAsText(k)},m=async()=>{document.getElementById("config-json-input").click()},p=async()=>{const w=await wo(localStorage.token),k=new Blob([JSON.stringify(w)],{type:"application/json"});o(k,`config-${Date.now()}.json`)},b=()=>{go(localStorage.token).catch(w=>{Ze.error(w)})},g=()=>{u()},E=async()=>{c()};return l.$$set=w=>{"saveHandler"in w&&t(0,c=w.saveHandler)},[c,s,a,o,n,u,h,m,p,b,g,E]}class vu extends fl{constructor(e){super(),cl(this,e,pu,hu,ul,{saveHandler:0})}}function Xr(l){let e,t,s=l[4].t("General Settings")+"",a,o,n,c,u=l[4].t("Enable New Sign Ups")+"",h,m,p,b,g,E,w,k=l[4].t("Default User Role")+"",I,T,y,V,$,M=l[4].t("pending")+"",S,L,P=l[4].t("user")+"",N,q,j=l[4].t("admin")+"",O,G,Z,H,U=l[4].t("Enable API Key Auth")+"",W,J,F,z,x,re,ee,Q,ie,fe=l[4].t("Show Admin Details in Account Pending Overlay")+"",Le,Re,$e,Me,Oe,Pe,tt,ne=l[4].t("Enable Community Sharing")+"",de,Ve,De,Ue,xe,Ke,We,qe=l[4].t("Enable Message Rating")+"",_e,ue,ge,ke,Ee,Be,rt,oe,Fe,le,se=l[4].t("JWT Expiration")+"",lt,at,nt,it,Ye,ze,ht=l[4].t("Valid time units:")+"",bt,Et,dt,kt=l[4].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",st,Ae,Je,Ce,Qe,Ie,Ge,Mt=l[4].t("Webhook URL")+"",Ot,Rt,ut,Te,we,Bt,Dt;function Vt(He){l[8](He)}let Ht={};l[0].ENABLE_SIGNUP!==void 0&&(Ht.state=l[0].ENABLE_SIGNUP),p=new ml({props:Ht}),gt.push(()=>Tt(p,"state",Vt));function At(He){l[10](He)}let Se={};l[0].ENABLE_API_KEY!==void 0&&(Se.state=l[0].ENABLE_API_KEY),F=new ml({props:Se}),gt.push(()=>Tt(F,"state",At));function ct(He){l[11](He)}let vt={};l[0].SHOW_ADMIN_DETAILS!==void 0&&(vt.state=l[0].SHOW_ADMIN_DETAILS),$e=new ml({props:vt}),gt.push(()=>Tt($e,"state",ct));function Pt(He){l[12](He)}let _t={};l[0].ENABLE_COMMUNITY_SHARING!==void 0&&(_t.state=l[0].ENABLE_COMMUNITY_SHARING),De=new ml({props:_t}),gt.push(()=>Tt(De,"state",Pt));function pt(He){l[13](He)}let Ft={};return l[0].ENABLE_MESSAGE_RATING!==void 0&&(Ft.state=l[0].ENABLE_MESSAGE_RATING),ge=new ml({props:Ft}),gt.push(()=>Tt(ge,"state",pt)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),h=C(u),m=A(),he(p.$$.fragment),g=A(),E=d("div"),w=d("div"),I=C(k),T=A(),y=d("div"),V=d("select"),$=d("option"),S=C(M),L=d("option"),N=C(P),q=d("option"),O=C(j),G=A(),Z=d("div"),H=d("div"),W=C(U),J=A(),he(F.$$.fragment),x=A(),re=d("hr"),ee=A(),Q=d("div"),ie=d("div"),Le=C(fe),Re=A(),he($e.$$.fragment),Oe=A(),Pe=d("div"),tt=d("div"),de=C(ne),Ve=A(),he(De.$$.fragment),xe=A(),Ke=d("div"),We=d("div"),_e=C(qe),ue=A(),he(ge.$$.fragment),Ee=A(),Be=d("hr"),rt=A(),oe=d("div"),Fe=d("div"),le=d("div"),lt=C(se),at=A(),nt=d("div"),it=d("input"),Ye=A(),ze=d("div"),bt=C(ht),Et=A(),dt=d("span"),st=C(kt),Ae=A(),Je=d("hr"),Ce=A(),Qe=d("div"),Ie=d("div"),Ge=d("div"),Ot=C(Mt),Rt=A(),ut=d("div"),Te=d("input"),this.h()},l(He){e=_(He,"DIV",{});var je=v(e);t=_(je,"DIV",{class:!0});var $t=v(t);a=R($t,s),$t.forEach(f),o=D(je),n=_(je,"DIV",{class:!0});var Ne=v(n);c=_(Ne,"DIV",{class:!0});var be=v(c);h=R(be,u),be.forEach(f),m=D(Ne),pe(p.$$.fragment,Ne),Ne.forEach(f),g=D(je),E=_(je,"DIV",{class:!0});var Xe=v(E);w=_(Xe,"DIV",{class:!0});var ft=v(w);I=R(ft,k),ft.forEach(f),T=D(Xe),y=_(Xe,"DIV",{class:!0});var ce=v(y);V=_(ce,"SELECT",{class:!0,placeholder:!0});var et=v(V);$=_(et,"OPTION",{});var Nt=v($);S=R(Nt,M),Nt.forEach(f),L=_(et,"OPTION",{});var It=v(L);N=R(It,P),It.forEach(f),q=_(et,"OPTION",{});var Qt=v(q);O=R(Qt,j),Qt.forEach(f),et.forEach(f),ce.forEach(f),Xe.forEach(f),G=D(je),Z=_(je,"DIV",{class:!0});var jt=v(Z);H=_(jt,"DIV",{class:!0});var qt=v(H);W=R(qt,U),qt.forEach(f),J=D(jt),pe(F.$$.fragment,jt),jt.forEach(f),x=D(je),re=_(je,"HR",{class:!0}),ee=D(je),Q=_(je,"DIV",{class:!0});var xt=v(Q);ie=_(xt,"DIV",{class:!0});var mt=v(ie);Le=R(mt,fe),mt.forEach(f),Re=D(xt),pe($e.$$.fragment,xt),xt.forEach(f),Oe=D(je),Pe=_(je,"DIV",{class:!0});var zt=v(Pe);tt=_(zt,"DIV",{class:!0});var _l=v(tt);de=R(_l,ne),_l.forEach(f),Ve=D(zt),pe(De.$$.fragment,zt),zt.forEach(f),xe=D(je),Ke=_(je,"DIV",{class:!0});var rl=v(Ke);We=_(rl,"DIV",{class:!0});var hl=v(We);_e=R(hl,qe),hl.forEach(f),ue=D(rl),pe(ge.$$.fragment,rl),rl.forEach(f),Ee=D(je),Be=_(je,"HR",{class:!0}),rt=D(je),oe=_(je,"DIV",{class:!0});var Jt=v(oe);Fe=_(Jt,"DIV",{class:!0});var pl=v(Fe);le=_(pl,"DIV",{class:!0});var nl=v(le);lt=R(nl,se),nl.forEach(f),pl.forEach(f),at=D(Jt),nt=_(Jt,"DIV",{class:!0});var gl=v(nt);it=_(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(f),Ye=D(Jt),ze=_(Jt,"DIV",{class:!0});var ol=v(ze);bt=R(ol,ht),Et=D(ol),dt=_(ol,"SPAN",{class:!0});var Vl=v(dt);st=R(Vl,kt),Vl.forEach(f),ol.forEach(f),Jt.forEach(f),Ae=D(je),Je=_(je,"HR",{class:!0}),Ce=D(je),Qe=_(je,"DIV",{class:!0});var dl=v(Qe);Ie=_(dl,"DIV",{class:!0});var Tl=v(Ie);Ge=_(Tl,"DIV",{class:!0});var al=v(Ge);Ot=R(al,Mt),al.forEach(f),Tl.forEach(f),Rt=D(dl),ut=_(dl,"DIV",{class:!0});var vl=v(ut);Te=_(vl,"INPUT",{class:!0,type:!0,placeholder:!0}),vl.forEach(f),dl.forEach(f),je.forEach(f),this.h()},h(){i(t,"class","mb-3 text-sm font-medium"),i(c,"class","self-center text-xs font-medium"),i(n,"class","flex w-full justify-between pr-2"),i(w,"class","self-center text-xs font-medium"),$.__value="pending",te($,$.__value),L.__value="user",te(L,L.__value),q.__value="admin",te(q,q.__value),i(V,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),i(V,"placeholder","Select a role"),l[0].DEFAULT_USER_ROLE===void 0&&Il(()=>l[9].call(V)),i(y,"class","flex items-center relative"),i(E,"class","my-3 flex w-full justify-between"),i(H,"class","self-center text-xs font-medium"),i(Z,"class","flex w-full justify-between pr-2"),i(re,"class","border-gray-50 dark:border-gray-850 my-2"),i(ie,"class","self-center text-xs font-medium"),i(Q,"class","my-3 flex w-full items-center justify-between pr-2"),i(tt,"class","self-center text-xs font-medium"),i(Pe,"class","my-3 flex w-full items-center justify-between pr-2"),i(We,"class","self-center text-xs font-medium"),i(Ke,"class","my-3 flex w-full items-center justify-between pr-2"),i(Be,"class","border-gray-50 dark:border-gray-850 my-2"),i(le,"class","self-center text-xs font-medium"),i(Fe,"class","flex w-full justify-between"),i(it,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(it,"type","text"),i(it,"placeholder",'e.g.) "30m","1h", "10d". '),i(nt,"class","flex mt-2 space-x-2"),i(dt,"class","text-gray-300 font-medium"),i(ze,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),i(oe,"class","w-full justify-between"),i(Je,"class","border-gray-50 dark:border-gray-850 my-2"),i(Ge,"class","self-center text-xs font-medium"),i(Ie,"class","flex w-full justify-between"),i(Te,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(Te,"type","text"),i(Te,"placeholder","https://example.com/webhook"),i(ut,"class","flex mt-2 space-x-2"),i(Qe,"class","w-full justify-between")},m(He,je){B(He,e,je),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,h),r(n,m),ve(p,n,null),r(e,g),r(e,E),r(E,w),r(w,I),r(E,T),r(E,y),r(y,V),r(V,$),r($,S),r(V,L),r(L,N),r(V,q),r(q,O),Yt(V,l[0].DEFAULT_USER_ROLE,!0),r(e,G),r(e,Z),r(Z,H),r(H,W),r(Z,J),ve(F,Z,null),r(e,x),r(e,re),r(e,ee),r(e,Q),r(Q,ie),r(ie,Le),r(Q,Re),ve($e,Q,null),r(e,Oe),r(e,Pe),r(Pe,tt),r(tt,de),r(Pe,Ve),ve(De,Pe,null),r(e,xe),r(e,Ke),r(Ke,We),r(We,_e),r(Ke,ue),ve(ge,Ke,null),r(e,Ee),r(e,Be),r(e,rt),r(e,oe),r(oe,Fe),r(Fe,le),r(le,lt),r(oe,at),r(oe,nt),r(nt,it),te(it,l[0].JWT_EXPIRES_IN),r(oe,Ye),r(oe,ze),r(ze,bt),r(ze,Et),r(ze,dt),r(dt,st),r(e,Ae),r(e,Je),r(e,Ce),r(e,Qe),r(Qe,Ie),r(Ie,Ge),r(Ge,Ot),r(Qe,Rt),r(Qe,ut),r(ut,Te),te(Te,l[1]),we=!0,Bt||(Dt=[ae(V,"change",l[9]),ae(it,"input",l[14]),ae(Te,"input",l[15])],Bt=!0)},p(He,je){(!we||je[0]&16)&&s!==(s=He[4].t("General Settings")+"")&&K(a,s),(!we||je[0]&16)&&u!==(u=He[4].t("Enable New Sign Ups")+"")&&K(h,u);const $t={};!b&&je[0]&1&&(b=!0,$t.state=He[0].ENABLE_SIGNUP,yt(()=>b=!1)),p.$set($t),(!we||je[0]&16)&&k!==(k=He[4].t("Default User Role")+"")&&K(I,k),(!we||je[0]&16)&&M!==(M=He[4].t("pending")+"")&&K(S,M),(!we||je[0]&16)&&P!==(P=He[4].t("user")+"")&&K(N,P),(!we||je[0]&16)&&j!==(j=He[4].t("admin")+"")&&K(O,j),je[0]&1&&Yt(V,He[0].DEFAULT_USER_ROLE),(!we||je[0]&16)&&U!==(U=He[4].t("Enable API Key Auth")+"")&&K(W,U);const Ne={};!z&&je[0]&1&&(z=!0,Ne.state=He[0].ENABLE_API_KEY,yt(()=>z=!1)),F.$set(Ne),(!we||je[0]&16)&&fe!==(fe=He[4].t("Show Admin Details in Account Pending Overlay")+"")&&K(Le,fe);const be={};!Me&&je[0]&1&&(Me=!0,be.state=He[0].SHOW_ADMIN_DETAILS,yt(()=>Me=!1)),$e.$set(be),(!we||je[0]&16)&&ne!==(ne=He[4].t("Enable Community Sharing")+"")&&K(de,ne);const Xe={};!Ue&&je[0]&1&&(Ue=!0,Xe.state=He[0].ENABLE_COMMUNITY_SHARING,yt(()=>Ue=!1)),De.$set(Xe),(!we||je[0]&16)&&qe!==(qe=He[4].t("Enable Message Rating")+"")&&K(_e,qe);const ft={};!ke&&je[0]&1&&(ke=!0,ft.state=He[0].ENABLE_MESSAGE_RATING,yt(()=>ke=!1)),ge.$set(ft),(!we||je[0]&16)&&se!==(se=He[4].t("JWT Expiration")+"")&&K(lt,se),je[0]&1&&it.value!==He[0].JWT_EXPIRES_IN&&te(it,He[0].JWT_EXPIRES_IN),(!we||je[0]&16)&&ht!==(ht=He[4].t("Valid time units:")+"")&&K(bt,ht),(!we||je[0]&16)&&kt!==(kt=He[4].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&K(st,kt),(!we||je[0]&16)&&Mt!==(Mt=He[4].t("Webhook URL")+"")&&K(Ot,Mt),je[0]&2&&Te.value!==He[1]&&te(Te,He[1])},i(He){we||(Y(p.$$.fragment,He),Y(F.$$.fragment,He),Y($e.$$.fragment,He),Y(De.$$.fragment,He),Y(ge.$$.fragment,He),we=!0)},o(He){X(p.$$.fragment,He),X(F.$$.fragment,He),X($e.$$.fragment,He),X(De.$$.fragment,He),X(ge.$$.fragment,He),we=!1},d(He){He&&f(e),me(p),me(F),me($e),me(De),me(ge),Bt=!1,Xt(Dt)}}}function xr(l){let e,t,s,a,o=l[4].t("Label")+"",n,c,u,h,m,p,b,g,E,w,k=l[4].t("Host")+"",I,T,y,V,$,M,S,L=l[4].t("Port")+"",P,N,q,j,O,G,Z,H=l[4].t("Application DN")+"",U,W,J,F,z,x,re=l[4].t("Application DN Password")+"",ee,Q,ie,fe,Le,Re,$e,Me,Oe=l[4].t("Attribute for Username")+"",Pe,tt,ne,de,Ve,De,Ue,xe=l[4].t("Search Base")+"",Ke,We,qe,_e,ue,ge,ke,Ee=l[4].t("Search Filters")+"",Be,rt,oe,Fe,le,se,lt,at=l[4].t("Click here for filter guides.")+"",nt,it,Ye,ze,ht,bt=l[4].t("TLS")+"",Et,dt,kt,st,Ae,Je,Ce,Qe,Ie;q=new Kt({props:{placement:"top-start",content:l[4].t("Default to 389 or 636 if TLS is enabled"),className:"w-full",$$slots:{default:[mu]},$$scope:{ctx:l}}}),J=new Kt({props:{content:l[4].t("The Application Account DN you bind with for search"),placement:"top-start",$$slots:{default:[gu]},$$scope:{ctx:l}}});function Ge(Te){l[22](Te)}let Mt={placeholder:l[4].t("Enter Application DN Password")};l[3].app_dn_password!==void 0&&(Mt.value=l[3].app_dn_password),ie=new El({props:Mt}),gt.push(()=>Tt(ie,"value",Ge)),ne=new Kt({props:{content:l[4].t("The LDAP attribute that maps to the username that users use to sign in."),placement:"top-start",$$slots:{default:[bu]},$$scope:{ctx:l}}}),qe=new Kt({props:{content:l[4].t("The base to search for users"),placement:"top-start",$$slots:{default:[Eu]},$$scope:{ctx:l}}});function Ot(Te){l[26](Te)}let Rt={};l[3].use_tls!==void 0&&(Rt.state=l[3].use_tls),st=new ml({props:Rt}),gt.push(()=>Tt(st,"state",Ot));let ut=l[3].use_tls&&en(l);return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),n=C(o),c=A(),u=d("input"),m=A(),p=d("div"),b=A(),g=d("div"),E=d("div"),w=d("div"),I=C(k),T=A(),y=d("input"),$=A(),M=d("div"),S=d("div"),P=C(L),N=A(),he(q.$$.fragment),j=A(),O=d("div"),G=d("div"),Z=d("div"),U=C(H),W=A(),he(J.$$.fragment),F=A(),z=d("div"),x=d("div"),ee=C(re),Q=A(),he(ie.$$.fragment),Le=A(),Re=d("div"),$e=d("div"),Me=d("div"),Pe=C(Oe),tt=A(),he(ne.$$.fragment),de=A(),Ve=d("div"),De=d("div"),Ue=d("div"),Ke=C(xe),We=A(),he(qe.$$.fragment),_e=A(),ue=d("div"),ge=d("div"),ke=d("div"),Be=C(Ee),rt=A(),oe=d("input"),le=A(),se=d("div"),lt=d("a"),nt=C(at),it=A(),Ye=d("div"),ze=d("div"),ht=d("div"),Et=C(bt),dt=A(),kt=d("div"),he(st.$$.fragment),Je=A(),ut&&ut.c(),this.h()},l(Te){e=_(Te,"DIV",{class:!0});var we=v(e);t=_(we,"DIV",{class:!0});var Bt=v(t);s=_(Bt,"DIV",{class:!0});var Dt=v(s);a=_(Dt,"DIV",{class:!0});var Vt=v(a);n=R(Vt,o),Vt.forEach(f),c=D(Dt),u=_(Dt,"INPUT",{class:!0,placeholder:!0}),Dt.forEach(f),m=D(Bt),p=_(Bt,"DIV",{class:!0}),v(p).forEach(f),Bt.forEach(f),b=D(we),g=_(we,"DIV",{class:!0});var Ht=v(g);E=_(Ht,"DIV",{class:!0});var At=v(E);w=_(At,"DIV",{class:!0});var Se=v(w);I=R(Se,k),Se.forEach(f),T=D(At),y=_(At,"INPUT",{class:!0,placeholder:!0}),At.forEach(f),$=D(Ht),M=_(Ht,"DIV",{class:!0});var ct=v(M);S=_(ct,"DIV",{class:!0});var vt=v(S);P=R(vt,L),vt.forEach(f),N=D(ct),pe(q.$$.fragment,ct),ct.forEach(f),Ht.forEach(f),j=D(we),O=_(we,"DIV",{class:!0});var Pt=v(O);G=_(Pt,"DIV",{class:!0});var _t=v(G);Z=_(_t,"DIV",{class:!0});var pt=v(Z);U=R(pt,H),pt.forEach(f),W=D(_t),pe(J.$$.fragment,_t),_t.forEach(f),F=D(Pt),z=_(Pt,"DIV",{class:!0});var Ft=v(z);x=_(Ft,"DIV",{class:!0});var He=v(x);ee=R(He,re),He.forEach(f),Q=D(Ft),pe(ie.$$.fragment,Ft),Ft.forEach(f),Pt.forEach(f),Le=D(we),Re=_(we,"DIV",{class:!0});var je=v(Re);$e=_(je,"DIV",{class:!0});var $t=v($e);Me=_($t,"DIV",{class:!0});var Ne=v(Me);Pe=R(Ne,Oe),Ne.forEach(f),tt=D($t),pe(ne.$$.fragment,$t),$t.forEach(f),je.forEach(f),de=D(we),Ve=_(we,"DIV",{class:!0});var be=v(Ve);De=_(be,"DIV",{class:!0});var Xe=v(De);Ue=_(Xe,"DIV",{class:!0});var ft=v(Ue);Ke=R(ft,xe),ft.forEach(f),We=D(Xe),pe(qe.$$.fragment,Xe),Xe.forEach(f),be.forEach(f),_e=D(we),ue=_(we,"DIV",{class:!0});var ce=v(ue);ge=_(ce,"DIV",{class:!0});var et=v(ge);ke=_(et,"DIV",{class:!0});var Nt=v(ke);Be=R(Nt,Ee),Nt.forEach(f),rt=D(et),oe=_(et,"INPUT",{class:!0,placeholder:!0}),et.forEach(f),ce.forEach(f),le=D(we),se=_(we,"DIV",{class:!0});var It=v(se);lt=_(It,"A",{class:!0,href:!0,target:!0});var Qt=v(lt);nt=R(Qt,at),Qt.forEach(f),It.forEach(f),it=D(we),Ye=_(we,"DIV",{});var jt=v(Ye);ze=_(jt,"DIV",{class:!0});var qt=v(ze);ht=_(qt,"DIV",{class:!0});var xt=v(ht);Et=R(xt,bt),xt.forEach(f),dt=D(qt),kt=_(qt,"DIV",{class:!0});var mt=v(kt);pe(st.$$.fragment,mt),mt.forEach(f),qt.forEach(f),Je=D(jt),ut&&ut.l(jt),jt.forEach(f),we.forEach(f),this.h()},h(){i(a,"class","self-center text-xs font-medium min-w-fit mb-1"),i(u,"class","w-full bg-transparent outline-none py-0.5"),u.required=!0,i(u,"placeholder",h=l[4].t("Enter server label")),i(s,"class","w-full"),i(p,"class","w-full"),i(t,"class","flex w-full gap-2"),i(w,"class","self-center text-xs font-medium min-w-fit mb-1"),i(y,"class","w-full bg-transparent outline-none py-0.5"),y.required=!0,i(y,"placeholder",V=l[4].t("Enter server host")),i(E,"class","w-full"),i(S,"class","self-center text-xs font-medium min-w-fit mb-1"),i(M,"class","w-full"),i(g,"class","flex w-full gap-2"),i(Z,"class","self-center text-xs font-medium min-w-fit mb-1"),i(G,"class","w-full"),i(x,"class","self-center text-xs font-medium min-w-fit mb-1"),i(z,"class","w-full"),i(O,"class","flex w-full gap-2"),i(Me,"class","self-center text-xs font-medium min-w-fit mb-1"),i($e,"class","w-full"),i(Re,"class","flex w-full gap-2"),i(Ue,"class","self-center text-xs font-medium min-w-fit mb-1"),i(De,"class","w-full"),i(Ve,"class","flex w-full gap-2"),i(ke,"class","self-center text-xs font-medium min-w-fit mb-1"),i(oe,"class","w-full bg-transparent outline-none py-0.5"),i(oe,"placeholder",Fe=l[4].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")),i(ge,"class","w-full"),i(ue,"class","flex w-full gap-2"),i(lt,"class","text-gray-300 font-medium underline"),i(lt,"href","https://ldap.com/ldap-filters/"),i(lt,"target","_blank"),i(se,"class","text-xs text-gray-400 dark:text-gray-500"),i(ht,"class","font-medium"),i(kt,"class","mt-1"),i(ze,"class","flex justify-between items-center text-sm"),i(e,"class","flex flex-col gap-1")},m(Te,we){B(Te,e,we),r(e,t),r(t,s),r(s,a),r(a,n),r(s,c),r(s,u),te(u,l[3].label),r(t,m),r(t,p),r(e,b),r(e,g),r(g,E),r(E,w),r(w,I),r(E,T),r(E,y),te(y,l[3].host),r(g,$),r(g,M),r(M,S),r(S,P),r(M,N),ve(q,M,null),r(e,j),r(e,O),r(O,G),r(G,Z),r(Z,U),r(G,W),ve(J,G,null),r(O,F),r(O,z),r(z,x),r(x,ee),r(z,Q),ve(ie,z,null),r(e,Le),r(e,Re),r(Re,$e),r($e,Me),r(Me,Pe),r($e,tt),ve(ne,$e,null),r(e,de),r(e,Ve),r(Ve,De),r(De,Ue),r(Ue,Ke),r(De,We),ve(qe,De,null),r(e,_e),r(e,ue),r(ue,ge),r(ge,ke),r(ke,Be),r(ge,rt),r(ge,oe),te(oe,l[3].search_filters),r(e,le),r(e,se),r(se,lt),r(lt,nt),r(e,it),r(e,Ye),r(Ye,ze),r(ze,ht),r(ht,Et),r(ze,dt),r(ze,kt),ve(st,kt,null),r(Ye,Je),ut&&ut.m(Ye,null),Ce=!0,Qe||(Ie=[ae(u,"input",l[18]),ae(y,"input",l[19]),ae(oe,"input",l[25])],Qe=!0)},p(Te,we){(!Ce||we[0]&16)&&o!==(o=Te[4].t("Label")+"")&&K(n,o),(!Ce||we[0]&16&&h!==(h=Te[4].t("Enter server label")))&&i(u,"placeholder",h),we[0]&8&&u.value!==Te[3].label&&te(u,Te[3].label),(!Ce||we[0]&16)&&k!==(k=Te[4].t("Host")+"")&&K(I,k),(!Ce||we[0]&16&&V!==(V=Te[4].t("Enter server host")))&&i(y,"placeholder",V),we[0]&8&&y.value!==Te[3].host&&te(y,Te[3].host),(!Ce||we[0]&16)&&L!==(L=Te[4].t("Port")+"")&&K(P,L);const Bt={};we[0]&16&&(Bt.content=Te[4].t("Default to 389 or 636 if TLS is enabled")),we[0]&24|we[1]&1&&(Bt.$$scope={dirty:we,ctx:Te}),q.$set(Bt),(!Ce||we[0]&16)&&H!==(H=Te[4].t("Application DN")+"")&&K(U,H);const Dt={};we[0]&16&&(Dt.content=Te[4].t("The Application Account DN you bind with for search")),we[0]&24|we[1]&1&&(Dt.$$scope={dirty:we,ctx:Te}),J.$set(Dt),(!Ce||we[0]&16)&&re!==(re=Te[4].t("Application DN Password")+"")&&K(ee,re);const Vt={};we[0]&16&&(Vt.placeholder=Te[4].t("Enter Application DN Password")),!fe&&we[0]&8&&(fe=!0,Vt.value=Te[3].app_dn_password,yt(()=>fe=!1)),ie.$set(Vt),(!Ce||we[0]&16)&&Oe!==(Oe=Te[4].t("Attribute for Username")+"")&&K(Pe,Oe);const Ht={};we[0]&16&&(Ht.content=Te[4].t("The LDAP attribute that maps to the username that users use to sign in.")),we[0]&24|we[1]&1&&(Ht.$$scope={dirty:we,ctx:Te}),ne.$set(Ht),(!Ce||we[0]&16)&&xe!==(xe=Te[4].t("Search Base")+"")&&K(Ke,xe);const At={};we[0]&16&&(At.content=Te[4].t("The base to search for users")),we[0]&24|we[1]&1&&(At.$$scope={dirty:we,ctx:Te}),qe.$set(At),(!Ce||we[0]&16)&&Ee!==(Ee=Te[4].t("Search Filters")+"")&&K(Be,Ee),(!Ce||we[0]&16&&Fe!==(Fe=Te[4].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")))&&i(oe,"placeholder",Fe),we[0]&8&&oe.value!==Te[3].search_filters&&te(oe,Te[3].search_filters),(!Ce||we[0]&16)&&at!==(at=Te[4].t("Click here for filter guides.")+"")&&K(nt,at),(!Ce||we[0]&16)&&bt!==(bt=Te[4].t("TLS")+"")&&K(Et,bt);const Se={};!Ae&&we[0]&8&&(Ae=!0,Se.state=Te[3].use_tls,yt(()=>Ae=!1)),st.$set(Se),Te[3].use_tls?ut?(ut.p(Te,we),we[0]&8&&Y(ut,1)):(ut=en(Te),ut.c(),Y(ut,1),ut.m(Ye,null)):ut&&(Lt(),X(ut,1,1,()=>{ut=null}),Ut())},i(Te){Ce||(Y(q.$$.fragment,Te),Y(J.$$.fragment,Te),Y(ie.$$.fragment,Te),Y(ne.$$.fragment,Te),Y(qe.$$.fragment,Te),Y(st.$$.fragment,Te),Y(ut),Ce=!0)},o(Te){X(q.$$.fragment,Te),X(J.$$.fragment,Te),X(ie.$$.fragment,Te),X(ne.$$.fragment,Te),X(qe.$$.fragment,Te),X(st.$$.fragment,Te),X(ut),Ce=!1},d(Te){Te&&f(e),me(q),me(J),me(ie),me(ne),me(qe),me(st),ut&&ut.d(),Qe=!1,Xt(Ie)}}}function mu(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full bg-transparent outline-none py-0.5"),i(e,"type","number"),i(e,"placeholder",t=l[4].t("Enter server port"))},m(o,n){B(o,e,n),te(e,l[3].port),s||(a=ae(e,"input",l[20]),s=!0)},p(o,n){n[0]&16&&t!==(t=o[4].t("Enter server port"))&&i(e,"placeholder",t),n[0]&8&&Dl(e.value)!==o[3].port&&te(e,o[3].port)},d(o){o&&f(e),s=!1,a()}}}function gu(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,i(e,"placeholder",t=l[4].t("Enter Application DN"))},m(o,n){B(o,e,n),te(e,l[3].app_dn),s||(a=ae(e,"input",l[21]),s=!0)},p(o,n){n[0]&16&&t!==(t=o[4].t("Enter Application DN"))&&i(e,"placeholder",t),n[0]&8&&e.value!==o[3].app_dn&&te(e,o[3].app_dn)},d(o){o&&f(e),s=!1,a()}}}function bu(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,i(e,"placeholder",t=l[4].t("Example: sAMAccountName or uid or userPrincipalName"))},m(o,n){B(o,e,n),te(e,l[3].attribute_for_username),s||(a=ae(e,"input",l[23]),s=!0)},p(o,n){n[0]&16&&t!==(t=o[4].t("Example: sAMAccountName or uid or userPrincipalName"))&&i(e,"placeholder",t),n[0]&8&&e.value!==o[3].attribute_for_username&&te(e,o[3].attribute_for_username)},d(o){o&&f(e),s=!1,a()}}}function Eu(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,i(e,"placeholder",t=l[4].t("Example: ou=users,dc=foo,dc=example"))},m(o,n){B(o,e,n),te(e,l[3].search_base),s||(a=ae(e,"input",l[24]),s=!0)},p(o,n){n[0]&16&&t!==(t=o[4].t("Example: ou=users,dc=foo,dc=example"))&&i(e,"placeholder",t),n[0]&8&&e.value!==o[3].search_base&&te(e,o[3].search_base)},d(o){o&&f(e),s=!1,a()}}}function en(l){let e,t,s,a=l[4].t("Certificate Path")+"",o,n,c,u,h,m,p,b,g=l[4].t("Ciphers")+"",E,w,k,I,T,y,V,$;return k=new Kt({props:{content:l[4].t("Default to ALL"),placement:"top-start",$$slots:{default:[wu]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("input"),h=A(),m=d("div"),p=d("div"),b=d("div"),E=C(g),w=A(),he(k.$$.fragment),I=A(),T=d("div"),this.h()},l(M){e=_(M,"DIV",{class:!0});var S=v(e);t=_(S,"DIV",{class:!0});var L=v(t);s=_(L,"DIV",{class:!0});var P=v(s);o=R(P,a),P.forEach(f),n=D(L),c=_(L,"INPUT",{class:!0,placeholder:!0}),L.forEach(f),S.forEach(f),h=D(M),m=_(M,"DIV",{class:!0});var N=v(m);p=_(N,"DIV",{class:!0});var q=v(p);b=_(q,"DIV",{class:!0});var j=v(b);E=R(j,g),j.forEach(f),w=D(q),pe(k.$$.fragment,q),q.forEach(f),I=D(N),T=_(N,"DIV",{class:!0}),v(T).forEach(f),N.forEach(f),this.h()},h(){i(s,"class","self-center text-xs font-medium min-w-fit mb-1 mt-1"),i(c,"class","w-full bg-transparent outline-none py-0.5"),c.required=!0,i(c,"placeholder",u=l[4].t("Enter certificate path")),i(t,"class","w-full"),i(e,"class","flex w-full gap-2"),i(b,"class","self-center text-xs font-medium min-w-fit mb-1"),i(p,"class","w-full"),i(T,"class","w-full"),i(m,"class","flex w-full gap-2")},m(M,S){B(M,e,S),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),te(c,l[3].certificate_path),B(M,h,S),B(M,m,S),r(m,p),r(p,b),r(b,E),r(p,w),ve(k,p,null),r(m,I),r(m,T),y=!0,V||($=ae(c,"input",l[27]),V=!0)},p(M,S){(!y||S[0]&16)&&a!==(a=M[4].t("Certificate Path")+"")&&K(o,a),(!y||S[0]&16&&u!==(u=M[4].t("Enter certificate path")))&&i(c,"placeholder",u),S[0]&8&&c.value!==M[3].certificate_path&&te(c,M[3].certificate_path),(!y||S[0]&16)&&g!==(g=M[4].t("Ciphers")+"")&&K(E,g);const L={};S[0]&16&&(L.content=M[4].t("Default to ALL")),S[0]&24|S[1]&1&&(L.$$scope={dirty:S,ctx:M}),k.$set(L)},i(M){y||(Y(k.$$.fragment,M),y=!0)},o(M){X(k.$$.fragment,M),y=!1},d(M){M&&(f(e),f(h),f(m)),me(k),V=!1,$()}}}function wu(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full bg-transparent outline-none py-0.5"),i(e,"placeholder",t=l[4].t("Example: ALL"))},m(o,n){B(o,e,n),te(e,l[3].ciphers),s||(a=ae(e,"input",l[28]),s=!0)},p(o,n){n[0]&16&&t!==(t=o[4].t("Example: ALL"))&&i(e,"placeholder",t),n[0]&8&&e.value!==o[3].ciphers&&te(e,o[3].ciphers)},d(o){o&&f(e),s=!1,a()}}}function ku(l){let e,t,s,a,o,n,c,u,h,m=l[4].t("LDAP")+"",p,b,g,E,w,k,I,T,y,V=l[4].t("Save")+"",$,M,S,L,P=l[0]!==null&&Xr(l);function N(O){l[16](O)}let q={};l[2]!==void 0&&(q.state=l[2]),E=new ml({props:q}),gt.push(()=>Tt(E,"state",N)),E.$on("change",l[17]);let j=l[2]&&xr(l);return{c(){e=d("form"),t=d("div"),P&&P.c(),s=A(),a=d("hr"),o=A(),n=d("div"),c=d("div"),u=d("div"),h=d("div"),p=C(m),b=A(),g=d("div"),he(E.$$.fragment),k=A(),j&&j.c(),I=A(),T=d("div"),y=d("button"),$=C(V),this.h()},l(O){e=_(O,"FORM",{class:!0});var G=v(e);t=_(G,"DIV",{class:!0});var Z=v(t);P&&P.l(Z),s=D(Z),a=_(Z,"HR",{class:!0}),o=D(Z),n=_(Z,"DIV",{class:!0});var H=v(n);c=_(H,"DIV",{class:!0});var U=v(c);u=_(U,"DIV",{class:!0});var W=v(u);h=_(W,"DIV",{class:!0});var J=v(h);p=R(J,m),J.forEach(f),b=D(W),g=_(W,"DIV",{class:!0});var F=v(g);pe(E.$$.fragment,F),F.forEach(f),W.forEach(f),k=D(U),j&&j.l(U),U.forEach(f),H.forEach(f),Z.forEach(f),I=D(G),T=_(G,"DIV",{class:!0});var z=v(T);y=_(z,"BUTTON",{class:!0,type:!0});var x=v(y);$=R(x,V),x.forEach(f),z.forEach(f),G.forEach(f),this.h()},h(){i(a,"class","border-gray-50 dark:border-gray-850"),i(h,"class","font-medium"),i(g,"class","mt-1"),i(u,"class","flex justify-between items-center text-sm"),i(c,"class","mt-2 space-y-2 pr-1.5"),i(n,"class","space-y-3"),i(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),i(y,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),i(y,"type","submit"),i(T,"class","flex justify-end pt-3 text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(O,G){B(O,e,G),r(e,t),P&&P.m(t,null),r(t,s),r(t,a),r(t,o),r(t,n),r(n,c),r(c,u),r(u,h),r(h,p),r(u,b),r(u,g),ve(E,g,null),r(c,k),j&&j.m(c,null),r(e,I),r(e,T),r(T,y),r(y,$),M=!0,S||(L=ae(e,"submit",jl(l[29])),S=!0)},p(O,G){O[0]!==null?P?(P.p(O,G),G[0]&1&&Y(P,1)):(P=Xr(O),P.c(),Y(P,1),P.m(t,s)):P&&(Lt(),X(P,1,1,()=>{P=null}),Ut()),(!M||G[0]&16)&&m!==(m=O[4].t("LDAP")+"")&&K(p,m);const Z={};!w&&G[0]&4&&(w=!0,Z.state=O[2],yt(()=>w=!1)),E.$set(Z),O[2]?j?(j.p(O,G),G[0]&4&&Y(j,1)):(j=xr(O),j.c(),Y(j,1),j.m(c,null)):j&&(Lt(),X(j,1,1,()=>{j=null}),Ut()),(!M||G[0]&16)&&V!==(V=O[4].t("Save")+"")&&K($,V)},i(O){M||(Y(P),Y(E.$$.fragment,O),Y(j),M=!0)},o(O){X(P),X(E.$$.fragment,O),X(j),M=!1},d(O){O&&f(e),P&&P.d(),me(E),j&&j.d(),S=!1,L()}}}function Iu(l,e,t){let s;const a=yl("i18n");sl(l,a,W=>t(4,s=W));let{saveHandler:o}=e,n=null,c="",u=!1,h={label:"",host:"",port:"",attribute_for_username:"uid",app_dn:"",app_dn_password:"",search_base:"",search_filters:"",use_tls:!1,certificate_path:"",ciphers:""};const m=async()=>{if(!u)return;await $o(localStorage.token,h).catch(J=>(Ze.error(J),null))&&Ze.success(s.t("LDAP server updated"))},p=async()=>{t(1,c=await no(localStorage.token,c));const W=await Vo(localStorage.token,n);await m(),W?o():Ze.error(a.t("Failed to update settings"))};Ul(async()=>{await Promise.all([(async()=>{t(0,n=await To(localStorage.token))})(),(async()=>{t(1,c=await ro(localStorage.token))})(),(async()=>{t(3,h=await Ao(localStorage.token))})()]);const W=await Do(localStorage.token);t(2,u=W.ENABLE_LDAP)});function b(W){l.$$.not_equal(n.ENABLE_SIGNUP,W)&&(n.ENABLE_SIGNUP=W,t(0,n))}function g(){n.DEFAULT_USER_ROLE=wl(this),t(0,n)}function E(W){l.$$.not_equal(n.ENABLE_API_KEY,W)&&(n.ENABLE_API_KEY=W,t(0,n))}function w(W){l.$$.not_equal(n.SHOW_ADMIN_DETAILS,W)&&(n.SHOW_ADMIN_DETAILS=W,t(0,n))}function k(W){l.$$.not_equal(n.ENABLE_COMMUNITY_SHARING,W)&&(n.ENABLE_COMMUNITY_SHARING=W,t(0,n))}function I(W){l.$$.not_equal(n.ENABLE_MESSAGE_RATING,W)&&(n.ENABLE_MESSAGE_RATING=W,t(0,n))}function T(){n.JWT_EXPIRES_IN=this.value,t(0,n)}function y(){c=this.value,t(1,c)}function V(W){u=W,t(2,u)}const $=async()=>{So(localStorage.token,u)};function M(){h.label=this.value,t(3,h)}function S(){h.host=this.value,t(3,h)}function L(){h.port=Dl(this.value),t(3,h)}function P(){h.app_dn=this.value,t(3,h)}function N(W){l.$$.not_equal(h.app_dn_password,W)&&(h.app_dn_password=W,t(3,h))}function q(){h.attribute_for_username=this.value,t(3,h)}function j(){h.search_base=this.value,t(3,h)}function O(){h.search_filters=this.value,t(3,h)}function G(W){l.$$.not_equal(h.use_tls,W)&&(h.use_tls=W,t(3,h))}function Z(){h.certificate_path=this.value,t(3,h)}function H(){h.ciphers=this.value,t(3,h)}const U=async()=>{p()};return l.$$set=W=>{"saveHandler"in W&&t(7,o=W.saveHandler)},[n,c,u,h,s,a,p,o,b,g,E,w,k,I,T,y,V,$,M,S,L,P,N,q,j,O,G,Z,H,U]}class yu extends fl{constructor(e){super(),cl(this,e,Iu,ku,ul,{saveHandler:7},null,[-1,-1])}}function tn(l,e,t){const s=l.slice();return s[34]=e[t],s[35]=e,s[36]=t,s}function ln(l,e,t){const s=l.slice();return s[37]=e[t],s}function sn(l,e,t){const s=l.slice();return s[40]=e[t],s[36]=t,s}function an(l,e,t){const s=l.slice();return s[10]=e[t],s[36]=t,s}function Tu(l){let e,t,s,a;return s=new ms({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),he(s.$$.fragment),this.h()},l(o){e=_(o,"DIV",{class:!0});var n=v(e);t=_(n,"DIV",{class:!0});var c=v(t);pe(s.$$.fragment,c),c.forEach(f),n.forEach(f),this.h()},h(){i(t,"class","my-auto"),i(e,"class","flex justify-center h-full")},m(o,n){B(o,e,n),r(e,t),ve(s,t,null),a=!0},p:wt,i(o){a||(Y(s.$$.fragment,o),a=!0)},o(o){X(s.$$.fragment,o),a=!1},d(o){o&&f(e),me(s)}}}function Au(l){let e,t,s=l[9].t("Manage Pipelines")+"",a,o,n,c,u,h;const m=[Vu,Du],p=[];function b(g,E){return g[3].length>0?0:1}return n=b(l),c=p[n]=m[n](l),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),c.c(),u=tl(),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a=R(w,s),w.forEach(f),E.forEach(f),o=D(g),c.l(g),u=tl(),this.h()},h(){i(t,"class","self-center text-sm font-semibold"),i(e,"class","flex w-full justify-between mb-2")},m(g,E){B(g,e,E),r(e,t),r(t,a),B(g,o,E),p[n].m(g,E),B(g,u,E),h=!0},p(g,E){(!h||E[0]&512)&&s!==(s=g[9].t("Manage Pipelines")+"")&&K(a,s);let w=n;n=b(g),n===w?p[n].p(g,E):(Lt(),X(p[w],1,1,()=>{p[w]=null}),Ut(),c=p[n],c?c.p(g,E):(c=p[n]=m[n](g),c.c()),Y(c,1),c.m(u.parentNode,u))},i(g){h||(Y(c),h=!0)},o(g){X(c),h=!1},d(g){g&&(f(e),f(o),f(u)),p[n].d(g)}}}function Du(l){let e,t=l[9].t("Pipelines Not Detected")+"",s;return{c(){e=d("div"),s=C(t)},l(a){e=_(a,"DIV",{});var o=v(e);s=R(o,t),o.forEach(f)},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&K(s,t)},i:wt,o:wt,d(a){a&&f(e)}}}function Vu(l){let e,t,s,a,o,n=l[9].t("Select a pipeline url")+"",c,u,h,m,p,b=l[9].t("Upload Pipeline")+"",g,E,w,k,I,T,y,V,$,M,S,L,P=l[9].t("Install from Github URL")+"",N,q,j,O,G,Z,H,U,W,J,F=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution —
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,z,x,re,ee,Q,ie,fe,Le,Re,$e=St(l[3]),Me=[];for(let _e=0;_e<$e.length;_e+=1)Me[_e]=rn(an(l,$e,_e));function Oe(_e,ue){return _e[2]?$u:Su}let Pe=Oe(l),tt=Pe(l);function ne(_e,ue){return _e[1]?Nu:Mu}let de=ne(l),Ve=de(l);function De(_e,ue){return _e[0]?Pu:Ou}let Ue=De(l),xe=Ue(l);const Ke=[Uu,Lu],We=[];function qe(_e,ue){return _e[10]!==null?0:1}return ee=qe(l),Q=We[ee]=Ke[ee](l),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("select"),o=d("option"),c=C(n);for(let _e=0;_e<Me.length;_e+=1)Me[_e].c();h=A(),m=d("div"),p=d("div"),g=C(b),E=A(),w=d("div"),k=d("div"),I=d("input"),T=A(),y=d("button"),tt.c(),V=A(),$=d("button"),Ve.c(),M=A(),S=d("div"),L=d("div"),N=C(P),q=A(),j=d("div"),O=d("div"),G=d("input"),H=A(),U=d("button"),xe.c(),W=A(),J=d("div"),J.innerHTML=F,z=A(),x=d("hr"),re=A(),Q.c(),ie=tl(),this.h()},l(_e){e=_(_e,"DIV",{class:!0});var ue=v(e);t=_(ue,"DIV",{class:!0});var ge=v(t);s=_(ge,"DIV",{class:!0});var ke=v(s);a=_(ke,"SELECT",{class:!0,placeholder:!0});var Ee=v(a);o=_(Ee,"OPTION",{class:!0});var Be=v(o);c=R(Be,n),Be.forEach(f);for(let ht=0;ht<Me.length;ht+=1)Me[ht].l(Ee);Ee.forEach(f),ke.forEach(f),ge.forEach(f),ue.forEach(f),h=D(_e),m=_(_e,"DIV",{class:!0});var rt=v(m);p=_(rt,"DIV",{class:!0});var oe=v(p);g=R(oe,b),oe.forEach(f),E=D(rt),w=_(rt,"DIV",{class:!0});var Fe=v(w);k=_(Fe,"DIV",{class:!0});var le=v(k);I=_(le,"INPUT",{id:!0,type:!0,accept:!0}),T=D(le),y=_(le,"BUTTON",{class:!0,type:!0});var se=v(y);tt.l(se),se.forEach(f),le.forEach(f),V=D(Fe),$=_(Fe,"BUTTON",{class:!0,type:!0});var lt=v($);Ve.l(lt),lt.forEach(f),Fe.forEach(f),rt.forEach(f),M=D(_e),S=_(_e,"DIV",{class:!0});var at=v(S);L=_(at,"DIV",{class:!0});var nt=v(L);N=R(nt,P),nt.forEach(f),q=D(at),j=_(at,"DIV",{class:!0});var it=v(j);O=_(it,"DIV",{class:!0});var Ye=v(O);G=_(Ye,"INPUT",{class:!0,placeholder:!0}),Ye.forEach(f),H=D(it),U=_(it,"BUTTON",{class:!0,type:!0});var ze=v(U);xe.l(ze),ze.forEach(f),it.forEach(f),W=D(at),J=_(at,"DIV",{class:!0,"data-svelte-h":!0}),Ct(J)!=="svelte-ob7r3n"&&(J.innerHTML=F),at.forEach(f),z=D(_e),x=_(_e,"HR",{class:!0}),re=D(_e),Q.l(_e),ie=tl(),this.h()},h(){o.__value="",te(o,o.__value),o.selected=!0,o.disabled=!0,i(o,"class","bg-gray-100 dark:bg-gray-700"),i(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(a,"placeholder",u=l[9].t("Select a pipeline url")),l[4]===void 0&&Il(()=>l[19].call(a)),i(s,"class","flex-1"),i(t,"class","flex gap-2"),i(e,"class","space-y-1"),i(p,"class","mb-2 text-sm font-medium"),i(I,"id","pipelines-upload-input"),i(I,"type","file"),i(I,"accept",".py"),I.hidden=!0,i(y,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),i(y,"type","button"),i(k,"class","flex-1 mr-2"),i($,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),$.disabled=l[1],i($,"type","button"),i(w,"class","flex w-full"),i(m,"class","my-2"),i(L,"class","mb-2 text-sm font-medium"),i(G,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(G,"placeholder",Z=l[9].t("Enter Github Raw URL")),i(O,"class","flex-1 mr-2"),i(U,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),U.disabled=l[0],i(U,"type","button"),i(j,"class","flex w-full"),i(J,"class","mt-2 text-xs text-gray-500"),i(S,"class","my-2"),i(x,"class","dark:border-gray-800 my-3 w-full")},m(_e,ue){B(_e,e,ue),r(e,t),r(t,s),r(s,a),r(a,o),r(o,c);for(let ge=0;ge<Me.length;ge+=1)Me[ge]&&Me[ge].m(a,null);Yt(a,l[4],!0),B(_e,h,ue),B(_e,m,ue),r(m,p),r(p,g),r(m,E),r(m,w),r(w,k),r(k,I),r(k,T),r(k,y),tt.m(y,null),r(w,V),r(w,$),Ve.m($,null),B(_e,M,ue),B(_e,S,ue),r(S,L),r(L,N),r(S,q),r(S,j),r(j,O),r(O,G),te(G,l[8]),r(j,H),r(j,U),xe.m(U,null),r(S,W),r(S,J),B(_e,z,ue),B(_e,x,ue),B(_e,re,ue),We[ee].m(_e,ue),B(_e,ie,ue),fe=!0,Le||(Re=[ae(a,"change",l[19]),ae(a,"change",l[20]),ae(I,"change",l[21]),ae(y,"click",l[22]),ae($,"click",l[23]),ae(G,"input",l[24]),ae(U,"click",l[25])],Le=!0)},p(_e,ue){if((!fe||ue[0]&512)&&n!==(n=_e[9].t("Select a pipeline url")+"")&&K(c,n),ue[0]&8){$e=St(_e[3]);let ke;for(ke=0;ke<$e.length;ke+=1){const Ee=an(_e,$e,ke);Me[ke]?Me[ke].p(Ee,ue):(Me[ke]=rn(Ee),Me[ke].c(),Me[ke].m(a,null))}for(;ke<Me.length;ke+=1)Me[ke].d(1);Me.length=$e.length}(!fe||ue[0]&512&&u!==(u=_e[9].t("Select a pipeline url")))&&i(a,"placeholder",u),ue[0]&24&&Yt(a,_e[4]),(!fe||ue[0]&512)&&b!==(b=_e[9].t("Upload Pipeline")+"")&&K(g,b),Pe===(Pe=Oe(_e))&&tt?tt.p(_e,ue):(tt.d(1),tt=Pe(_e),tt&&(tt.c(),tt.m(y,null))),de!==(de=ne(_e))&&(Ve.d(1),Ve=de(_e),Ve&&(Ve.c(),Ve.m($,null))),(!fe||ue[0]&2)&&($.disabled=_e[1]),(!fe||ue[0]&512)&&P!==(P=_e[9].t("Install from Github URL")+"")&&K(N,P),(!fe||ue[0]&512&&Z!==(Z=_e[9].t("Enter Github Raw URL")))&&i(G,"placeholder",Z),ue[0]&256&&G.value!==_e[8]&&te(G,_e[8]),Ue!==(Ue=De(_e))&&(xe.d(1),xe=Ue(_e),xe&&(xe.c(),xe.m(U,null))),(!fe||ue[0]&1)&&(U.disabled=_e[0]);let ge=ee;ee=qe(_e),ee===ge?We[ee].p(_e,ue):(Lt(),X(We[ge],1,1,()=>{We[ge]=null}),Ut(),Q=We[ee],Q?Q.p(_e,ue):(Q=We[ee]=Ke[ee](_e),Q.c()),Y(Q,1),Q.m(ie.parentNode,ie))},i(_e){fe||(Y(Q),fe=!0)},o(_e){X(Q),fe=!1},d(_e){_e&&(f(e),f(h),f(m),f(M),f(S),f(z),f(x),f(re),f(ie)),ll(Me,_e),tt.d(),Ve.d(),xe.d(),We[ee].d(_e),Le=!1,Xt(Re)}}}function rn(l){let e,t=l[10].url+"",s,a;return{c(){e=d("option"),s=C(t),this.h()},l(o){e=_(o,"OPTION",{class:!0});var n=v(e);s=R(n,t),n.forEach(f),this.h()},h(){e.__value=a=l[10].idx.toString(),te(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,n){B(o,e,n),r(e,s)},p(o,n){n[0]&8&&t!==(t=o[10].url+"")&&K(s,t),n[0]&8&&a!==(a=o[10].idx.toString())&&(e.__value=a,te(e,e.__value))},d(o){o&&f(e)}}}function Su(l){let e=l[9].t("Click here to select a py file.")+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&512&&e!==(e=s[9].t("Click here to select a py file.")+"")&&K(t,e)},d(s){s&&f(t)}}}function $u(l){let e=l[2].length>0?`${l[2].length}`:"",t,s;return{c(){t=C(e),s=C(" pipeline(s) selected.")},l(a){t=R(a,e),s=R(a," pipeline(s) selected.")},m(a,o){B(a,t,o),B(a,s,o)},p(a,o){o[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&K(t,e)},d(a){a&&(f(t),f(s))}}}function Mu(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=v(e);t=Zt(o,"path",{d:!0}),v(t).forEach(f),s=Zt(o,"path",{d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),i(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","size-4")},m(a,o){B(a,e,o),r(e,t),r(e,s)},d(a){a&&f(e)}}}function Nu(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function Ou(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=v(e);t=Zt(o,"path",{d:!0}),v(t).forEach(f),s=Zt(o,"path",{d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),i(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","w-4 h-4")},m(a,o){B(a,e,o),r(e,t),r(e,s)},d(a){a&&f(e)}}}function Pu(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function Lu(l){let e,t,s,a;return s=new ms({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),he(s.$$.fragment),this.h()},l(o){e=_(o,"DIV",{class:!0});var n=v(e);t=_(n,"DIV",{class:!0});var c=v(t);pe(s.$$.fragment,c),c.forEach(f),n.forEach(f),this.h()},h(){i(t,"class","my-auto"),i(e,"class","flex justify-center")},m(o,n){B(o,e,n),r(e,t),ve(s,t,null),a=!0},p:wt,i(o){a||(Y(s.$$.fragment,o),a=!0)},o(o){X(s.$$.fragment,o),a=!1},d(o){o&&f(e),me(s)}}}function Uu(l){let e,t,s,a;const o=[Ru,Cu],n=[];function c(u,h){return u[10].length>0?0:u[10].length===0?1:-1}return~(e=c(l))&&(t=n[e]=o[e](l)),{c(){t&&t.c(),s=tl()},l(u){t&&t.l(u),s=tl()},m(u,h){~e&&n[e].m(u,h),B(u,s,h),a=!0},p(u,h){let m=e;e=c(u),e===m?~e&&n[e].p(u,h):(t&&(Lt(),X(n[m],1,1,()=>{n[m]=null}),Ut()),~e?(t=n[e],t?t.p(u,h):(t=n[e]=o[e](u),t.c()),Y(t,1),t.m(s.parentNode,s)):t=null)},i(u){a||(Y(t),a=!0)},o(u){X(t),a=!1},d(u){u&&f(s),~e&&n[e].d(u)}}}function Cu(l){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(s){e=_(s,"DIV",{"data-svelte-h":!0}),Ct(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(s,a){B(s,e,a)},p:wt,i:wt,o:wt,d(s){s&&f(e)}}}function Ru(l){let e,t,s=l[9].t("Pipelines Valves")+"",a,o,n,c,u,h,m,p,b=l[10].length>0&&nn(l);const g=[Hu,Bu],E=[];function w(k,I){return k[10][k[7]].valves?0:1}return h=w(l),m=E[h]=g[h](l),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),b&&b.c(),c=A(),u=d("div"),m.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var T=v(t);a=R(T,s),T.forEach(f),I.forEach(f),o=D(k),n=_(k,"DIV",{class:!0});var y=v(n);b&&b.l(y),c=D(y),u=_(y,"DIV",{class:!0});var V=v(u);m.l(V),V.forEach(f),y.forEach(f),this.h()},h(){i(t,"class","self-center text-sm font-semibold"),i(e,"class","flex w-full justify-between mb-2"),i(u,"class","space-y-1"),i(n,"class","space-y-1")},m(k,I){B(k,e,I),r(e,t),r(t,a),B(k,o,I),B(k,n,I),b&&b.m(n,null),r(n,c),r(n,u),E[h].m(u,null),p=!0},p(k,I){(!p||I[0]&512)&&s!==(s=k[9].t("Pipelines Valves")+"")&&K(a,s),k[10].length>0?b?b.p(k,I):(b=nn(k),b.c(),b.m(n,c)):b&&(b.d(1),b=null);let T=h;h=w(k),h===T?E[h].p(k,I):(Lt(),X(E[T],1,1,()=>{E[T]=null}),Ut(),m=E[h],m?m.p(k,I):(m=E[h]=g[h](k),m.c()),Y(m,1),m.m(u,null))},i(k){p||(Y(m),p=!0)},o(k){X(m),p=!1},d(k){k&&(f(e),f(o),f(n)),b&&b.d(),E[h].d()}}}function nn(l){let e,t,s,a,o,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',u,h,m=St(l[10]),p=[];for(let b=0;b<m.length;b+=1)p[b]=on(sn(l,m,b));return{c(){e=d("div"),t=d("div"),s=d("select");for(let b=0;b<p.length;b+=1)p[b].c();o=A(),n=d("button"),n.innerHTML=c,this.h()},l(b){e=_(b,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);s=_(E,"SELECT",{class:!0,placeholder:!0});var w=v(s);for(let k=0;k<p.length;k+=1)p[k].l(w);w.forEach(f),E.forEach(f),o=D(g),n=_(g,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(n)!=="svelte-121ij38"&&(n.innerHTML=c),g.forEach(f),this.h()},h(){i(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(s,"placeholder",a=l[9].t("Select a pipeline")),l[7]===void 0&&Il(()=>l[26].call(s)),i(t,"class","flex-1"),i(n,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),i(n,"type","button"),i(e,"class","flex gap-2")},m(b,g){B(b,e,g),r(e,t),r(t,s);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(s,null);Yt(s,l[7],!0),r(e,o),r(e,n),u||(h=[ae(s,"change",l[26]),ae(s,"change",l[27]),ae(n,"click",l[28])],u=!0)},p(b,g){if(g[0]&1024){m=St(b[10]);let E;for(E=0;E<m.length;E+=1){const w=sn(b,m,E);p[E]?p[E].p(w,g):(p[E]=on(w),p[E].c(),p[E].m(s,null))}for(;E<p.length;E+=1)p[E].d(1);p.length=m.length}g[0]&512&&a!==(a=b[9].t("Select a pipeline"))&&i(s,"placeholder",a),g[0]&128&&Yt(s,b[7])},d(b){b&&f(e),ll(p,b),u=!1,Xt(h)}}}function on(l){let e,t=l[40].name+"",s,a,o=(l[40].type??"pipe")+"",n,c;return{c(){e=d("option"),s=C(t),a=C(" ("),n=C(o),c=C(")"),this.h()},l(u){e=_(u,"OPTION",{class:!0});var h=v(e);s=R(h,t),a=R(h," ("),n=R(h,o),c=R(h,")"),h.forEach(f),this.h()},h(){e.__value=l[36],te(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,h){B(u,e,h),r(e,s),r(e,a),r(e,n),r(e,c)},p(u,h){h[0]&1024&&t!==(t=u[40].name+"")&&K(s,t),h[0]&1024&&o!==(o=(u[40].type??"pipe")+"")&&K(n,o)},d(u){u&&f(e)}}}function Bu(l){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(s){e=_(s,"DIV",{"data-svelte-h":!0}),Ct(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(s,a){B(s,e,a)},p:wt,i:wt,o:wt,d(s){s&&f(e)}}}function Hu(l){let e,t,s,a;const o=[Gu,ju],n=[];function c(u,h){return u[5]?0:1}return e=c(l),t=n[e]=o[e](l),{c(){t.c(),s=tl()},l(u){t.l(u),s=tl()},m(u,h){n[e].m(u,h),B(u,s,h),a=!0},p(u,h){let m=e;e=c(u),e===m?n[e].p(u,h):(Lt(),X(n[m],1,1,()=>{n[m]=null}),Ut(),t=n[e],t?t.p(u,h):(t=n[e]=o[e](u),t.c()),Y(t,1),t.m(s.parentNode,s))},i(u){a||(Y(t),a=!0)},o(u){X(t),a=!1},d(u){u&&f(s),n[e].d(u)}}}function ju(l){let e,t;return e=new ms({props:{className:"size-5"}}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function Gu(l){let e,t,s=St(Object.keys(l[6].properties)),a=[];for(let n=0;n<s.length;n+=1)a[n]=cn(tn(l,s,n));const o=n=>X(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=tl()},l(n){for(let c=0;c<a.length;c+=1)a[c].l(n);e=tl()},m(n,c){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(n,c);B(n,e,c),t=!0},p(n,c){if(c[0]&608){s=St(Object.keys(n[6].properties));let u;for(u=0;u<s.length;u+=1){const h=tn(n,s,u);a[u]?(a[u].p(h,c),Y(a[u],1)):(a[u]=cn(h),a[u].c(),Y(a[u],1),a[u].m(e.parentNode,e))}for(Lt(),u=s.length;u<a.length;u+=1)o(u);Ut()}},i(n){if(!t){for(let c=0;c<s.length;c+=1)Y(a[c]);t=!0}},o(n){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)X(a[c]);t=!1},d(n){n&&f(e),ll(a,n)}}}function Zu(l){let e,t=l[9].t("Custom")+"",s;return{c(){e=d("span"),s=C(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&512&&t!==(t=a[9].t("Custom")+"")&&K(s,t)},d(a){a&&f(e)}}}function Ku(l){let e,t=l[9].t("None")+"",s;return{c(){e=d("span"),s=C(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&512&&t!==(t=a[9].t("None")+"")&&K(s,t)},d(a){a&&f(e)}}}function un(l){let e,t,s,a,o;const n=[Fu,Wu,qu],c=[];function u(h,m){var p,b;return((p=h[6].properties[h[34]])==null?void 0:p.enum)??null?0:(((b=h[6].properties[h[34]])==null?void 0:b.type)??null)==="boolean"?1:2}return s=u(l),a=c[s]=n[s](l),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var m=v(e);t=_(m,"DIV",{class:!0});var p=v(t);a.l(p),p.forEach(f),m.forEach(f),this.h()},h(){i(t,"class","flex-1"),i(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(h,m){B(h,e,m),r(e,t),c[s].m(t,null),o=!0},p(h,m){let p=s;s=u(h),s===p?c[s].p(h,m):(Lt(),X(c[p],1,1,()=>{c[p]=null}),Ut(),a=c[s],a?a.p(h,m):(a=c[s]=n[s](h),a.c()),Y(a,1),a.m(t,null))},i(h){o||(Y(a),o=!0)},o(h){X(a),o=!1},d(h){h&&f(e),c[s].d()}}}function qu(l){let e,t,s,a;function o(){l[32].call(e,l[34])}return{c(){e=d("input"),this.h()},l(n){e=_(n,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){i(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"type","text"),i(e,"placeholder",t=l[6].properties[l[34]].title),i(e,"autocomplete","off"),e.required=!0},m(n,c){B(n,e,c),te(e,l[5][l[34]]),s||(a=ae(e,"input",o),s=!0)},p(n,c){l=n,c[0]&64&&t!==(t=l[6].properties[l[34]].title)&&i(e,"placeholder",t),c[0]&96&&e.value!==l[5][l[34]]&&te(e,l[5][l[34]])},i:wt,o:wt,d(n){n&&f(e),s=!1,a()}}}function Wu(l){let e,t,s=l[5][l[34]]?"Enabled":"Disabled",a,o,n,c,u,h;function m(b){l[31](b,l[34])}let p={};return l[5][l[34]]!==void 0&&(p.state=l[5][l[34]]),c=new ml({props:p}),gt.push(()=>Tt(c,"state",m)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),he(c.$$.fragment),this.h()},l(b){e=_(b,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=R(E,s),E.forEach(f),o=D(g),n=_(g,"DIV",{class:!0});var w=v(n);pe(c.$$.fragment,w),w.forEach(f),g.forEach(f),this.h()},h(){i(t,"class","text-xs text-gray-500"),i(n,"class","pr-2"),i(e,"class","flex justify-between items-center")},m(b,g){B(b,e,g),r(e,t),r(t,a),r(e,o),r(e,n),ve(c,n,null),h=!0},p(b,g){l=b,(!h||g[0]&96)&&s!==(s=l[5][l[34]]?"Enabled":"Disabled")&&K(a,s);const E={};!u&&g[0]&96&&(u=!0,E.state=l[5][l[34]],yt(()=>u=!1)),c.$set(E)},i(b){h||(Y(c.$$.fragment,b),h=!0)},o(b){X(c.$$.fragment,b),h=!1},d(b){b&&f(e),me(c)}}}function Fu(l){let e,t,s,a=St(l[6].properties[l[34]].enum),o=[];for(let c=0;c<a.length;c+=1)o[c]=fn(ln(l,a,c));function n(){l[30].call(e,l[34])}return{c(){e=d("select");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=_(c,"SELECT",{class:!0});var u=v(e);for(let h=0;h<o.length;h+=1)o[h].l(u);u.forEach(f),this.h()},h(){i(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),l[5][l[34]]===void 0&&Il(n)},m(c,u){B(c,e,u);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);Yt(e,l[5][l[34]],!0),t||(s=ae(e,"change",n),t=!0)},p(c,u){if(l=c,u[0]&96){a=St(l[6].properties[l[34]].enum);let h;for(h=0;h<a.length;h+=1){const m=ln(l,a,h);o[h]?o[h].p(m,u):(o[h]=fn(m),o[h].c(),o[h].m(e,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=a.length}u[0]&96&&Yt(e,l[5][l[34]])},i:wt,o:wt,d(c){c&&f(e),ll(o,c),t=!1,s()}}}function fn(l){let e,t=l[37]+"",s,a,o,n;return{c(){e=d("option"),s=C(t),a=A(),this.h()},l(c){e=_(c,"OPTION",{});var u=v(e);s=R(u,t),a=D(u),u.forEach(f),this.h()},h(){e.__value=o=l[37],te(e,e.__value),e.selected=n=l[37]===l[5][l[34]]},m(c,u){B(c,e,u),r(e,s),r(e,a)},p(c,u){u[0]&64&&t!==(t=c[37]+"")&&K(s,t),u[0]&64&&o!==(o=c[37])&&(e.__value=o,te(e,e.__value)),u[0]&96&&n!==(n=c[37]===c[5][c[34]])&&(e.selected=n)},d(c){c&&f(e)}}}function cn(l){let e,t,s,a=l[6].properties[l[34]].title+"",o,n,c,u,h,m,p,b;function g(T,y){return(T[5][T[34]]??null)===null?Ku:Zu}let E=g(l),w=E(l);function k(){return l[29](l[34])}let I=(l[5][l[34]]??null)!==null&&un(l);return{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("button"),w.c(),u=A(),I&&I.c(),h=A(),this.h()},l(T){e=_(T,"DIV",{class:!0});var y=v(e);t=_(y,"DIV",{class:!0});var V=v(t);s=_(V,"DIV",{class:!0});var $=v(s);o=R($,a),$.forEach(f),n=D(V),c=_(V,"BUTTON",{class:!0,type:!0});var M=v(c);w.l(M),M.forEach(f),V.forEach(f),u=D(y),I&&I.l(y),h=D(y),y.forEach(f),this.h()},h(){i(s,"class","self-center text-xs font-medium"),i(c,"class","p-1 px-3 text-xs flex rounded transition"),i(c,"type","button"),i(t,"class","flex w-full justify-between"),i(e,"class","py-0.5 w-full justify-between")},m(T,y){B(T,e,y),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),w.m(c,null),r(e,u),I&&I.m(e,null),r(e,h),m=!0,p||(b=ae(c,"click",k),p=!0)},p(T,y){l=T,(!m||y[0]&64)&&a!==(a=l[6].properties[l[34]].title+"")&&K(o,a),E===(E=g(l))&&w?w.p(l,y):(w.d(1),w=E(l),w&&(w.c(),w.m(c,null))),(l[5][l[34]]??null)!==null?I?(I.p(l,y),y[0]&96&&Y(I,1)):(I=un(l),I.c(),Y(I,1),I.m(e,h)):I&&(Lt(),X(I,1,1,()=>{I=null}),Ut())},i(T){m||(Y(I),m=!0)},o(T){X(I),m=!1},d(T){T&&f(e),w.d(),I&&I.d(),p=!1,b()}}}function dn(l){let e,t,s=l[9].t("Save")+"",a;return{c(){e=d("div"),t=d("button"),a=C(s),this.h()},l(o){e=_(o,"DIV",{class:!0});var n=v(e);t=_(n,"BUTTON",{class:!0,type:!0});var c=v(t);a=R(c,s),c.forEach(f),n.forEach(f),this.h()},h(){i(t,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),i(t,"type","submit"),i(e,"class","flex justify-end pt-3 text-sm font-medium")},m(o,n){B(o,e,n),r(e,t),r(t,a)},p(o,n){n[0]&512&&s!==(s=o[9].t("Save")+"")&&K(a,s)},d(o){o&&f(e)}}}function zu(l){let e,t,s,a,o,n,c,u;const h=[Au,Tu],m=[];function p(g,E){return g[3]!==null?0:1}s=p(l),a=m[s]=h[s](l);let b=l[3]!==null&&l[3].length>0&&dn(l);return{c(){e=d("form"),t=d("div"),a.c(),o=A(),b&&b.c(),this.h()},l(g){e=_(g,"FORM",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a.l(w),w.forEach(f),o=D(E),b&&b.l(E),E.forEach(f),this.h()},h(){i(t,"class","overflow-y-scroll scrollbar-hidden h-full"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(g,E){B(g,e,E),r(e,t),m[s].m(t,null),r(e,o),b&&b.m(e,null),n=!0,c||(u=ae(e,"submit",jl(l[33])),c=!0)},p(g,E){let w=s;s=p(g),s===w?m[s].p(g,E):(Lt(),X(m[w],1,1,()=>{m[w]=null}),Ut(),a=m[s],a?a.p(g,E):(a=m[s]=h[s](g),a.c()),Y(a,1),a.m(t,null)),g[3]!==null&&g[3].length>0?b?b.p(g,E):(b=dn(g),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i(g){n||(Y(a),n=!0)},o(g){X(a),n=!1},d(g){g&&f(e),m[s].d(),b&&b.d(),c=!1,u()}}}function Yu(l,e,t){let s;const a=yl("i18n");sl(l,a,z=>t(9,s=z));let{saveHandler:o}=e,n=!1,c=!1,u,h=null,m="",p=null,b=null,g=null,E=null,w="";const k=async()=>{var x;const z=p[E];if(z&&((z==null?void 0:z.valves)??!1)){for(const ee in g.properties)((x=g.properties[ee])==null?void 0:x.type)==="array"&&t(5,b[ee]=b[ee].split(",").map(Q=>Q.trim()),b);await oo(localStorage.token,z.id,b,m).catch(ee=>{Ze.error(ee)})&&(Ze.success(s.t("Valves updated successfully")),T(),kl.set(await Pl(localStorage.token)),o())}else Ze.error(s.t("No valves to update"))},I=async z=>{var x;t(5,b=null),t(6,g=null),t(6,g=await uo(localStorage.token,p[z].id,m)),t(5,b=await fo(localStorage.token,p[z].id,m));for(const re in g.properties)((x=g.properties[re])==null?void 0:x.type)==="array"&&t(5,b[re]=b[re].join(","),b)},T=async()=>{t(10,p=null),t(5,b=null),t(6,g=null),h.length>0?(console.log(m),t(10,p=await co(localStorage.token,m)),p.length>0&&(t(7,E=0),await I(E))):t(10,p=[])},y=async()=>{t(0,n=!0),await _o(localStorage.token,w,m).catch(x=>(Ze.error(x),null))&&(Ze.success(s.t("Pipeline downloaded successfully")),T(),kl.set(await Pl(localStorage.token))),t(0,n=!1)},V=async()=>{if(t(1,c=!0),u&&u.length!==0){const x=u[0];console.log(x),await po(localStorage.token,x,m).catch(ee=>(console.log(ee),Ze.error("Something went wrong :/"),null))&&(Ze.success(s.t("Pipeline downloaded successfully")),T(),kl.set(await Pl(localStorage.token)))}else Ze.error(s.t("No file selected"));t(2,u=null);const z=document.getElementById("pipeline-upload-input");z&&(z.value=null),t(1,c=!1)},$=async()=>{await ho(localStorage.token,p[E].id,m).catch(x=>(Ze.error(x),null))&&(Ze.success(s.t("Pipeline deleted successfully")),T(),kl.set(await Pl(localStorage.token)))};Ul(async()=>{t(3,h=await io(localStorage.token)),console.log(h),h.length>0&&t(4,m=h[0].idx.toString()),await T()});function M(){m=wl(this),t(4,m),t(3,h)}const S=async()=>{await zs(),await T()};function L(){u=this.files,t(2,u)}const P=()=>{var z;(z=document.getElementById("pipelines-upload-input"))==null||z.click()},N=()=>{V()};function q(){w=this.value,t(8,w)}const j=()=>{y()};function O(){E=wl(this),t(7,E)}const G=async()=>{await zs(),await I(E)},Z=()=>{$()},H=z=>{t(5,b[z]=(b[z]??null)===null?"":null,b)};function U(z){b[z]=wl(this),t(5,b),t(6,g)}function W(z,x){l.$$.not_equal(b[x],z)&&(b[x]=z,t(5,b))}function J(z){b[z]=this.value,t(5,b),t(6,g)}const F=async()=>{k()};return l.$$set=z=>{"saveHandler"in z&&t(18,o=z.saveHandler)},[n,c,u,h,m,b,g,E,w,s,p,a,k,I,T,y,V,$,o,M,S,L,P,N,q,j,O,G,Z,H,U,W,J,F]}class Qu extends fl{constructor(e){super(),cl(this,e,Yu,zu,ul,{saveHandler:18},null,[-1,-1])}}function _n(l,e,t){const s=l.slice();return s[48]=e[t],s}function hn(l,e,t){const s=l.slice();return s[51]=e[t],s}function pn(l,e,t){const s=l.slice();return s[54]=e[t],s}function vn(l,e,t){const s=l.slice();return s[51]=e[t],s}function mn(l,e,t){const s=l.slice();return s[54]=e[t],s}function gn(l,e,t){const s=l.slice();return s[51]=e[t],s}function bn(l,e,t){const s=l.slice();return s[51]=e[t],s}function Ju(l){let e,t,s=l[17].t("STT Model")+"",a,o,n,c,u,h,m,p,b,g,E=l[17].t("Open WebUI uses faster-whisper internally.")+"",w,k,I,T=l[17].t("Click here to learn more about faster-whisper and see the available models.")+"",y,V,$;function M(P,N){return P[14]?ef:xu}let S=M(l),L=S(l);return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("input"),m=A(),p=d("button"),L.c(),b=A(),g=d("div"),w=C(E),k=A(),I=d("a"),y=C(T),this.h()},l(P){e=_(P,"DIV",{});var N=v(e);t=_(N,"DIV",{class:!0});var q=v(t);a=R(q,s),q.forEach(f),o=D(N),n=_(N,"DIV",{class:!0});var j=v(n);c=_(j,"DIV",{class:!0});var O=v(c);u=_(O,"INPUT",{class:!0,placeholder:!0}),O.forEach(f),m=D(j),p=_(j,"BUTTON",{class:!0});var G=v(p);L.l(G),G.forEach(f),j.forEach(f),b=D(N),g=_(N,"DIV",{class:!0});var Z=v(g);w=R(Z,E),k=D(Z),I=_(Z,"A",{class:!0,href:!0,target:!0});var H=v(I);y=R(H,T),H.forEach(f),Z.forEach(f),N.forEach(f),this.h()},h(){i(t,"class","mb-1.5 text-sm font-medium"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"placeholder",h=l[17].t("Set whisper model")),i(c,"class","flex-1 mr-2"),i(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=l[14],i(n,"class","flex w-full"),i(I,"class","hover:underline dark:text-gray-200 text-gray-800"),i(I,"href","https://github.com/SYSTRAN/faster-whisper"),i(I,"target","_blank"),i(g,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(P,N){B(P,e,N),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),te(u,l[13]),r(n,m),r(n,p),L.m(p,null),r(e,b),r(e,g),r(g,w),r(g,k),r(g,I),r(I,y),V||($=[ae(u,"input",l[29]),ae(p,"click",l[30])],V=!0)},p(P,N){N[0]&131072&&s!==(s=P[17].t("STT Model")+"")&&K(a,s),N[0]&131072&&h!==(h=P[17].t("Set whisper model"))&&i(u,"placeholder",h),N[0]&8192&&u.value!==P[13]&&te(u,P[13]),S!==(S=M(P))&&(L.d(1),L=S(P),L&&(L.c(),L.m(p,null))),N[0]&16384&&(p.disabled=P[14]),N[0]&131072&&E!==(E=P[17].t("Open WebUI uses faster-whisper internally.")+"")&&K(w,E),N[0]&131072&&T!==(T=P[17].t("Click here to learn more about faster-whisper and see the available models.")+"")&&K(y,T)},i:wt,o:wt,d(P){P&&f(e),L.d(),V=!1,Xt($)}}}function Xu(l){let e,t,s,a,o,n,c,u,h,m,p,b,g=l[17].t("STT Model")+"",E,w,k,I,T,y,V,$,M,S,L;function P(q){l[27](q)}let N={placeholder:l[17].t("API Key")};return l[10]!==void 0&&(N.value=l[10]),n=new El({props:N}),gt.push(()=>Tt(n,"value",P)),{c(){e=d("div"),t=d("div"),s=d("input"),o=A(),he(n.$$.fragment),u=A(),h=d("hr"),m=A(),p=d("div"),b=d("div"),E=C(g),w=A(),k=d("div"),I=d("div"),T=d("input"),y=A(),V=d("datalist"),$=d("option"),this.h()},l(q){e=_(q,"DIV",{});var j=v(e);t=_(j,"DIV",{class:!0});var O=v(t);s=_(O,"INPUT",{class:!0,placeholder:!0}),o=D(O),pe(n.$$.fragment,O),O.forEach(f),j.forEach(f),u=D(q),h=_(q,"HR",{class:!0}),m=D(q),p=_(q,"DIV",{});var G=v(p);b=_(G,"DIV",{class:!0});var Z=v(b);E=R(Z,g),Z.forEach(f),w=D(G),k=_(G,"DIV",{class:!0});var H=v(k);I=_(H,"DIV",{class:!0});var U=v(I);T=_(U,"INPUT",{list:!0,class:!0,placeholder:!0}),y=D(U),V=_(U,"DATALIST",{id:!0});var W=v(V);$=_(W,"OPTION",{}),v($).forEach(f),W.forEach(f),U.forEach(f),H.forEach(f),G.forEach(f),this.h()},h(){i(s,"class","flex-1 w-full bg-transparent outline-none"),i(s,"placeholder",a=l[17].t("API Base URL")),s.required=!0,i(t,"class","mt-1 flex gap-2 mb-1"),i(h,"class","dark:border-gray-850 my-2"),i(b,"class","mb-1.5 text-sm font-medium"),i(T,"list","model-list"),i(T,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(T,"placeholder","Select a model"),$.__value="whisper-1",te($,$.__value),i(V,"id","model-list"),i(I,"class","flex-1"),i(k,"class","flex w-full")},m(q,j){B(q,e,j),r(e,t),r(t,s),te(s,l[9]),r(t,o),ve(n,t,null),B(q,u,j),B(q,h,j),B(q,m,j),B(q,p,j),r(p,b),r(b,E),r(p,w),r(p,k),r(k,I),r(I,T),te(T,l[12]),r(I,y),r(I,V),r(V,$),M=!0,S||(L=[ae(s,"input",l[26]),ae(T,"input",l[28])],S=!0)},p(q,j){(!M||j[0]&131072&&a!==(a=q[17].t("API Base URL")))&&i(s,"placeholder",a),j[0]&512&&s.value!==q[9]&&te(s,q[9]);const O={};j[0]&131072&&(O.placeholder=q[17].t("API Key")),!c&&j[0]&1024&&(c=!0,O.value=q[10],yt(()=>c=!1)),n.$set(O),(!M||j[0]&131072)&&g!==(g=q[17].t("STT Model")+"")&&K(E,g),j[0]&4096&&T.value!==q[12]&&te(T,q[12])},i(q){M||(Y(n.$$.fragment,q),M=!0)},o(q){X(n.$$.fragment,q),M=!1},d(q){q&&(f(e),f(u),f(h),f(m),f(p)),me(n),S=!1,Xt(L)}}}function xu(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=v(e);t=Zt(o,"path",{d:!0}),v(t).forEach(f),s=Zt(o,"path",{d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),i(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","w-4 h-4")},m(a,o){B(a,e,o),r(e,t),r(e,s)},d(a){a&&f(e)}}}function ef(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}

												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1rv6pho"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function tf(l){let e,t,s,a,o,n,c,u,h;return{c(){e=d("div"),t=d("div"),s=d("input"),o=A(),n=d("input"),this.h()},l(m){e=_(m,"DIV",{});var p=v(e);t=_(p,"DIV",{class:!0});var b=v(t);s=_(b,"INPUT",{class:!0,placeholder:!0}),o=D(b),n=_(b,"INPUT",{class:!0,placeholder:!0}),b.forEach(f),p.forEach(f),this.h()},h(){i(s,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(s,"placeholder",a=l[17].t("API Key")),s.required=!0,i(n,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(n,"placeholder",c=l[17].t("Azure Region")),n.required=!0,i(t,"class","mt-1 flex gap-2 mb-1")},m(m,p){B(m,e,p),r(e,t),r(t,s),te(s,l[2]),r(t,o),r(t,n),te(n,l[7]),u||(h=[ae(s,"input",l[36]),ae(n,"input",l[37])],u=!0)},p(m,p){p[0]&131072&&a!==(a=m[17].t("API Key"))&&i(s,"placeholder",a),p[0]&4&&s.value!==m[2]&&te(s,m[2]),p[0]&131072&&c!==(c=m[17].t("Azure Region"))&&i(n,"placeholder",c),p[0]&128&&n.value!==m[7]&&te(n,m[7])},i:wt,o:wt,d(m){m&&f(e),u=!1,Xt(h)}}}function lf(l){let e,t,s,a,o,n;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(c){e=_(c,"DIV",{});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);s=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(f),u.forEach(f),this.h()},h(){i(s,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(s,"placeholder",a=l[17].t("API Key")),s.required=!0,i(t,"class","mt-1 flex gap-2 mb-1")},m(c,u){B(c,e,u),r(e,t),r(t,s),te(s,l[2]),o||(n=ae(s,"input",l[35]),o=!0)},p(c,u){u[0]&131072&&a!==(a=c[17].t("API Key"))&&i(s,"placeholder",a),u[0]&4&&s.value!==c[2]&&te(s,c[2])},i:wt,o:wt,d(c){c&&f(e),o=!1,n()}}}function sf(l){let e,t,s,a,o,n,c,u,h,m;function p(g){l[34](g)}let b={placeholder:l[17].t("API Key")};return l[1]!==void 0&&(b.value=l[1]),n=new El({props:b}),gt.push(()=>Tt(n,"value",p)),{c(){e=d("div"),t=d("div"),s=d("input"),o=A(),he(n.$$.fragment),this.h()},l(g){e=_(g,"DIV",{});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);s=_(w,"INPUT",{class:!0,placeholder:!0}),o=D(w),pe(n.$$.fragment,w),w.forEach(f),E.forEach(f),this.h()},h(){i(s,"class","flex-1 w-full bg-transparent outline-none"),i(s,"placeholder",a=l[17].t("API Base URL")),s.required=!0,i(t,"class","mt-1 flex gap-2 mb-1")},m(g,E){B(g,e,E),r(e,t),r(t,s),te(s,l[0]),r(t,o),ve(n,t,null),u=!0,h||(m=ae(s,"input",l[33]),h=!0)},p(g,E){(!u||E[0]&131072&&a!==(a=g[17].t("API Base URL")))&&i(s,"placeholder",a),E[0]&1&&s.value!==g[0]&&te(s,g[0]);const w={};E[0]&131072&&(w.placeholder=g[17].t("API Key")),!c&&E[0]&2&&(c=!0,w.value=g[1],yt(()=>c=!1)),n.$set(w)},i(g){u||(Y(n.$$.fragment,g),u=!0)},o(g){X(n.$$.fragment,g),u=!1},d(g){g&&f(e),me(n),h=!1,m()}}}function af(l){let e,t,s,a=l[17].t("TTS Voice")+"",o,n,c,u,h,m,p,b,g,E,w=l[17].t("Output format")+"",k,I,T,y,V=l[17].t("Available list")+"",$,M,S,L,P,N,q,j=St(l[15]),O=[];for(let G=0;G<j.length;G+=1)O[G]=En(hn(l,j,G));return{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("div"),u=d("div"),h=d("input"),m=A(),p=d("datalist");for(let G=0;G<O.length;G+=1)O[G].c();b=A(),g=d("div"),E=d("div"),k=C(w),I=A(),T=d("a"),y=d("small"),$=C(V),M=A(),S=d("div"),L=d("div"),P=d("input"),this.h()},l(G){e=_(G,"DIV",{class:!0});var Z=v(e);t=_(Z,"DIV",{class:!0});var H=v(t);s=_(H,"DIV",{class:!0});var U=v(s);o=R(U,a),U.forEach(f),n=D(H),c=_(H,"DIV",{class:!0});var W=v(c);u=_(W,"DIV",{class:!0});var J=v(u);h=_(J,"INPUT",{list:!0,class:!0,placeholder:!0}),m=D(J),p=_(J,"DATALIST",{id:!0});var F=v(p);for(let fe=0;fe<O.length;fe+=1)O[fe].l(F);F.forEach(f),J.forEach(f),W.forEach(f),H.forEach(f),b=D(Z),g=_(Z,"DIV",{class:!0});var z=v(g);E=_(z,"DIV",{class:!0});var x=v(E);k=R(x,w),I=D(x),T=_(x,"A",{href:!0,target:!0});var re=v(T);y=_(re,"SMALL",{});var ee=v(y);$=R(ee,V),ee.forEach(f),re.forEach(f),x.forEach(f),M=D(z),S=_(z,"DIV",{class:!0});var Q=v(S);L=_(Q,"DIV",{class:!0});var ie=v(L);P=_(ie,"INPUT",{list:!0,class:!0,placeholder:!0}),ie.forEach(f),Q.forEach(f),z.forEach(f),Z.forEach(f),this.h()},h(){i(s,"class","mb-1.5 text-sm font-medium"),i(h,"list","voice-list"),i(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(h,"placeholder","Select a voice"),i(p,"id","voice-list"),i(u,"class","flex-1"),i(c,"class","flex w-full"),i(t,"class","w-full"),i(T,"href","https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs"),i(T,"target","_blank"),i(E,"class","mb-1.5 text-sm font-medium"),i(P,"list","tts-model-list"),i(P,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(P,"placeholder","Select a output format"),i(L,"class","flex-1"),i(S,"class","flex w-full"),i(g,"class","w-full"),i(e,"class","flex gap-2")},m(G,Z){B(G,e,Z),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),r(c,u),r(u,h),te(h,l[5]),r(u,m),r(u,p);for(let H=0;H<O.length;H+=1)O[H]&&O[H].m(p,null);r(e,b),r(e,g),r(g,E),r(E,k),r(E,I),r(E,T),r(T,y),r(y,$),r(g,M),r(g,S),r(S,L),r(L,P),te(P,l[8]),N||(q=[ae(h,"input",l[44]),ae(P,"input",l[45])],N=!0)},p(G,Z){if(Z[0]&131072&&a!==(a=G[17].t("TTS Voice")+"")&&K(o,a),Z[0]&32800&&h.value!==G[5]&&te(h,G[5]),Z[0]&32768){j=St(G[15]);let H;for(H=0;H<j.length;H+=1){const U=hn(G,j,H);O[H]?O[H].p(U,Z):(O[H]=En(U),O[H].c(),O[H].m(p,null))}for(;H<O.length;H+=1)O[H].d(1);O.length=j.length}Z[0]&131072&&w!==(w=G[17].t("Output format")+"")&&K(k,w),Z[0]&131072&&V!==(V=G[17].t("Available list")+"")&&K($,V),Z[0]&256&&P.value!==G[8]&&te(P,G[8])},d(G){G&&f(e),ll(O,G),N=!1,Xt(q)}}}function rf(l){let e,t,s,a=l[17].t("TTS Voice")+"",o,n,c,u,h,m,p,b,g,E,w=l[17].t("TTS Model")+"",k,I,T,y,V,$,M,S,L,P=St(l[15]),N=[];for(let O=0;O<P.length;O+=1)N[O]=wn(vn(l,P,O));let q=St(l[16]),j=[];for(let O=0;O<q.length;O+=1)j[O]=kn(pn(l,q,O));return{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("div"),u=d("div"),h=d("input"),m=A(),p=d("datalist");for(let O=0;O<N.length;O+=1)N[O].c();b=A(),g=d("div"),E=d("div"),k=C(w),I=A(),T=d("div"),y=d("div"),V=d("input"),$=A(),M=d("datalist");for(let O=0;O<j.length;O+=1)j[O].c();this.h()},l(O){e=_(O,"DIV",{class:!0});var G=v(e);t=_(G,"DIV",{class:!0});var Z=v(t);s=_(Z,"DIV",{class:!0});var H=v(s);o=R(H,a),H.forEach(f),n=D(Z),c=_(Z,"DIV",{class:!0});var U=v(c);u=_(U,"DIV",{class:!0});var W=v(u);h=_(W,"INPUT",{list:!0,class:!0,placeholder:!0}),m=D(W),p=_(W,"DATALIST",{id:!0});var J=v(p);for(let Q=0;Q<N.length;Q+=1)N[Q].l(J);J.forEach(f),W.forEach(f),U.forEach(f),Z.forEach(f),b=D(G),g=_(G,"DIV",{class:!0});var F=v(g);E=_(F,"DIV",{class:!0});var z=v(E);k=R(z,w),z.forEach(f),I=D(F),T=_(F,"DIV",{class:!0});var x=v(T);y=_(x,"DIV",{class:!0});var re=v(y);V=_(re,"INPUT",{list:!0,class:!0,placeholder:!0}),$=D(re),M=_(re,"DATALIST",{id:!0});var ee=v(M);for(let Q=0;Q<j.length;Q+=1)j[Q].l(ee);ee.forEach(f),re.forEach(f),x.forEach(f),F.forEach(f),G.forEach(f),this.h()},h(){i(s,"class","mb-1.5 text-sm font-medium"),i(h,"list","voice-list"),i(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(h,"placeholder","Select a voice"),i(p,"id","voice-list"),i(u,"class","flex-1"),i(c,"class","flex w-full"),i(t,"class","w-full"),i(E,"class","mb-1.5 text-sm font-medium"),i(V,"list","tts-model-list"),i(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(V,"placeholder","Select a model"),i(M,"id","tts-model-list"),i(y,"class","flex-1"),i(T,"class","flex w-full"),i(g,"class","w-full"),i(e,"class","flex gap-2")},m(O,G){B(O,e,G),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),r(c,u),r(u,h),te(h,l[5]),r(u,m),r(u,p);for(let Z=0;Z<N.length;Z+=1)N[Z]&&N[Z].m(p,null);r(e,b),r(e,g),r(g,E),r(E,k),r(g,I),r(g,T),r(T,y),r(y,V),te(V,l[4]),r(y,$),r(y,M);for(let Z=0;Z<j.length;Z+=1)j[Z]&&j[Z].m(M,null);S||(L=[ae(h,"input",l[42]),ae(V,"input",l[43])],S=!0)},p(O,G){if(G[0]&131072&&a!==(a=O[17].t("TTS Voice")+"")&&K(o,a),G[0]&32800&&h.value!==O[5]&&te(h,O[5]),G[0]&32768){P=St(O[15]);let Z;for(Z=0;Z<P.length;Z+=1){const H=vn(O,P,Z);N[Z]?N[Z].p(H,G):(N[Z]=wn(H),N[Z].c(),N[Z].m(p,null))}for(;Z<N.length;Z+=1)N[Z].d(1);N.length=P.length}if(G[0]&131072&&w!==(w=O[17].t("TTS Model")+"")&&K(k,w),G[0]&16&&V.value!==O[4]&&te(V,O[4]),G[0]&65536){q=St(O[16]);let Z;for(Z=0;Z<q.length;Z+=1){const H=pn(O,q,Z);j[Z]?j[Z].p(H,G):(j[Z]=kn(H),j[Z].c(),j[Z].m(M,null))}for(;Z<j.length;Z+=1)j[Z].d(1);j.length=q.length}},d(O){O&&f(e),ll(N,O),ll(j,O),S=!1,Xt(L)}}}function nf(l){let e,t,s,a=l[17].t("TTS Voice")+"",o,n,c,u,h,m,p,b,g,E,w=l[17].t("TTS Model")+"",k,I,T,y,V,$,M,S,L,P=St(l[15]),N=[];for(let O=0;O<P.length;O+=1)N[O]=In(gn(l,P,O));let q=St(l[16]),j=[];for(let O=0;O<q.length;O+=1)j[O]=yn(mn(l,q,O));return{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("div"),u=d("div"),h=d("input"),m=A(),p=d("datalist");for(let O=0;O<N.length;O+=1)N[O].c();b=A(),g=d("div"),E=d("div"),k=C(w),I=A(),T=d("div"),y=d("div"),V=d("input"),$=A(),M=d("datalist");for(let O=0;O<j.length;O+=1)j[O].c();this.h()},l(O){e=_(O,"DIV",{class:!0});var G=v(e);t=_(G,"DIV",{class:!0});var Z=v(t);s=_(Z,"DIV",{class:!0});var H=v(s);o=R(H,a),H.forEach(f),n=D(Z),c=_(Z,"DIV",{class:!0});var U=v(c);u=_(U,"DIV",{class:!0});var W=v(u);h=_(W,"INPUT",{list:!0,class:!0,placeholder:!0}),m=D(W),p=_(W,"DATALIST",{id:!0});var J=v(p);for(let Q=0;Q<N.length;Q+=1)N[Q].l(J);J.forEach(f),W.forEach(f),U.forEach(f),Z.forEach(f),b=D(G),g=_(G,"DIV",{class:!0});var F=v(g);E=_(F,"DIV",{class:!0});var z=v(E);k=R(z,w),z.forEach(f),I=D(F),T=_(F,"DIV",{class:!0});var x=v(T);y=_(x,"DIV",{class:!0});var re=v(y);V=_(re,"INPUT",{list:!0,class:!0,placeholder:!0}),$=D(re),M=_(re,"DATALIST",{id:!0});var ee=v(M);for(let Q=0;Q<j.length;Q+=1)j[Q].l(ee);ee.forEach(f),re.forEach(f),x.forEach(f),F.forEach(f),G.forEach(f),this.h()},h(){i(s,"class","mb-1.5 text-sm font-medium"),i(h,"list","voice-list"),i(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(h,"placeholder","Select a voice"),i(p,"id","voice-list"),i(u,"class","flex-1"),i(c,"class","flex w-full"),i(t,"class","w-full"),i(E,"class","mb-1.5 text-sm font-medium"),i(V,"list","tts-model-list"),i(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(V,"placeholder","Select a model"),i(M,"id","tts-model-list"),i(y,"class","flex-1"),i(T,"class","flex w-full"),i(g,"class","w-full"),i(e,"class","flex gap-2")},m(O,G){B(O,e,G),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),r(c,u),r(u,h),te(h,l[5]),r(u,m),r(u,p);for(let Z=0;Z<N.length;Z+=1)N[Z]&&N[Z].m(p,null);r(e,b),r(e,g),r(g,E),r(E,k),r(g,I),r(g,T),r(T,y),r(y,V),te(V,l[4]),r(y,$),r(y,M);for(let Z=0;Z<j.length;Z+=1)j[Z]&&j[Z].m(M,null);S||(L=[ae(h,"input",l[40]),ae(V,"input",l[41])],S=!0)},p(O,G){if(G[0]&131072&&a!==(a=O[17].t("TTS Voice")+"")&&K(o,a),G[0]&32800&&h.value!==O[5]&&te(h,O[5]),G[0]&32768){P=St(O[15]);let Z;for(Z=0;Z<P.length;Z+=1){const H=gn(O,P,Z);N[Z]?N[Z].p(H,G):(N[Z]=In(H),N[Z].c(),N[Z].m(p,null))}for(;Z<N.length;Z+=1)N[Z].d(1);N.length=P.length}if(G[0]&131072&&w!==(w=O[17].t("TTS Model")+"")&&K(k,w),G[0]&16&&V.value!==O[4]&&te(V,O[4]),G[0]&65536){q=St(O[16]);let Z;for(Z=0;Z<q.length;Z+=1){const H=mn(O,q,Z);j[Z]?j[Z].p(H,G):(j[Z]=yn(H),j[Z].c(),j[Z].m(M,null))}for(;Z<j.length;Z+=1)j[Z].d(1);j.length=q.length}},d(O){O&&f(e),ll(N,O),ll(j,O),S=!1,Xt(L)}}}function of(l){let e,t,s=l[17].t("TTS Model")+"",a,o,n,c,u,h,m,p,b,g,E=l[17].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"",w,k,I,T=l[17].t("click here",{name:"SpeechT5"})+"",y,V,$,M,S=l[17].t("click here")+"",L,P,N,q;return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("input"),h=A(),m=d("datalist"),p=d("option"),b=A(),g=d("div"),w=C(E),k=C(`

							To learn more about SpeechT5,

							`),I=d("a"),y=C(T),V=C("."),$=C(`
							To see the available CMU Arctic speaker embeddings,
							`),M=d("a"),L=C(S),P=C("."),this.h()},l(j){e=_(j,"DIV",{});var O=v(e);t=_(O,"DIV",{class:!0});var G=v(t);a=R(G,s),G.forEach(f),o=D(O),n=_(O,"DIV",{class:!0});var Z=v(n);c=_(Z,"DIV",{class:!0});var H=v(c);u=_(H,"INPUT",{list:!0,class:!0,placeholder:!0}),h=D(H),m=_(H,"DATALIST",{id:!0});var U=v(m);p=_(U,"OPTION",{}),v(p).forEach(f),U.forEach(f),H.forEach(f),Z.forEach(f),b=D(O),g=_(O,"DIV",{class:!0});var W=v(g);w=R(W,E),k=R(W,`

							To learn more about SpeechT5,

							`),I=_(W,"A",{class:!0,href:!0,target:!0});var J=v(I);y=R(J,T),V=R(J,"."),J.forEach(f),$=R(W,`
							To see the available CMU Arctic speaker embeddings,
							`),M=_(W,"A",{class:!0,href:!0,target:!0});var F=v(M);L=R(F,S),P=R(F,"."),F.forEach(f),W.forEach(f),O.forEach(f),this.h()},h(){i(t,"class","mb-1.5 text-sm font-medium"),i(u,"list","model-list"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"placeholder","CMU ARCTIC speaker embedding name"),p.__value="tts-1",te(p,p.__value),i(m,"id","model-list"),i(c,"class","flex-1"),i(n,"class","flex w-full"),i(I,"class","hover:underline dark:text-gray-200 text-gray-800"),i(I,"href","https://github.com/microsoft/SpeechT5"),i(I,"target","_blank"),i(M,"class","hover:underline dark:text-gray-200 text-gray-800"),i(M,"href","https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors"),i(M,"target","_blank"),i(g,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(j,O){B(j,e,O),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),te(u,l[4]),r(c,h),r(c,m),r(m,p),r(e,b),r(e,g),r(g,w),r(g,k),r(g,I),r(I,y),r(I,V),r(g,$),r(g,M),r(M,L),r(M,P),N||(q=ae(u,"input",l[39]),N=!0)},p(j,O){O[0]&131072&&s!==(s=j[17].t("TTS Model")+"")&&K(a,s),O[0]&16&&u.value!==j[4]&&te(u,j[4]),O[0]&131072&&E!==(E=j[17].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"")&&K(w,E),O[0]&131072&&T!==(T=j[17].t("click here",{name:"SpeechT5"})+"")&&K(y,T),O[0]&131072&&S!==(S=j[17].t("click here")+"")&&K(L,S)},d(j){j&&f(e),N=!1,q()}}}function uf(l){let e,t,s=l[17].t("TTS Voice")+"",a,o,n,c,u,h,m=l[17].t("Default")+"",p,b,g,E,w=St(l[15]),k=[];for(let I=0;I<w.length;I+=1)k[I]=Tn(bn(l,w,I));return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("select"),h=d("option"),p=C(m);for(let I=0;I<k.length;I+=1)k[I].c();this.h()},l(I){e=_(I,"DIV",{});var T=v(e);t=_(T,"DIV",{class:!0});var y=v(t);a=R(y,s),y.forEach(f),o=D(T),n=_(T,"DIV",{class:!0});var V=v(n);c=_(V,"DIV",{class:!0});var $=v(c);u=_($,"SELECT",{class:!0});var M=v(u);h=_(M,"OPTION",{});var S=v(h);p=R(S,m),S.forEach(f);for(let L=0;L<k.length;L+=1)k[L].l(M);M.forEach(f),$.forEach(f),V.forEach(f),T.forEach(f),this.h()},h(){i(t,"class","mb-1.5 text-sm font-medium"),h.__value="",te(h,h.__value),h.selected=b=l[5]!=="",i(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),l[5]===void 0&&Il(()=>l[38].call(u)),i(c,"class","flex-1"),i(n,"class","flex w-full")},m(I,T){B(I,e,T),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),r(u,h),r(h,p);for(let y=0;y<k.length;y+=1)k[y]&&k[y].m(u,null);Yt(u,l[5],!0),g||(E=ae(u,"change",l[38]),g=!0)},p(I,T){if(T[0]&131072&&s!==(s=I[17].t("TTS Voice")+"")&&K(a,s),T[0]&131072&&m!==(m=I[17].t("Default")+"")&&K(p,m),T[0]&32800&&b!==(b=I[5]!=="")&&(h.selected=b),T[0]&32800){w=St(I[15]);let y;for(y=0;y<w.length;y+=1){const V=bn(I,w,y);k[y]?k[y].p(V,T):(k[y]=Tn(V),k[y].c(),k[y].m(u,null))}for(;y<k.length;y+=1)k[y].d(1);k.length=w.length}T[0]&32800&&Yt(u,I[5])},d(I){I&&f(e),ll(k,I),g=!1,E()}}}function En(l){let e,t=l[51].name+"",s,a;return{c(){e=d("option"),s=C(t),this.h()},l(o){e=_(o,"OPTION",{});var n=v(e);s=R(n,t),n.forEach(f),this.h()},h(){e.__value=a=l[51].id,te(e,e.__value)},m(o,n){B(o,e,n),r(e,s)},p(o,n){n[0]&32768&&t!==(t=o[51].name+"")&&K(s,t),n[0]&32768&&a!==(a=o[51].id)&&(e.__value=a,te(e,e.__value))},d(o){o&&f(e)}}}function wn(l){let e,t=l[51].name+"",s,a;return{c(){e=d("option"),s=C(t),this.h()},l(o){e=_(o,"OPTION",{});var n=v(e);s=R(n,t),n.forEach(f),this.h()},h(){e.__value=a=l[51].id,te(e,e.__value)},m(o,n){B(o,e,n),r(e,s)},p(o,n){n[0]&32768&&t!==(t=o[51].name+"")&&K(s,t),n[0]&32768&&a!==(a=o[51].id)&&(e.__value=a,te(e,e.__value))},d(o){o&&f(e)}}}function kn(l){let e,t;return{c(){e=d("option"),this.h()},l(s){e=_(s,"OPTION",{class:!0}),v(e).forEach(f),this.h()},h(){e.__value=t=l[54].id,te(e,e.__value),i(e,"class","bg-gray-50 dark:bg-gray-700")},m(s,a){B(s,e,a)},p(s,a){a[0]&65536&&t!==(t=s[54].id)&&(e.__value=t,te(e,e.__value))},d(s){s&&f(e)}}}function In(l){let e,t=l[51].name+"",s,a;return{c(){e=d("option"),s=C(t),this.h()},l(o){e=_(o,"OPTION",{});var n=v(e);s=R(n,t),n.forEach(f),this.h()},h(){e.__value=a=l[51].id,te(e,e.__value)},m(o,n){B(o,e,n),r(e,s)},p(o,n){n[0]&32768&&t!==(t=o[51].name+"")&&K(s,t),n[0]&32768&&a!==(a=o[51].id)&&(e.__value=a,te(e,e.__value))},d(o){o&&f(e)}}}function yn(l){let e,t;return{c(){e=d("option"),this.h()},l(s){e=_(s,"OPTION",{class:!0}),v(e).forEach(f),this.h()},h(){e.__value=t=l[54].id,te(e,e.__value),i(e,"class","bg-gray-50 dark:bg-gray-700")},m(s,a){B(s,e,a)},p(s,a){a[0]&65536&&t!==(t=s[54].id)&&(e.__value=t,te(e,e.__value))},d(s){s&&f(e)}}}function Tn(l){let e,t=l[51].name.replace("+",", ")+"",s,a,o;return{c(){e=d("option"),s=C(t),this.h()},l(n){e=_(n,"OPTION",{class:!0});var c=v(e);s=R(c,t),c.forEach(f),this.h()},h(){e.__value=a=l[51].voiceURI,te(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=o=l[5]===l[51].voiceURI},m(n,c){B(n,e,c),r(e,s)},p(n,c){c[0]&32768&&t!==(t=n[51].name.replace("+",", ")+"")&&K(s,t),c[0]&32768&&a!==(a=n[51].voiceURI)&&(e.__value=a,te(e,e.__value)),c[0]&32800&&o!==(o=n[5]===n[51].voiceURI)&&(e.selected=o)},d(n){n&&f(e)}}}function An(l){let e,t=l[17].t(l[48].charAt(0).toUpperCase()+l[48].slice(1))+"",s;return{c(){e=d("option"),s=C(t),this.h()},l(a){e=_(a,"OPTION",{});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){e.__value=l[48],te(e,e.__value)},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&131072&&t!==(t=a[17].t(a[48].charAt(0).toUpperCase()+a[48].slice(1))+"")&&K(s,t)},d(a){a&&f(e)}}}function ff(l){let e,t,s,a,o,n=l[17].t("STT Settings")+"",c,u,h,m,p=l[17].t("Speech-to-Text Engine")+"",b,g,E,w,k,I=l[17].t("Whisper (Local)")+"",T,y,V="OpenAI",$,M=l[17].t("Web API")+"",S,L,P,N,q,j,O,G,Z,H=l[17].t("TTS Settings")+"",U,W,J,F,z=l[17].t("Text-to-Speech Engine")+"",x,re,ee,Q,ie,fe=l[17].t("Web API")+"",Le,Re,$e=l[17].t("Transformers")+"",Me,Oe,Pe=l[17].t("Local")+"",tt,ne,de,Ve=l[17].t("OpenAI")+"",De,Ue,xe=l[17].t("ElevenLabs")+"",Ke,We,qe=l[17].t("Azure AI Speech")+"",_e,ue,ge,ke,Ee,Be,rt,oe,Fe,le,se,lt,at=l[17].t("Response splitting")+"",nt,it,Ye,ze,ht,bt,Et=l[17].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",dt,kt,st,Ae,Je=l[17].t("Save")+"",Ce,Qe,Ie,Ge;const Mt=[Xu,Ju],Ot=[];function Rt(Se,ct){return Se[11]==="openai"?0:Se[11]===""?1:-1}~(P=Rt(l))&&(N=Ot[P]=Mt[P](l));const ut=[sf,lf,tf],Te=[];function we(Se,ct){return Se[3]==="openai"?0:Se[3]==="elevenlabs"?1:Se[3]==="azure"?2:-1}~(ge=we(l))&&(ke=Te[ge]=ut[ge](l));function Bt(Se,ct){if(Se[3]==="")return uf;if(Se[3]==="transformers")return of;if(Se[3]==="openai")return nf;if(Se[3]==="elevenlabs")return rf;if(Se[3]==="azure")return af}let Dt=Bt(l),Vt=Dt&&Dt(l),Ht=St(Object.values(Da)),At=[];for(let Se=0;Se<Ht.length;Se+=1)At[Se]=An(_n(l,Ht,Se));return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),o=d("div"),c=C(n),u=A(),h=d("div"),m=d("div"),b=C(p),g=A(),E=d("div"),w=d("select"),k=d("option"),T=C(I),y=d("option"),y.textContent=V,$=d("option"),S=C(M),L=A(),N&&N.c(),q=A(),j=d("hr"),O=A(),G=d("div"),Z=d("div"),U=C(H),W=A(),J=d("div"),F=d("div"),x=C(z),re=A(),ee=d("div"),Q=d("select"),ie=d("option"),Le=C(fe),Re=d("option"),Me=C($e),Oe=C(" ("),tt=C(Pe),ne=C(")"),de=d("option"),De=C(Ve),Ue=d("option"),Ke=C(xe),We=d("option"),_e=C(qe),ue=A(),ke&&ke.c(),Ee=A(),Be=d("hr"),rt=A(),Vt&&Vt.c(),oe=A(),Fe=d("hr"),le=A(),se=d("div"),lt=d("div"),nt=C(at),it=A(),Ye=d("div"),ze=d("select");for(let Se=0;Se<At.length;Se+=1)At[Se].c();ht=A(),bt=d("div"),dt=C(Et),kt=A(),st=d("div"),Ae=d("button"),Ce=C(Je),this.h()},l(Se){e=_(Se,"FORM",{class:!0});var ct=v(e);t=_(ct,"DIV",{class:!0});var vt=v(t);s=_(vt,"DIV",{class:!0});var Pt=v(s);a=_(Pt,"DIV",{});var _t=v(a);o=_(_t,"DIV",{class:!0});var pt=v(o);c=R(pt,n),pt.forEach(f),u=D(_t),h=_(_t,"DIV",{class:!0});var Ft=v(h);m=_(Ft,"DIV",{class:!0});var He=v(m);b=R(He,p),He.forEach(f),g=D(Ft),E=_(Ft,"DIV",{class:!0});var je=v(E);w=_(je,"SELECT",{class:!0,placeholder:!0});var $t=v(w);k=_($t,"OPTION",{});var Ne=v(k);T=R(Ne,I),Ne.forEach(f),y=_($t,"OPTION",{"data-svelte-h":!0}),Ct(y)!=="svelte-bbvrw2"&&(y.textContent=V),$=_($t,"OPTION",{});var be=v($);S=R(be,M),be.forEach(f),$t.forEach(f),je.forEach(f),Ft.forEach(f),L=D(_t),N&&N.l(_t),_t.forEach(f),q=D(Pt),j=_(Pt,"HR",{class:!0}),O=D(Pt),G=_(Pt,"DIV",{});var Xe=v(G);Z=_(Xe,"DIV",{class:!0});var ft=v(Z);U=R(ft,H),ft.forEach(f),W=D(Xe),J=_(Xe,"DIV",{class:!0});var ce=v(J);F=_(ce,"DIV",{class:!0});var et=v(F);x=R(et,z),et.forEach(f),re=D(ce),ee=_(ce,"DIV",{class:!0});var Nt=v(ee);Q=_(Nt,"SELECT",{class:!0,placeholder:!0});var It=v(Q);ie=_(It,"OPTION",{});var Qt=v(ie);Le=R(Qt,fe),Qt.forEach(f),Re=_(It,"OPTION",{});var jt=v(Re);Me=R(jt,$e),Oe=R(jt," ("),tt=R(jt,Pe),ne=R(jt,")"),jt.forEach(f),de=_(It,"OPTION",{});var qt=v(de);De=R(qt,Ve),qt.forEach(f),Ue=_(It,"OPTION",{});var xt=v(Ue);Ke=R(xt,xe),xt.forEach(f),We=_(It,"OPTION",{});var mt=v(We);_e=R(mt,qe),mt.forEach(f),It.forEach(f),Nt.forEach(f),ce.forEach(f),ue=D(Xe),ke&&ke.l(Xe),Ee=D(Xe),Be=_(Xe,"HR",{class:!0}),rt=D(Xe),Vt&&Vt.l(Xe),oe=D(Xe),Fe=_(Xe,"HR",{class:!0}),le=D(Xe),se=_(Xe,"DIV",{class:!0});var zt=v(se);lt=_(zt,"DIV",{class:!0});var _l=v(lt);nt=R(_l,at),_l.forEach(f),it=D(zt),Ye=_(zt,"DIV",{class:!0});var rl=v(Ye);ze=_(rl,"SELECT",{class:!0,"aria-label":!0});var hl=v(ze);for(let gl=0;gl<At.length;gl+=1)At[gl].l(hl);hl.forEach(f),rl.forEach(f),zt.forEach(f),ht=D(Xe),bt=_(Xe,"DIV",{class:!0});var Jt=v(bt);dt=R(Jt,Et),Jt.forEach(f),Xe.forEach(f),Pt.forEach(f),vt.forEach(f),kt=D(ct),st=_(ct,"DIV",{class:!0});var pl=v(st);Ae=_(pl,"BUTTON",{class:!0,type:!0});var nl=v(Ae);Ce=R(nl,Je),nl.forEach(f),pl.forEach(f),ct.forEach(f),this.h()},h(){i(o,"class","mb-1 text-sm font-medium"),i(m,"class","self-center text-xs font-medium"),k.__value="",te(k,k.__value),y.__value="openai",te(y,y.__value),$.__value="web",te($,$.__value),i(w,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),i(w,"placeholder","Select an engine"),l[11]===void 0&&Il(()=>l[25].call(w)),i(E,"class","flex items-center relative"),i(h,"class","py-0.5 flex w-full justify-between"),i(j,"class","dark:border-gray-800"),i(Z,"class","mb-1 text-sm font-medium"),i(F,"class","self-center text-xs font-medium"),ie.__value="",te(ie,ie.__value),Re.__value="transformers",te(Re,Re.__value),de.__value="openai",te(de,de.__value),Ue.__value="elevenlabs",te(Ue,Ue.__value),We.__value="azure",te(We,We.__value),i(Q,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),i(Q,"placeholder","Select a mode"),l[3]===void 0&&Il(()=>l[31].call(Q)),i(ee,"class","flex items-center relative"),i(J,"class","py-0.5 flex w-full justify-between"),i(Be,"class","dark:border-gray-850 my-2"),i(Fe,"class","dark:border-gray-850 my-2"),i(lt,"class","self-center text-xs font-medium"),i(ze,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),i(ze,"aria-label","Select how to split message text for TTS requests"),l[6]===void 0&&Il(()=>l[46].call(ze)),i(Ye,"class","flex items-center relative"),i(se,"class","pt-0.5 flex w-full justify-between"),i(bt,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),i(s,"class","flex flex-col gap-3"),i(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),i(Ae,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),i(Ae,"type","submit"),i(st,"class","flex justify-end text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Se,ct){B(Se,e,ct),r(e,t),r(t,s),r(s,a),r(a,o),r(o,c),r(a,u),r(a,h),r(h,m),r(m,b),r(h,g),r(h,E),r(E,w),r(w,k),r(k,T),r(w,y),r(w,$),r($,S),Yt(w,l[11],!0),r(a,L),~P&&Ot[P].m(a,null),r(s,q),r(s,j),r(s,O),r(s,G),r(G,Z),r(Z,U),r(G,W),r(G,J),r(J,F),r(F,x),r(J,re),r(J,ee),r(ee,Q),r(Q,ie),r(ie,Le),r(Q,Re),r(Re,Me),r(Re,Oe),r(Re,tt),r(Re,ne),r(Q,de),r(de,De),r(Q,Ue),r(Ue,Ke),r(Q,We),r(We,_e),Yt(Q,l[3],!0),r(G,ue),~ge&&Te[ge].m(G,null),r(G,Ee),r(G,Be),r(G,rt),Vt&&Vt.m(G,null),r(G,oe),r(G,Fe),r(G,le),r(G,se),r(se,lt),r(lt,nt),r(se,it),r(se,Ye),r(Ye,ze);for(let vt=0;vt<At.length;vt+=1)At[vt]&&At[vt].m(ze,null);Yt(ze,l[6],!0),r(G,ht),r(G,bt),r(bt,dt),r(e,kt),r(e,st),r(st,Ae),r(Ae,Ce),Qe=!0,Ie||(Ge=[ae(w,"change",l[25]),ae(Q,"change",l[31]),ae(Q,"change",l[32]),ae(ze,"change",l[46]),ae(e,"submit",jl(l[47]))],Ie=!0)},p(Se,ct){(!Qe||ct[0]&131072)&&n!==(n=Se[17].t("STT Settings")+"")&&K(c,n),(!Qe||ct[0]&131072)&&p!==(p=Se[17].t("Speech-to-Text Engine")+"")&&K(b,p),(!Qe||ct[0]&131072)&&I!==(I=Se[17].t("Whisper (Local)")+"")&&K(T,I),(!Qe||ct[0]&131072)&&M!==(M=Se[17].t("Web API")+"")&&K(S,M),ct[0]&2048&&Yt(w,Se[11]);let vt=P;P=Rt(Se),P===vt?~P&&Ot[P].p(Se,ct):(N&&(Lt(),X(Ot[vt],1,1,()=>{Ot[vt]=null}),Ut()),~P?(N=Ot[P],N?N.p(Se,ct):(N=Ot[P]=Mt[P](Se),N.c()),Y(N,1),N.m(a,null)):N=null),(!Qe||ct[0]&131072)&&H!==(H=Se[17].t("TTS Settings")+"")&&K(U,H),(!Qe||ct[0]&131072)&&z!==(z=Se[17].t("Text-to-Speech Engine")+"")&&K(x,z),(!Qe||ct[0]&131072)&&fe!==(fe=Se[17].t("Web API")+"")&&K(Le,fe),(!Qe||ct[0]&131072)&&$e!==($e=Se[17].t("Transformers")+"")&&K(Me,$e),(!Qe||ct[0]&131072)&&Pe!==(Pe=Se[17].t("Local")+"")&&K(tt,Pe),(!Qe||ct[0]&131072)&&Ve!==(Ve=Se[17].t("OpenAI")+"")&&K(De,Ve),(!Qe||ct[0]&131072)&&xe!==(xe=Se[17].t("ElevenLabs")+"")&&K(Ke,xe),(!Qe||ct[0]&131072)&&qe!==(qe=Se[17].t("Azure AI Speech")+"")&&K(_e,qe),ct[0]&8&&Yt(Q,Se[3]);let Pt=ge;if(ge=we(Se),ge===Pt?~ge&&Te[ge].p(Se,ct):(ke&&(Lt(),X(Te[Pt],1,1,()=>{Te[Pt]=null}),Ut()),~ge?(ke=Te[ge],ke?ke.p(Se,ct):(ke=Te[ge]=ut[ge](Se),ke.c()),Y(ke,1),ke.m(G,Ee)):ke=null),Dt===(Dt=Bt(Se))&&Vt?Vt.p(Se,ct):(Vt&&Vt.d(1),Vt=Dt&&Dt(Se),Vt&&(Vt.c(),Vt.m(G,oe))),(!Qe||ct[0]&131072)&&at!==(at=Se[17].t("Response splitting")+"")&&K(nt,at),ct[0]&131072){Ht=St(Object.values(Da));let _t;for(_t=0;_t<Ht.length;_t+=1){const pt=_n(Se,Ht,_t);At[_t]?At[_t].p(pt,ct):(At[_t]=An(pt),At[_t].c(),At[_t].m(ze,null))}for(;_t<At.length;_t+=1)At[_t].d(1);At.length=Ht.length}ct[0]&64&&Yt(ze,Se[6]),(!Qe||ct[0]&131072)&&Et!==(Et=Se[17].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&K(dt,Et),(!Qe||ct[0]&131072)&&Je!==(Je=Se[17].t("Save")+"")&&K(Ce,Je)},i(Se){Qe||(Y(N),Y(ke),Qe=!0)},o(Se){X(N),X(ke),Qe=!1},d(Se){Se&&f(e),~P&&Ot[P].d(),~ge&&Te[ge].d(),Vt&&Vt.d(),ll(At,Se),Ie=!1,Xt(Ge)}}}function cf(l,e,t){let s;const a=ds(),o=yl("i18n");sl(l,o,ne=>t(17,s=ne));let{saveHandler:n}=e,c="",u="",h="",m="",p="",b="",g=Da.PUNCTUATION,E="",w="",k="",I="",T="",y="",V="",$=!1,M=[],S=[];const L=async()=>{if(m==="")t(16,S=[]);else{const ne=await Po(localStorage.token).catch(de=>{Ze.error(de)});ne&&(console.log(ne),t(16,S=ne.models))}},P=async()=>{if(m===""){const ne=setInterval(()=>{t(15,M=speechSynthesis.getVoices()),M.length>0&&(clearInterval(ne),M.sort((de,Ve)=>de.name.localeCompare(Ve.name,s.resolvedLanguage)))},100)}else{const ne=await Lo(localStorage.token).catch(de=>{Ze.error(de)});ne&&(console.log(ne),t(15,M=ne.voices),M.sort((de,Ve)=>de.name.localeCompare(Ve.name,s.resolvedLanguage)))}},N=async()=>{await Uo(localStorage.token,{tts:{OPENAI_API_BASE_URL:c,OPENAI_API_KEY:u,API_KEY:h,ENGINE:m,MODEL:p,VOICE:b,SPLIT_ON:g,AZURE_SPEECH_REGION:E,AZURE_SPEECH_OUTPUT_FORMAT:w},stt:{OPENAI_API_BASE_URL:k,OPENAI_API_KEY:I,ENGINE:T,MODEL:y,WHISPER_MODEL:V}})&&(n(),cs.set(await Os()))},q=async()=>{t(14,$=!0),await N(),t(14,$=!1)};Ul(async()=>{const ne=await Oo(localStorage.token);ne&&(console.log(ne),t(0,c=ne.tts.OPENAI_API_BASE_URL),t(1,u=ne.tts.OPENAI_API_KEY),t(2,h=ne.tts.API_KEY),t(3,m=ne.tts.ENGINE),t(4,p=ne.tts.MODEL),t(5,b=ne.tts.VOICE),t(6,g=ne.tts.SPLIT_ON||Da.PUNCTUATION),t(8,w=ne.tts.AZURE_SPEECH_OUTPUT_FORMAT),t(7,E=ne.tts.AZURE_SPEECH_REGION),t(9,k=ne.stt.OPENAI_API_BASE_URL),t(10,I=ne.stt.OPENAI_API_KEY),t(11,T=ne.stt.ENGINE),t(12,y=ne.stt.MODEL),t(13,V=ne.stt.WHISPER_MODEL)),await P(),await L()});function j(){T=wl(this),t(11,T)}function O(){k=this.value,t(9,k)}function G(ne){I=ne,t(10,I)}function Z(){y=this.value,t(12,y)}function H(){V=this.value,t(13,V)}const U=()=>{q()};function W(){m=wl(this),t(3,m)}const J=async ne=>{var de;await N(),await P(),await L(),((de=ne.target)==null?void 0:de.value)==="openai"?(t(5,b="alloy"),t(4,p="tts-1")):(t(5,b=""),t(4,p=""))};function F(){c=this.value,t(0,c)}function z(ne){u=ne,t(1,u)}function x(){h=this.value,t(2,h)}function re(){h=this.value,t(2,h)}function ee(){E=this.value,t(7,E)}function Q(){b=wl(this),t(5,b),t(15,M)}function ie(){p=this.value,t(4,p)}function fe(){b=this.value,t(5,b),t(15,M)}function Le(){p=this.value,t(4,p)}function Re(){b=this.value,t(5,b),t(15,M)}function $e(){p=this.value,t(4,p)}function Me(){b=this.value,t(5,b),t(15,M)}function Oe(){w=this.value,t(8,w)}function Pe(){g=wl(this),t(6,g)}const tt=async()=>{await N(),a("save")};return l.$$set=ne=>{"saveHandler"in ne&&t(24,n=ne.saveHandler)},[c,u,h,m,p,b,g,E,w,k,I,T,y,V,$,M,S,s,a,o,L,P,N,q,n,j,O,G,Z,H,U,W,J,F,z,x,re,ee,Q,ie,fe,Le,Re,$e,Me,Oe,Pe,tt]}class df extends fl{constructor(e){super(),cl(this,e,cf,ff,ul,{saveHandler:24},null,[-1,-1,-1])}}function Dn(l,e,t){const s=l.slice();return s[38]=e[t],s}function Vn(l,e,t){const s=l.slice();return s[47]=e[t],s[48]=e,s[49]=t,s}function Sn(l,e,t){const s=l.slice();return s[41]=e[t],s}function $n(l,e,t){const s=l.slice();return s[44]=e[t],s}function Mn(l){var tt;let e,t,s=l[5].t("Image Settings")+"",a,o,n,c,u,h=l[5].t("Image Generation (Experimental)")+"",m,p,b,g,E,w,k,I,T=l[5].t("Image Generation Engine")+"",y,V,$,M,S,L=l[5].t("Default (Open AI)")+"",P,N,q=l[5].t("ComfyUI")+"",j,O,G=l[5].t("Automatic1111")+"",Z,H,U,W,J,F,z,x,re,ee,Q,ie,fe;function Le(ne){l[11](ne)}let Re={};l[1].enabled!==void 0&&(Re.state=l[1].enabled),g=new ml({props:Re}),gt.push(()=>Tt(g,"state",Le)),g.$on("change",l[12]);const $e=[pf,hf,_f],Me=[];function Oe(ne,de){var Ve,De,Ue;return(((Ve=ne[1])==null?void 0:Ve.engine)??"automatic1111")==="automatic1111"?0:((De=ne[1])==null?void 0:De.engine)==="comfyui"?1:((Ue=ne[1])==null?void 0:Ue.engine)==="openai"?2:-1}~(z=Oe(l))&&(x=Me[z]=$e[z](l));let Pe=((tt=l[1])==null?void 0:tt.enabled)&&Cn(l);return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("div"),m=C(h),p=A(),b=d("div"),he(g.$$.fragment),w=A(),k=d("div"),I=d("div"),y=C(T),V=A(),$=d("div"),M=d("select"),S=d("option"),P=C(L),N=d("option"),j=C(q),O=d("option"),Z=C(G),U=A(),W=d("hr"),J=A(),F=d("div"),x&&x.c(),re=A(),Pe&&Pe.c(),ee=tl(),this.h()},l(ne){e=_(ne,"DIV",{});var de=v(e);t=_(de,"DIV",{class:!0});var Ve=v(t);a=R(Ve,s),Ve.forEach(f),o=D(de),n=_(de,"DIV",{});var De=v(n);c=_(De,"DIV",{class:!0});var Ue=v(c);u=_(Ue,"DIV",{class:!0});var xe=v(u);m=R(xe,h),xe.forEach(f),p=D(Ue),b=_(Ue,"DIV",{class:!0});var Ke=v(b);pe(g.$$.fragment,Ke),Ke.forEach(f),Ue.forEach(f),De.forEach(f),w=D(de),k=_(de,"DIV",{class:!0});var We=v(k);I=_(We,"DIV",{class:!0});var qe=v(I);y=R(qe,T),qe.forEach(f),V=D(We),$=_(We,"DIV",{class:!0});var _e=v($);M=_(_e,"SELECT",{class:!0,placeholder:!0});var ue=v(M);S=_(ue,"OPTION",{});var ge=v(S);P=R(ge,L),ge.forEach(f),N=_(ue,"OPTION",{});var ke=v(N);j=R(ke,q),ke.forEach(f),O=_(ue,"OPTION",{});var Ee=v(O);Z=R(Ee,G),Ee.forEach(f),ue.forEach(f),_e.forEach(f),We.forEach(f),de.forEach(f),U=D(ne),W=_(ne,"HR",{class:!0}),J=D(ne),F=_(ne,"DIV",{class:!0});var Be=v(F);x&&x.l(Be),Be.forEach(f),re=D(ne),Pe&&Pe.l(ne),ee=tl(),this.h()},h(){i(t,"class","mb-1 text-sm font-medium"),i(u,"class","self-center text-xs font-medium"),i(b,"class","px-1"),i(c,"class","py-0.5 flex w-full justify-between"),i(I,"class","self-center text-xs font-medium"),S.__value="openai",te(S,S.__value),N.__value="comfyui",te(N,N.__value),O.__value="automatic1111",te(O,O.__value),i(M,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),i(M,"placeholder",H=l[5].t("Select Engine")),l[1].engine===void 0&&Il(()=>l[13].call(M)),i($,"class","flex items-center relative"),i(k,"class","py-0.5 flex w-full justify-between"),i(W,"class","dark:border-gray-850"),i(F,"class","flex flex-col gap-2")},m(ne,de){B(ne,e,de),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),r(u,m),r(c,p),r(c,b),ve(g,b,null),r(e,w),r(e,k),r(k,I),r(I,y),r(k,V),r(k,$),r($,M),r(M,S),r(S,P),r(M,N),r(N,j),r(M,O),r(O,Z),Yt(M,l[1].engine,!0),B(ne,U,de),B(ne,W,de),B(ne,J,de),B(ne,F,de),~z&&Me[z].m(F,null),B(ne,re,de),Pe&&Pe.m(ne,de),B(ne,ee,de),Q=!0,ie||(fe=[ae(M,"change",l[13]),ae(M,"change",l[14])],ie=!0)},p(ne,de){var Ue;(!Q||de[0]&32)&&s!==(s=ne[5].t("Image Settings")+"")&&K(a,s),(!Q||de[0]&32)&&h!==(h=ne[5].t("Image Generation (Experimental)")+"")&&K(m,h);const Ve={};!E&&de[0]&2&&(E=!0,Ve.state=ne[1].enabled,yt(()=>E=!1)),g.$set(Ve),(!Q||de[0]&32)&&T!==(T=ne[5].t("Image Generation Engine")+"")&&K(y,T),(!Q||de[0]&32)&&L!==(L=ne[5].t("Default (Open AI)")+"")&&K(P,L),(!Q||de[0]&32)&&q!==(q=ne[5].t("ComfyUI")+"")&&K(j,q),(!Q||de[0]&32)&&G!==(G=ne[5].t("Automatic1111")+"")&&K(Z,G),(!Q||de[0]&32&&H!==(H=ne[5].t("Select Engine")))&&i(M,"placeholder",H),de[0]&2&&Yt(M,ne[1].engine);let De=z;z=Oe(ne),z===De?~z&&Me[z].p(ne,de):(x&&(Lt(),X(Me[De],1,1,()=>{Me[De]=null}),Ut()),~z?(x=Me[z],x?x.p(ne,de):(x=Me[z]=$e[z](ne),x.c()),Y(x,1),x.m(F,null)):x=null),(Ue=ne[1])!=null&&Ue.enabled?Pe?(Pe.p(ne,de),de[0]&2&&Y(Pe,1)):(Pe=Cn(ne),Pe.c(),Y(Pe,1),Pe.m(ee.parentNode,ee)):Pe&&(Lt(),X(Pe,1,1,()=>{Pe=null}),Ut())},i(ne){Q||(Y(g.$$.fragment,ne),Y(x),Y(Pe),Q=!0)},o(ne){X(g.$$.fragment,ne),X(x),X(Pe),Q=!1},d(ne){ne&&(f(e),f(U),f(W),f(J),f(F),f(re),f(ee)),me(g),~z&&Me[z].d(),Pe&&Pe.d(ne),ie=!1,Xt(fe)}}}function _f(l){let e,t,s=l[5].t("OpenAI API Config")+"",a,o,n,c,u,h,m,p,b,g,E;function w(I){l[29](I)}let k={placeholder:l[5].t("API Key")};return l[1].openai.OPENAI_API_KEY!==void 0&&(k.value=l[1].openai.OPENAI_API_KEY),m=new El({props:k}),gt.push(()=>Tt(m,"value",w)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("input"),h=A(),he(m.$$.fragment),this.h()},l(I){e=_(I,"DIV",{});var T=v(e);t=_(T,"DIV",{class:!0});var y=v(t);a=R(y,s),y.forEach(f),o=D(T),n=_(T,"DIV",{class:!0});var V=v(n);c=_(V,"INPUT",{class:!0,placeholder:!0}),h=D(V),pe(m.$$.fragment,V),V.forEach(f),T.forEach(f),this.h()},h(){i(t,"class","mb-1.5 text-sm font-medium"),i(c,"class","flex-1 w-full text-sm bg-transparent outline-none"),i(c,"placeholder",u=l[5].t("API Base URL")),c.required=!0,i(n,"class","flex gap-2 mb-1")},m(I,T){B(I,e,T),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),te(c,l[1].openai.OPENAI_API_BASE_URL),r(n,h),ve(m,n,null),b=!0,g||(E=ae(c,"input",l[28]),g=!0)},p(I,T){(!b||T[0]&32)&&s!==(s=I[5].t("OpenAI API Config")+"")&&K(a,s),(!b||T[0]&32&&u!==(u=I[5].t("API Base URL")))&&i(c,"placeholder",u),T[0]&2&&c.value!==I[1].openai.OPENAI_API_BASE_URL&&te(c,I[1].openai.OPENAI_API_BASE_URL);const y={};T[0]&32&&(y.placeholder=I[5].t("API Key")),!p&&T[0]&2&&(p=!0,y.value=I[1].openai.OPENAI_API_KEY,yt(()=>p=!1)),m.$set(y)},i(I){b||(Y(m.$$.fragment,I),b=!0)},o(I){X(m.$$.fragment,I),b=!1},d(I){I&&f(e),me(m),g=!1,E()}}}function hf(l){let e,t,s=l[5].t("ComfyUI Base URL")+"",a,o,n,c,u,h,m,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,E,w,k=l[5].t("ComfyUI Workflow")+"",I,T,y,V,$,M,S,L,P=l[5].t("Click here to upload a workflow.json file.")+"",N,q,j,O=l[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",G,Z,H,U,W,J,F=l[1].comfyui.COMFYUI_WORKFLOW&&Nn(l),z=l[1].comfyui.COMFYUI_WORKFLOW&&On(l);return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("input"),m=A(),p=d("button"),p.innerHTML=b,g=A(),E=d("div"),w=d("div"),I=C(k),T=A(),F&&F.c(),y=A(),V=d("div"),$=d("div"),M=d("input"),S=A(),L=d("button"),N=C(P),q=A(),j=d("div"),G=C(O),Z=A(),z&&z.c(),H=tl(),this.h()},l(x){e=_(x,"DIV",{class:!0});var re=v(e);t=_(re,"DIV",{class:!0});var ee=v(t);a=R(ee,s),ee.forEach(f),o=D(re),n=_(re,"DIV",{class:!0});var Q=v(n);c=_(Q,"DIV",{class:!0});var ie=v(c);u=_(ie,"INPUT",{class:!0,placeholder:!0}),ie.forEach(f),m=D(Q),p=_(Q,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(p)!=="svelte-3652k3"&&(p.innerHTML=b),Q.forEach(f),re.forEach(f),g=D(x),E=_(x,"DIV",{class:!0});var fe=v(E);w=_(fe,"DIV",{class:!0});var Le=v(w);I=R(Le,k),Le.forEach(f),T=D(fe),F&&F.l(fe),y=D(fe),V=_(fe,"DIV",{class:!0});var Re=v(V);$=_(Re,"DIV",{class:!0});var $e=v($);M=_($e,"INPUT",{id:!0,type:!0,accept:!0}),S=D($e),L=_($e,"BUTTON",{class:!0,type:!0});var Me=v(L);N=R(Me,P),Me.forEach(f),$e.forEach(f),Re.forEach(f),q=D(fe),j=_(fe,"DIV",{class:!0});var Oe=v(j);G=R(Oe,O),Oe.forEach(f),fe.forEach(f),Z=D(x),z&&z.l(x),H=tl(),this.h()},h(){i(t,"class","mb-2 text-sm font-medium"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"placeholder",h=l[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),i(c,"class","flex-1 mr-2"),i(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),i(p,"type","button"),i(n,"class","flex w-full"),i(e,"class",""),i(w,"class","mb-2 text-sm font-medium"),i(M,"id","upload-comfyui-workflow-input"),M.hidden=!0,i(M,"type","file"),i(M,"accept",".json"),i(L,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),i(L,"type","button"),i($,"class","flex-1"),i(V,"class","flex w-full"),i(j,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),i(E,"class","")},m(x,re){B(x,e,re),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),te(u,l[1].comfyui.COMFYUI_BASE_URL),r(n,m),r(n,p),B(x,g,re),B(x,E,re),r(E,w),r(w,I),r(E,T),F&&F.m(E,null),r(E,y),r(E,V),r(V,$),r($,M),r($,S),r($,L),r(L,N),r(E,q),r(E,j),r(j,G),B(x,Z,re),z&&z.m(x,re),B(x,H,re),U=!0,W||(J=[ae(u,"input",l[21]),ae(p,"click",l[22]),ae(M,"change",l[24]),ae(L,"click",l[25])],W=!0)},p(x,re){(!U||re[0]&32)&&s!==(s=x[5].t("ComfyUI Base URL")+"")&&K(a,s),(!U||re[0]&32&&h!==(h=x[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&i(u,"placeholder",h),re[0]&2&&u.value!==x[1].comfyui.COMFYUI_BASE_URL&&te(u,x[1].comfyui.COMFYUI_BASE_URL),(!U||re[0]&32)&&k!==(k=x[5].t("ComfyUI Workflow")+"")&&K(I,k),x[1].comfyui.COMFYUI_WORKFLOW?F?F.p(x,re):(F=Nn(x),F.c(),F.m(E,y)):F&&(F.d(1),F=null),(!U||re[0]&32)&&P!==(P=x[5].t("Click here to upload a workflow.json file.")+"")&&K(N,P),(!U||re[0]&32)&&O!==(O=x[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&K(G,O),x[1].comfyui.COMFYUI_WORKFLOW?z?(z.p(x,re),re[0]&2&&Y(z,1)):(z=On(x),z.c(),Y(z,1),z.m(H.parentNode,H)):z&&(Lt(),X(z,1,1,()=>{z=null}),Ut())},i(x){U||(Y(z),U=!0)},o(x){X(z),U=!1},d(x){x&&(f(e),f(g),f(E),f(Z),f(H)),F&&F.d(),z&&z.d(x),W=!1,Xt(J)}}}function pf(l){let e,t,s=l[5].t("AUTOMATIC1111 Base URL")+"",a,o,n,c,u,h,m,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,E,w=l[5].t("Include `--api` flag when running stable-diffusion-webui")+"",k,I,T,y=l[5].t("(e.g. `sh webui.sh --api`)")+"",V,$,M,S,L=l[5].t("AUTOMATIC1111 Api Auth String")+"",P,N,q,j,O,G,Z=l[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",H,U,W,J=l[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",F,z,x,re,ee=l[5].t("Set Sampler")+"",Q,ie,fe,Le,Re,$e,Me,Oe,Pe=l[5].t("Set Scheduler")+"",tt,ne,de,Ve,De,Ue,xe,Ke,We=l[5].t("Set CFG Scale")+"",qe,_e,ue,ge,ke,Ee,Be,rt;function oe(le){l[17](le)}let Fe={placeholder:l[5].t("Enter api auth string (e.g. username:password)"),required:!1};return l[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(Fe.value=l[1].automatic1111.AUTOMATIC1111_API_AUTH),q=new El({props:Fe}),gt.push(()=>Tt(q,"value",oe)),Re=new Kt({props:{content:l[5].t("Enter Sampler (e.g. Euler a)"),placement:"top-start",$$slots:{default:[gf]},$$scope:{ctx:l}}}),De=new Kt({props:{content:l[5].t("Enter Scheduler (e.g. Karras)"),placement:"top-start",$$slots:{default:[bf]},$$scope:{ctx:l}}}),ke=new Kt({props:{content:l[5].t("Enter CFG Scale (e.g. 7.0)"),placement:"top-start",$$slots:{default:[Ef]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("input"),m=A(),p=d("button"),p.innerHTML=b,g=A(),E=d("div"),k=C(w),I=A(),T=d("a"),V=C(y),$=A(),M=d("div"),S=d("div"),P=C(L),N=A(),he(q.$$.fragment),O=A(),G=d("div"),H=C(Z),U=A(),W=d("a"),F=C(J),z=A(),x=d("div"),re=d("div"),Q=C(ee),ie=A(),fe=d("div"),Le=d("div"),he(Re.$$.fragment),$e=A(),Me=d("div"),Oe=d("div"),tt=C(Pe),ne=A(),de=d("div"),Ve=d("div"),he(De.$$.fragment),Ue=A(),xe=d("div"),Ke=d("div"),qe=C(We),_e=A(),ue=d("div"),ge=d("div"),he(ke.$$.fragment),this.h()},l(le){e=_(le,"DIV",{});var se=v(e);t=_(se,"DIV",{class:!0});var lt=v(t);a=R(lt,s),lt.forEach(f),o=D(se),n=_(se,"DIV",{class:!0});var at=v(n);c=_(at,"DIV",{class:!0});var nt=v(c);u=_(nt,"INPUT",{class:!0,placeholder:!0}),nt.forEach(f),m=D(at),p=_(at,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(p)!=="svelte-3652k3"&&(p.innerHTML=b),at.forEach(f),g=D(se),E=_(se,"DIV",{class:!0});var it=v(E);k=R(it,w),I=D(it),T=_(it,"A",{class:!0,href:!0,target:!0});var Ye=v(T);V=R(Ye,y),Ye.forEach(f),it.forEach(f),se.forEach(f),$=D(le),M=_(le,"DIV",{});var ze=v(M);S=_(ze,"DIV",{class:!0});var ht=v(S);P=R(ht,L),ht.forEach(f),N=D(ze),pe(q.$$.fragment,ze),O=D(ze),G=_(ze,"DIV",{class:!0});var bt=v(G);H=R(bt,Z),U=D(bt),W=_(bt,"A",{class:!0,href:!0,target:!0});var Et=v(W);F=R(Et,J),Et.forEach(f),bt.forEach(f),ze.forEach(f),z=D(le),x=_(le,"DIV",{});var dt=v(x);re=_(dt,"DIV",{class:!0});var kt=v(re);Q=R(kt,ee),kt.forEach(f),ie=D(dt),fe=_(dt,"DIV",{class:!0});var st=v(fe);Le=_(st,"DIV",{class:!0});var Ae=v(Le);pe(Re.$$.fragment,Ae),Ae.forEach(f),st.forEach(f),dt.forEach(f),$e=D(le),Me=_(le,"DIV",{});var Je=v(Me);Oe=_(Je,"DIV",{class:!0});var Ce=v(Oe);tt=R(Ce,Pe),Ce.forEach(f),ne=D(Je),de=_(Je,"DIV",{class:!0});var Qe=v(de);Ve=_(Qe,"DIV",{class:!0});var Ie=v(Ve);pe(De.$$.fragment,Ie),Ie.forEach(f),Qe.forEach(f),Je.forEach(f),Ue=D(le),xe=_(le,"DIV",{});var Ge=v(xe);Ke=_(Ge,"DIV",{class:!0});var Mt=v(Ke);qe=R(Mt,We),Mt.forEach(f),_e=D(Ge),ue=_(Ge,"DIV",{class:!0});var Ot=v(ue);ge=_(Ot,"DIV",{class:!0});var Rt=v(ge);pe(ke.$$.fragment,Rt),Rt.forEach(f),Ot.forEach(f),Ge.forEach(f),this.h()},h(){i(t,"class","mb-2 text-sm font-medium"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"placeholder",h=l[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),i(c,"class","flex-1 mr-2"),i(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),i(p,"type","button"),i(n,"class","flex w-full"),i(T,"class","text-gray-300 font-medium"),i(T,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),i(T,"target","_blank"),i(E,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),i(S,"class","mb-2 text-sm font-medium"),i(W,"class","text-gray-300 font-medium"),i(W,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),i(W,"target","_blank"),i(G,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),i(re,"class","mb-2.5 text-sm font-medium"),i(Le,"class","flex-1 mr-2"),i(fe,"class","flex w-full"),i(Oe,"class","mb-2.5 text-sm font-medium"),i(Ve,"class","flex-1 mr-2"),i(de,"class","flex w-full"),i(Ke,"class","mb-2.5 text-sm font-medium"),i(ge,"class","flex-1 mr-2"),i(ue,"class","flex w-full")},m(le,se){B(le,e,se),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),te(u,l[1].automatic1111.AUTOMATIC1111_BASE_URL),r(n,m),r(n,p),r(e,g),r(e,E),r(E,k),r(E,I),r(E,T),r(T,V),B(le,$,se),B(le,M,se),r(M,S),r(S,P),r(M,N),ve(q,M,null),r(M,O),r(M,G),r(G,H),r(G,U),r(G,W),r(W,F),B(le,z,se),B(le,x,se),r(x,re),r(re,Q),r(x,ie),r(x,fe),r(fe,Le),ve(Re,Le,null),B(le,$e,se),B(le,Me,se),r(Me,Oe),r(Oe,tt),r(Me,ne),r(Me,de),r(de,Ve),ve(De,Ve,null),B(le,Ue,se),B(le,xe,se),r(xe,Ke),r(Ke,qe),r(xe,_e),r(xe,ue),r(ue,ge),ve(ke,ge,null),Ee=!0,Be||(rt=[ae(u,"input",l[15]),ae(p,"click",l[16])],Be=!0)},p(le,se){(!Ee||se[0]&32)&&s!==(s=le[5].t("AUTOMATIC1111 Base URL")+"")&&K(a,s),(!Ee||se[0]&32&&h!==(h=le[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&i(u,"placeholder",h),se[0]&2&&u.value!==le[1].automatic1111.AUTOMATIC1111_BASE_URL&&te(u,le[1].automatic1111.AUTOMATIC1111_BASE_URL),(!Ee||se[0]&32)&&w!==(w=le[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&K(k,w),(!Ee||se[0]&32)&&y!==(y=le[5].t("(e.g. `sh webui.sh --api`)")+"")&&K(V,y),(!Ee||se[0]&32)&&L!==(L=le[5].t("AUTOMATIC1111 Api Auth String")+"")&&K(P,L);const lt={};se[0]&32&&(lt.placeholder=le[5].t("Enter api auth string (e.g. username:password)")),!j&&se[0]&2&&(j=!0,lt.value=le[1].automatic1111.AUTOMATIC1111_API_AUTH,yt(()=>j=!1)),q.$set(lt),(!Ee||se[0]&32)&&Z!==(Z=le[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&K(H,Z),(!Ee||se[0]&32)&&J!==(J=le[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&K(F,J),(!Ee||se[0]&32)&&ee!==(ee=le[5].t("Set Sampler")+"")&&K(Q,ee);const at={};se[0]&32&&(at.content=le[5].t("Enter Sampler (e.g. Euler a)")),se[0]&34|se[1]&524288&&(at.$$scope={dirty:se,ctx:le}),Re.$set(at),(!Ee||se[0]&32)&&Pe!==(Pe=le[5].t("Set Scheduler")+"")&&K(tt,Pe);const nt={};se[0]&32&&(nt.content=le[5].t("Enter Scheduler (e.g. Karras)")),se[0]&34|se[1]&524288&&(nt.$$scope={dirty:se,ctx:le}),De.$set(nt),(!Ee||se[0]&32)&&We!==(We=le[5].t("Set CFG Scale")+"")&&K(qe,We);const it={};se[0]&32&&(it.content=le[5].t("Enter CFG Scale (e.g. 7.0)")),se[0]&34|se[1]&524288&&(it.$$scope={dirty:se,ctx:le}),ke.$set(it)},i(le){Ee||(Y(q.$$.fragment,le),Y(Re.$$.fragment,le),Y(De.$$.fragment,le),Y(ke.$$.fragment,le),Ee=!0)},o(le){X(q.$$.fragment,le),X(Re.$$.fragment,le),X(De.$$.fragment,le),X(ke.$$.fragment,le),Ee=!1},d(le){le&&(f(e),f($),f(M),f(z),f(x),f($e),f(Me),f(Ue),f(xe)),me(q),me(Re),me(De),me(ke),Be=!1,Xt(rt)}}}function Nn(l){let e,t,s;return{c(){e=d("textarea"),this.h()},l(a){e=_(a,"TEXTAREA",{class:!0,rows:!0}),v(e).forEach(f),this.h()},h(){i(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none disabled:text-gray-600 resize-none"),i(e,"rows","10"),e.required=!0},m(a,o){B(a,e,o),te(e,l[1].comfyui.COMFYUI_WORKFLOW),t||(s=ae(e,"input",l[23]),t=!0)},p(a,o){o[0]&2&&te(e,a[1].comfyui.COMFYUI_WORKFLOW)},d(a){a&&f(e),t=!1,s()}}}function On(l){let e,t,s=l[5].t("ComfyUI Workflow Nodes")+"",a,o,n,c,u,h=l[5].t("*Prompt node ID(s) are required for image generation")+"",m,p,b=St(l[4]),g=[];for(let w=0;w<b.length;w+=1)g[w]=Pn(Vn(l,b,w));const E=w=>X(g[w],1,1,()=>{g[w]=null});return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div");for(let w=0;w<g.length;w+=1)g[w].c();c=A(),u=d("div"),m=C(h),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var I=v(t);a=R(I,s),I.forEach(f),o=D(k),n=_(k,"DIV",{class:!0});var T=v(n);for(let V=0;V<g.length;V+=1)g[V].l(T);T.forEach(f),c=D(k),u=_(k,"DIV",{class:!0});var y=v(u);m=R(y,h),y.forEach(f),k.forEach(f),this.h()},h(){i(t,"class","mb-2 text-sm font-medium"),i(n,"class","text-xs flex flex-col gap-1.5"),i(u,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),i(e,"class","")},m(w,k){B(w,e,k),r(e,t),r(t,a),r(e,o),r(e,n);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(n,null);r(e,c),r(e,u),r(u,m),p=!0},p(w,k){if((!p||k[0]&32)&&s!==(s=w[5].t("ComfyUI Workflow Nodes")+"")&&K(a,s),k[0]&16){b=St(w[4]);let I;for(I=0;I<b.length;I+=1){const T=Vn(w,b,I);g[I]?(g[I].p(T,k),Y(g[I],1)):(g[I]=Pn(T),g[I].c(),Y(g[I],1),g[I].m(n,null))}for(Lt(),I=b.length;I<g.length;I+=1)E(I);Ut()}(!p||k[0]&32)&&h!==(h=w[5].t("*Prompt node ID(s) are required for image generation")+"")&&K(m,h)},i(w){if(!p){for(let k=0;k<b.length;k+=1)Y(g[k]);p=!0}},o(w){g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)X(g[k]);p=!1},d(w){w&&f(e),ll(g,w)}}}function vf(l){let e,t,s;function a(){l[26].call(e,l[48],l[49])}return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-none border-r dark:border-gray-850"),i(e,"placeholder","Key"),e.required=!0},m(o,n){B(o,e,n),te(e,l[47].key),t||(s=ae(e,"input",a),t=!0)},p(o,n){l=o,n[0]&16&&e.value!==l[47].key&&te(e,l[47].key)},d(o){o&&f(e),t=!1,s()}}}function mf(l){let e,t,s;function a(){l[27].call(e,l[48],l[49])}return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-none"),i(e,"placeholder","Node Ids")},m(o,n){B(o,e,n),te(e,l[47].node_ids),t||(s=ae(e,"input",a),t=!0)},p(o,n){l=o,n[0]&16&&e.value!==l[47].node_ids&&te(e,l[47].node_ids)},d(o){o&&f(e),t=!1,s()}}}function Pn(l){let e,t,s,a=l[47].type+"",o,n=l[47].type==="prompt"?"*":"",c,u,h,m,p,b,g,E,w;return m=new Kt({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[vf]},$$scope:{ctx:l}}}),g=new Kt({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[mf]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),c=C(n),u=A(),h=d("div"),he(m.$$.fragment),p=A(),b=d("div"),he(g.$$.fragment),E=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var T=v(t);s=_(T,"DIV",{class:!0});var y=v(s);o=R(y,a),c=R(y,n),y.forEach(f),T.forEach(f),u=D(I),h=_(I,"DIV",{class:!0});var V=v(h);pe(m.$$.fragment,V),V.forEach(f),p=D(I),b=_(I,"DIV",{class:!0});var $=v(b);pe(g.$$.fragment,$),$.forEach(f),E=D(I),I.forEach(f),this.h()},h(){i(s,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),i(t,"class","flex-shrink-0"),i(h,"class",""),i(b,"class","w-full"),i(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(k,I){B(k,e,I),r(e,t),r(t,s),r(s,o),r(s,c),r(e,u),r(e,h),ve(m,h,null),r(e,p),r(e,b),ve(g,b,null),r(e,E),w=!0},p(k,I){(!w||I[0]&16)&&a!==(a=k[47].type+"")&&K(o,a),(!w||I[0]&16)&&n!==(n=k[47].type==="prompt"?"*":"")&&K(c,n);const T={};I[0]&16|I[1]&524288&&(T.$$scope={dirty:I,ctx:k}),m.$set(T);const y={};I[0]&16|I[1]&524288&&(y.$$scope={dirty:I,ctx:k}),g.$set(y)},i(k){w||(Y(m.$$.fragment,k),Y(g.$$.fragment,k),w=!0)},o(k){X(m.$$.fragment,k),X(g.$$.fragment,k),w=!1},d(k){k&&f(e),me(m),me(g)}}}function Ln(l){let e,t=l[44]+"",s;return{c(){e=d("option"),s=C(t),this.h()},l(a){e=_(a,"OPTION",{});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){e.__value=l[44],te(e,e.__value)},m(a,o){B(a,e,o),r(e,s)},p:wt,d(a){a&&f(e)}}}function gf(l){let e,t,s,a,o,n,c=St(l[7]??[]),u=[];for(let h=0;h<c.length;h+=1)u[h]=Ln($n(l,c,h));return{c(){e=d("input"),s=A(),a=d("datalist");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=_(h,"INPUT",{list:!0,class:!0,placeholder:!0}),s=D(h),a=_(h,"DATALIST",{id:!0});var m=v(a);for(let p=0;p<u.length;p+=1)u[p].l(m);m.forEach(f),this.h()},h(){i(e,"list","sampler-list"),i(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"placeholder",t=l[5].t("Enter Sampler (e.g. Euler a)")),i(a,"id","sampler-list")},m(h,m){B(h,e,m),te(e,l[1].automatic1111.AUTOMATIC1111_SAMPLER),B(h,s,m),B(h,a,m);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(a,null);o||(n=ae(e,"input",l[18]),o=!0)},p(h,m){if(m[0]&32&&t!==(t=h[5].t("Enter Sampler (e.g. Euler a)"))&&i(e,"placeholder",t),m[0]&2&&e.value!==h[1].automatic1111.AUTOMATIC1111_SAMPLER&&te(e,h[1].automatic1111.AUTOMATIC1111_SAMPLER),m[0]&128){c=St(h[7]??[]);let p;for(p=0;p<c.length;p+=1){const b=$n(h,c,p);u[p]?u[p].p(b,m):(u[p]=Ln(b),u[p].c(),u[p].m(a,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}},d(h){h&&(f(e),f(s),f(a)),ll(u,h),o=!1,n()}}}function Un(l){let e,t=l[41]+"",s;return{c(){e=d("option"),s=C(t),this.h()},l(a){e=_(a,"OPTION",{});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){e.__value=l[41],te(e,e.__value)},m(a,o){B(a,e,o),r(e,s)},p:wt,d(a){a&&f(e)}}}function bf(l){let e,t,s,a,o,n,c=St(l[8]??[]),u=[];for(let h=0;h<c.length;h+=1)u[h]=Un(Sn(l,c,h));return{c(){e=d("input"),s=A(),a=d("datalist");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=_(h,"INPUT",{list:!0,class:!0,placeholder:!0}),s=D(h),a=_(h,"DATALIST",{id:!0});var m=v(a);for(let p=0;p<u.length;p+=1)u[p].l(m);m.forEach(f),this.h()},h(){i(e,"list","scheduler-list"),i(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"placeholder",t=l[5].t("Enter Scheduler (e.g. Karras)")),i(a,"id","scheduler-list")},m(h,m){B(h,e,m),te(e,l[1].automatic1111.AUTOMATIC1111_SCHEDULER),B(h,s,m),B(h,a,m);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(a,null);o||(n=ae(e,"input",l[19]),o=!0)},p(h,m){if(m[0]&32&&t!==(t=h[5].t("Enter Scheduler (e.g. Karras)"))&&i(e,"placeholder",t),m[0]&2&&e.value!==h[1].automatic1111.AUTOMATIC1111_SCHEDULER&&te(e,h[1].automatic1111.AUTOMATIC1111_SCHEDULER),m[0]&256){c=St(h[8]??[]);let p;for(p=0;p<c.length;p+=1){const b=Sn(h,c,p);u[p]?u[p].p(b,m):(u[p]=Un(b),u[p].c(),u[p].m(a,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}},d(h){h&&(f(e),f(s),f(a)),ll(u,h),o=!1,n()}}}function Ef(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"placeholder",t=l[5].t("Enter CFG Scale (e.g. 7.0)"))},m(o,n){B(o,e,n),te(e,l[1].automatic1111.AUTOMATIC1111_CFG_SCALE),s||(a=ae(e,"input",l[20]),s=!0)},p(o,n){n[0]&32&&t!==(t=o[5].t("Enter CFG Scale (e.g. 7.0)"))&&i(e,"placeholder",t),n[0]&2&&e.value!==o[1].automatic1111.AUTOMATIC1111_CFG_SCALE&&te(e,o[1].automatic1111.AUTOMATIC1111_CFG_SCALE)},d(o){o&&f(e),s=!1,a()}}}function Cn(l){let e,t,s,a,o=l[5].t("Set Default Model")+"",n,c,u,h,m,p,b,g,E,w,k=l[5].t("Set Image Size")+"",I,T,y,V,$,M,S,L,P=l[5].t("Set Steps")+"",N,q,j,O,G,Z;return b=new Kt({props:{content:l[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[wf]},$$scope:{ctx:l}}}),$=new Kt({props:{content:l[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[kf]},$$scope:{ctx:l}}}),G=new Kt({props:{content:l[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[If]},$$scope:{ctx:l}}}),{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),n=C(o),c=A(),u=d("div"),h=d("div"),m=d("div"),p=d("div"),he(b.$$.fragment),g=A(),E=d("div"),w=d("div"),I=C(k),T=A(),y=d("div"),V=d("div"),he($.$$.fragment),M=A(),S=d("div"),L=d("div"),N=C(P),q=A(),j=d("div"),O=d("div"),he(G.$$.fragment),this.h()},l(H){e=_(H,"HR",{class:!0}),t=D(H),s=_(H,"DIV",{});var U=v(s);a=_(U,"DIV",{class:!0});var W=v(a);n=R(W,o),W.forEach(f),c=D(U),u=_(U,"DIV",{class:!0});var J=v(u);h=_(J,"DIV",{class:!0});var F=v(h);m=_(F,"DIV",{class:!0});var z=v(m);p=_(z,"DIV",{class:!0});var x=v(p);pe(b.$$.fragment,x),x.forEach(f),z.forEach(f),F.forEach(f),J.forEach(f),U.forEach(f),g=D(H),E=_(H,"DIV",{});var re=v(E);w=_(re,"DIV",{class:!0});var ee=v(w);I=R(ee,k),ee.forEach(f),T=D(re),y=_(re,"DIV",{class:!0});var Q=v(y);V=_(Q,"DIV",{class:!0});var ie=v(V);pe($.$$.fragment,ie),ie.forEach(f),Q.forEach(f),re.forEach(f),M=D(H),S=_(H,"DIV",{});var fe=v(S);L=_(fe,"DIV",{class:!0});var Le=v(L);N=R(Le,P),Le.forEach(f),q=D(fe),j=_(fe,"DIV",{class:!0});var Re=v(j);O=_(Re,"DIV",{class:!0});var $e=v(O);pe(G.$$.fragment,$e),$e.forEach(f),Re.forEach(f),fe.forEach(f),this.h()},h(){i(e,"class","dark:border-gray-850"),i(a,"class","mb-2.5 text-sm font-medium"),i(p,"class","flex-1"),i(m,"class","flex w-full"),i(h,"class","flex-1 mr-2"),i(u,"class","flex w-full"),i(w,"class","mb-2.5 text-sm font-medium"),i(V,"class","flex-1 mr-2"),i(y,"class","flex w-full"),i(L,"class","mb-2.5 text-sm font-medium"),i(O,"class","flex-1 mr-2"),i(j,"class","flex w-full")},m(H,U){B(H,e,U),B(H,t,U),B(H,s,U),r(s,a),r(a,n),r(s,c),r(s,u),r(u,h),r(h,m),r(m,p),ve(b,p,null),B(H,g,U),B(H,E,U),r(E,w),r(w,I),r(E,T),r(E,y),r(y,V),ve($,V,null),B(H,M,U),B(H,S,U),r(S,L),r(L,N),r(S,q),r(S,j),r(j,O),ve(G,O,null),Z=!0},p(H,U){(!Z||U[0]&32)&&o!==(o=H[5].t("Set Default Model")+"")&&K(n,o);const W={};U[0]&32&&(W.content=H[5].t("Enter Model ID")),U[0]&12|U[1]&524288&&(W.$$scope={dirty:U,ctx:H}),b.$set(W),(!Z||U[0]&32)&&k!==(k=H[5].t("Set Image Size")+"")&&K(I,k);const J={};U[0]&32&&(J.content=H[5].t("Enter Image Size (e.g. 512x512)")),U[0]&36|U[1]&524288&&(J.$$scope={dirty:U,ctx:H}),$.$set(J),(!Z||U[0]&32)&&P!==(P=H[5].t("Set Steps")+"")&&K(N,P);const F={};U[0]&32&&(F.content=H[5].t("Enter Number of Steps (e.g. 50)")),U[0]&36|U[1]&524288&&(F.$$scope={dirty:U,ctx:H}),G.$set(F)},i(H){Z||(Y(b.$$.fragment,H),Y($.$$.fragment,H),Y(G.$$.fragment,H),Z=!0)},o(H){X(b.$$.fragment,H),X($.$$.fragment,H),X(G.$$.fragment,H),Z=!1},d(H){H&&(f(e),f(t),f(s),f(g),f(E),f(M),f(S)),me(b),me($),me(G)}}}function Rn(l){let e,t=l[38].name+"",s,a;return{c(){e=d("option"),s=C(t),this.h()},l(o){e=_(o,"OPTION",{});var n=v(e);s=R(n,t),n.forEach(f),this.h()},h(){e.__value=a=l[38].id,te(e,e.__value)},m(o,n){B(o,e,n),r(e,s)},p(o,n){n[0]&8&&t!==(t=o[38].name+"")&&K(s,t),n[0]&8&&a!==(a=o[38].id)&&(e.__value=a,te(e,e.__value))},d(o){o&&f(e)}}}function wf(l){let e,t,s,a,o,n=St(l[3]??[]),c=[];for(let u=0;u<n.length;u+=1)c[u]=Rn(Dn(l,n,u));return{c(){e=d("input"),t=A(),s=d("datalist");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=_(u,"INPUT",{list:!0,class:!0,placeholder:!0}),t=D(u),s=_(u,"DATALIST",{id:!0});var h=v(s);for(let m=0;m<c.length;m+=1)c[m].l(h);h.forEach(f),this.h()},h(){i(e,"list","model-list"),i(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"placeholder","Select a model"),e.required=!0,i(s,"id","model-list")},m(u,h){B(u,e,h),te(e,l[2].MODEL),B(u,t,h),B(u,s,h);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(s,null);a||(o=ae(e,"input",l[30]),a=!0)},p(u,h){if(h[0]&4&&e.value!==u[2].MODEL&&te(e,u[2].MODEL),h[0]&8){n=St(u[3]??[]);let m;for(m=0;m<n.length;m+=1){const p=Dn(u,n,m);c[m]?c[m].p(p,h):(c[m]=Rn(p),c[m].c(),c[m].m(s,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=n.length}},d(u){u&&(f(e),f(t),f(s)),ll(c,u),a=!1,o()}}}function kf(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"placeholder",t=l[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(o,n){B(o,e,n),te(e,l[2].IMAGE_SIZE),s||(a=ae(e,"input",l[31]),s=!0)},p(o,n){n[0]&32&&t!==(t=o[5].t("Enter Image Size (e.g. 512x512)"))&&i(e,"placeholder",t),n[0]&4&&e.value!==o[2].IMAGE_SIZE&&te(e,o[2].IMAGE_SIZE)},d(o){o&&f(e),s=!1,a()}}}function If(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"placeholder",t=l[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(o,n){B(o,e,n),te(e,l[2].IMAGE_STEPS),s||(a=ae(e,"input",l[32]),s=!0)},p(o,n){n[0]&32&&t!==(t=o[5].t("Enter Number of Steps (e.g. 50)"))&&i(e,"placeholder",t),n[0]&4&&e.value!==o[2].IMAGE_STEPS&&te(e,o[2].IMAGE_STEPS)},d(o){o&&f(e),s=!1,a()}}}function Bn(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-2 self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function yf(l){let e,t,s,a,o,n=l[5].t("Save")+"",c,u,h,m,p,b,g=l[1]&&l[2]&&Mn(l),E=l[0]&&Bn();return{c(){e=d("form"),t=d("div"),g&&g.c(),s=A(),a=d("div"),o=d("button"),c=C(n),u=A(),E&&E.c(),this.h()},l(w){e=_(w,"FORM",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var I=v(t);g&&g.l(I),I.forEach(f),s=D(k),a=_(k,"DIV",{class:!0});var T=v(a);o=_(T,"BUTTON",{class:!0,type:!0});var y=v(o);c=R(y,n),u=D(y),E&&E.l(y),y.forEach(f),T.forEach(f),k.forEach(f),this.h()},h(){i(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),i(o,"class",h="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[0]?" cursor-not-allowed":"")),i(o,"type","submit"),o.disabled=l[0],i(a,"class","flex justify-end pt-3 text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(w,k){B(w,e,k),r(e,t),g&&g.m(t,null),r(e,s),r(e,a),r(a,o),r(o,c),r(o,u),E&&E.m(o,null),m=!0,p||(b=ae(e,"submit",jl(l[33])),p=!0)},p(w,k){w[1]&&w[2]?g?(g.p(w,k),k[0]&6&&Y(g,1)):(g=Mn(w),g.c(),Y(g,1),g.m(t,null)):g&&(Lt(),X(g,1,1,()=>{g=null}),Ut()),(!m||k[0]&32)&&n!==(n=w[5].t("Save")+"")&&K(c,n),w[0]?E||(E=Bn(),E.c(),E.m(o,null)):E&&(E.d(1),E=null),(!m||k[0]&1&&h!==(h="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(w[0]?" cursor-not-allowed":"")))&&i(o,"class",h),(!m||k[0]&1)&&(o.disabled=w[0])},i(w){m||(Y(g),m=!0)},o(w){X(g),m=!1},d(w){w&&f(e),g&&g.d(),E&&E.d(),p=!1,b()}}}function Tf(l,e,t){let s,a;sl(l,Ys,Q=>t(34,s=Q));const o=ds(),n=yl("i18n");sl(l,n,Q=>t(5,a=Q));let c=!1,u=null,h=null,m=null,p=["DPM++ 2M","DPM++ SDE","DPM++ 2M SDE","DPM++ 2M SDE Heun","DPM++ 2S a","DPM++ 3M SDE","Euler a","Euler","LMS","Heun","DPM2","DPM2 a","DPM fast","DPM adaptive","Restart","DDIM","DDIM CFG++","PLMS","UniPC"],b=["Automatic","Uniform","Karras","Exponential","Polyexponential","SGM Uniform","KL Optimal","Align Your Steps","Simple","Normal","DDIM","Beta"],g=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const E=async()=>{t(3,m=await Ho(localStorage.token).catch(Q=>(Ze.error(Q),null)))},w=async()=>{const Q=await Kr(localStorage.token,u).catch(ie=>(Ze.error(ie),null));Q&&t(1,u=Q),u.enabled&&(cs.set(await Os()),E())},k=Q=>{try{const ie=JSON.parse(Q);if(ie&&typeof ie=="object")return!0}catch{}return!1},I=async()=>{var Q,ie;if(t(0,c=!0),(Q=u==null?void 0:u.comfyui)!=null&&Q.COMFYUI_WORKFLOW&&!k(u.comfyui.COMFYUI_WORKFLOW)){Ze.error("Invalid JSON format for ComfyUI Workflow."),t(0,c=!1);return}(ie=u==null?void 0:u.comfyui)!=null&&ie.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW_NODES=g.map(fe=>({type:fe.type,key:fe.key,node_ids:fe.node_ids.trim()===""?[]:fe.node_ids.split(",").map(Le=>Le.trim())})),u),await Kr(localStorage.token,u).catch(fe=>(Ze.error(fe),t(0,c=!1),null)),await jo(localStorage.token,h).catch(fe=>(Ze.error(fe),t(0,c=!1),null)),E(),o("save"),t(0,c=!1)};Ul(async()=>{if(s.role==="admin"){const Q=await Ro(localStorage.token).catch(fe=>(Ze.error(fe),null));Q&&t(1,u=Q),u.enabled&&E(),u.comfyui.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(u.comfyui.COMFYUI_WORKFLOW),null,2),u),t(4,g=g.map(fe=>{const Le=u.comfyui.COMFYUI_WORKFLOW_NODES.find(Re=>Re.type===fe.type)??fe;return console.log(Le),{type:Le.type,key:Le.key,node_ids:typeof Le.node_ids=="string"?Le.node_ids:Le.node_ids.join(",")}}));const ie=await Bo(localStorage.token).catch(fe=>(Ze.error(fe),null));ie&&t(2,h=ie)}});function T(Q){l.$$.not_equal(u.enabled,Q)&&(u.enabled=Q,t(1,u))}const y=Q=>{Q.detail&&(u.engine==="automatic1111"&&u.automatic1111.AUTOMATIC1111_BASE_URL===""?(Ze.error(a.t("AUTOMATIC1111 Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="comfyui"&&u.comfyui.COMFYUI_BASE_URL===""?(Ze.error(a.t("ComfyUI Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="openai"&&u.openai.OPENAI_API_KEY===""&&(Ze.error(a.t("OpenAI API Key is required.")),t(1,u.enabled=!1,u))),w()};function V(){u.engine=wl(this),t(1,u)}const $=async()=>{w()};function M(){u.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,u)}const S=async()=>{await w(),await qr(localStorage.token).catch(ie=>(Ze.error(ie),null))&&Ze.success(a.t("Server connection verified"))};function L(Q){l.$$.not_equal(u.automatic1111.AUTOMATIC1111_API_AUTH,Q)&&(u.automatic1111.AUTOMATIC1111_API_AUTH=Q,t(1,u))}function P(){u.automatic1111.AUTOMATIC1111_SAMPLER=this.value,t(1,u)}function N(){u.automatic1111.AUTOMATIC1111_SCHEDULER=this.value,t(1,u)}function q(){u.automatic1111.AUTOMATIC1111_CFG_SCALE=this.value,t(1,u)}function j(){u.comfyui.COMFYUI_BASE_URL=this.value,t(1,u)}const O=async()=>{await w(),await qr(localStorage.token).catch(ie=>(Ze.error(ie),null))&&Ze.success(a.t("Server connection verified"))};function G(){u.comfyui.COMFYUI_WORKFLOW=this.value,t(1,u)}const Z=Q=>{const ie=Q.target.files[0],fe=new FileReader;fe.onload=Le=>{t(1,u.comfyui.COMFYUI_WORKFLOW=Le.target.result,u),Le.target.value=null},fe.readAsText(ie)},H=()=>{var Q;(Q=document.getElementById("upload-comfyui-workflow-input"))==null||Q.click()};function U(Q,ie){Q[ie].key=this.value,t(4,g)}function W(Q,ie){Q[ie].node_ids=this.value,t(4,g)}function J(){u.openai.OPENAI_API_BASE_URL=this.value,t(1,u)}function F(Q){l.$$.not_equal(u.openai.OPENAI_API_KEY,Q)&&(u.openai.OPENAI_API_KEY=Q,t(1,u))}function z(){h.MODEL=this.value,t(2,h)}function x(){h.IMAGE_SIZE=this.value,t(2,h)}function re(){h.IMAGE_STEPS=this.value,t(2,h)}return[c,u,h,m,g,a,n,p,b,w,I,T,y,V,$,M,S,L,P,N,q,j,O,G,Z,H,U,W,J,F,z,x,re,async()=>{I()}]}class Af extends fl{constructor(e){super(),cl(this,e,Tf,yf,ul,{},null,[-1,-1])}}function Hn(l,e,t){const s=l.slice();return s[30]=e[t],s[31]=e,s[32]=t,s}function jn(l,e,t){const s=l.slice();return s[33]=e[t],s[34]=e,s[35]=t,s}function Gn(l,e,t){const s=l.slice();return s[36]=e[t],s}function Zn(l,e,t){const s=l.slice();return s[36]=e[t],s}function Df(l){let e,t;return{c(){e=Gt("svg"),t=Gt("path"),this.h()},l(s){e=Zt(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=Zt(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(f),a.forEach(f),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","size-3.5")},m(s,a){B(s,e,a),r(e,t)},p:wt,d(s){s&&f(e)}}}function Kn(l){let e,t=l[36].name+"",s,a,o;return{c(){e=d("option"),s=C(t),a=A(),this.h()},l(n){e=_(n,"OPTION",{class:!0});var c=v(e);s=R(c,t),a=D(c),c.forEach(f),this.h()},h(){e.__value=o=l[36].id,te(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,c){B(n,e,c),r(e,s),r(e,a)},p(n,c){c[0]&16&&t!==(t=n[36].name+"")&&K(s,t),c[0]&16&&o!==(o=n[36].id)&&(e.__value=o,te(e,e.__value))},d(n){n&&f(e)}}}function qn(l){let e,t=l[36].name+"",s,a,o;return{c(){e=d("option"),s=C(t),a=A(),this.h()},l(n){e=_(n,"OPTION",{class:!0});var c=v(e);s=R(c,t),a=D(c),c.forEach(f),this.h()},h(){e.__value=o=l[36].id,te(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,c){B(n,e,c),r(e,s),r(e,a)},p(n,c){c[0]&16&&t!==(t=n[36].name+"")&&K(s,t),c[0]&16&&o!==(o=n[36].id)&&(e.__value=o,te(e,e.__value))},d(n){n&&f(e)}}}function Vf(l){let e,t,s;function a(n){l[11](n)}let o={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].TITLE_GENERATION_PROMPT_TEMPLATE!==void 0&&(o.value=l[0].TITLE_GENERATION_PROMPT_TEMPLATE),e=new $a({props:o}),gt.push(()=>Tt(e,"value",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){const u={};c[0]&8&&(u.placeholder=n[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&1&&(t=!0,u.value=n[0].TITLE_GENERATION_PROMPT_TEMPLATE,yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}function Wn(l){let e,t,s=l[3].t("Tags Generation Prompt")+"",a,o,n,c;return n=new Kt({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Sf]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);t=_(h,"DIV",{class:!0});var m=v(t);a=R(m,s),m.forEach(f),o=D(h),pe(n.$$.fragment,h),h.forEach(f),this.h()},h(){i(t,"class","mb-2.5 text-xs font-medium"),i(e,"class","mt-3")},m(u,h){B(u,e,h),r(e,t),r(t,a),r(e,o),ve(n,e,null),c=!0},p(u,h){(!c||h[0]&8)&&s!==(s=u[3].t("Tags Generation Prompt")+"")&&K(a,s);const m={};h[0]&8&&(m.content=u[3].t("Leave empty to use the default prompt, or enter a custom prompt")),h[0]&9|h[1]&1024&&(m.$$scope={dirty:h,ctx:u}),n.$set(m)},i(u){c||(Y(n.$$.fragment,u),c=!0)},o(u){X(n.$$.fragment,u),c=!1},d(u){u&&f(e),me(n)}}}function Sf(l){let e,t,s;function a(n){l[13](n)}let o={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].TAGS_GENERATION_PROMPT_TEMPLATE!==void 0&&(o.value=l[0].TAGS_GENERATION_PROMPT_TEMPLATE),e=new $a({props:o}),gt.push(()=>Tt(e,"value",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){const u={};c[0]&8&&(u.placeholder=n[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&1&&(t=!0,u.value=n[0].TAGS_GENERATION_PROMPT_TEMPLATE,yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}function $f(l){let e,t,s;function a(n){l[16](n)}let o={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].QUERY_GENERATION_PROMPT_TEMPLATE!==void 0&&(o.value=l[0].QUERY_GENERATION_PROMPT_TEMPLATE),e=new $a({props:o}),gt.push(()=>Tt(e,"value",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){const u={};c[0]&8&&(u.placeholder=n[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&1&&(t=!0,u.value=n[0].QUERY_GENERATION_PROMPT_TEMPLATE,yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}function Fn(l){let e,t=l[3].t("Type")+"",s;return{c(){e=d("option"),s=C(t),this.h()},l(a){e=_(a,"OPTION",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){e.__value="",te(e,e.__value),e.selected=!0,e.disabled=!0,i(e,"class","text-gray-900")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&8&&t!==(t=a[3].t("Type")+"")&&K(s,t)},d(a){a&&f(e)}}}function Mf(l){let e,t,s;function a(n){l[20](n,l[33])}let o={};return l[33].dismissible!==void 0&&(o.state=l[33].dismissible),e=new ml({props:o}),gt.push(()=>Tt(e,"state",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){l=n;const u={};!t&&c[0]&4&&(t=!0,u.state=l[33].dismissible,yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}function zn(l){let e,t,s,a,o=l[3].t("Info")+"",n,c,u=l[3].t("Warning")+"",h,m,p=l[3].t("Error")+"",b,g,E=l[3].t("Success")+"",w,k,I,T,y,V,$,M,S,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',P,N,q,j,O=l[33].type==""&&Fn(l);function G(){l[18].call(s,l[34],l[35])}function Z(){l[19].call(I,l[34],l[35])}$=new Kt({props:{content:l[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[Mf]},$$scope:{ctx:l}}});function H(){return l[21](l[35])}return{c(){e=d("div"),t=d("div"),s=d("select"),O&&O.c(),a=d("option"),n=C(o),c=d("option"),h=C(u),m=d("option"),b=C(p),g=d("option"),w=C(E),k=A(),I=d("input"),y=A(),V=d("div"),he($.$$.fragment),M=A(),S=d("button"),S.innerHTML=L,P=A(),this.h()},l(U){e=_(U,"DIV",{class:!0});var W=v(e);t=_(W,"DIV",{class:!0});var J=v(t);s=_(J,"SELECT",{class:!0});var F=v(s);O&&O.l(F),a=_(F,"OPTION",{class:!0});var z=v(a);n=R(z,o),z.forEach(f),c=_(F,"OPTION",{class:!0});var x=v(c);h=R(x,u),x.forEach(f),m=_(F,"OPTION",{class:!0});var re=v(m);b=R(re,p),re.forEach(f),g=_(F,"OPTION",{class:!0});var ee=v(g);w=R(ee,E),ee.forEach(f),F.forEach(f),k=D(J),I=_(J,"INPUT",{class:!0,placeholder:!0}),y=D(J),V=_(J,"DIV",{class:!0});var Q=v(V);pe($.$$.fragment,Q),Q.forEach(f),J.forEach(f),M=D(W),S=_(W,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(S)!=="svelte-nlagmo"&&(S.innerHTML=L),P=D(W),W.forEach(f),this.h()},h(){a.__value="info",te(a,a.__value),i(a,"class","text-gray-900"),c.__value="warning",te(c,c.__value),i(c,"class","text-gray-900"),m.__value="error",te(m,m.__value),i(m,"class","text-gray-900"),g.__value="success",te(g,g.__value),i(g,"class","text-gray-900"),i(s,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none"),s.required=!0,l[33].type===void 0&&Il(G),i(I,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-none"),i(I,"placeholder",T=l[3].t("Content")),i(V,"class","relative top-1.5 -left-2"),i(t,"class","flex flex-row flex-1 border rounded-xl dark:border-gray-800"),i(S,"class","px-2"),i(S,"type","button"),i(e,"class","flex justify-between")},m(U,W){B(U,e,W),r(e,t),r(t,s),O&&O.m(s,null),r(s,a),r(a,n),r(s,c),r(c,h),r(s,m),r(m,b),r(s,g),r(g,w),Yt(s,l[33].type,!0),r(t,k),r(t,I),te(I,l[33].content),r(t,y),r(t,V),ve($,V,null),r(e,M),r(e,S),r(e,P),N=!0,q||(j=[ae(s,"change",G),ae(I,"input",Z),ae(S,"click",H)],q=!0)},p(U,W){l=U,l[33].type==""?O?O.p(l,W):(O=Fn(l),O.c(),O.m(s,a)):O&&(O.d(1),O=null),(!N||W[0]&8)&&o!==(o=l[3].t("Info")+"")&&K(n,o),(!N||W[0]&8)&&u!==(u=l[3].t("Warning")+"")&&K(h,u),(!N||W[0]&8)&&p!==(p=l[3].t("Error")+"")&&K(b,p),(!N||W[0]&8)&&E!==(E=l[3].t("Success")+"")&&K(w,E),W[0]&4&&Yt(s,l[33].type),(!N||W[0]&8&&T!==(T=l[3].t("Content")))&&i(I,"placeholder",T),W[0]&4&&I.value!==l[33].content&&te(I,l[33].content);const J={};W[0]&8&&(J.content=l[3].t("Dismissible")),W[0]&4|W[1]&1024&&(J.$$scope={dirty:W,ctx:l}),$.$set(J)},i(U){N||(Y($.$$.fragment,U),N=!0)},o(U){X($.$$.fragment,U),N=!1},d(U){U&&f(e),O&&O.d(),me($),q=!1,Xt(j)}}}function Yn(l){let e,t,s,a=l[3].t("Default Prompt Suggestions")+"",o,n,c,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',h,m,p,b,g,E=St(l[1]),w=[];for(let I=0;I<E.length;I+=1)w[I]=Qn(Hn(l,E,I));let k=l[1].length>0&&Jn(l);return{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("button"),c.innerHTML=u,h=A(),m=d("div");for(let I=0;I<w.length;I+=1)w[I].c();p=A(),k&&k.c(),this.h()},l(I){e=_(I,"DIV",{class:!0});var T=v(e);t=_(T,"DIV",{class:!0});var y=v(t);s=_(y,"DIV",{class:!0});var V=v(s);o=R(V,a),V.forEach(f),n=D(y),c=_(y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(c)!=="svelte-192kpg7"&&(c.innerHTML=u),y.forEach(f),h=D(T),m=_(T,"DIV",{class:!0});var $=v(m);for(let M=0;M<w.length;M+=1)w[M].l($);$.forEach(f),p=D(T),k&&k.l(T),T.forEach(f),this.h()},h(){i(s,"class","self-center text-sm font-semibold"),i(c,"class","p-1 px-3 text-xs flex rounded transition"),i(c,"type","button"),i(t,"class","flex w-full justify-between mb-2"),i(m,"class","grid lg:grid-cols-2 flex-col gap-1.5"),i(e,"class","space-y-3")},m(I,T){B(I,e,T),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),r(e,h),r(e,m);for(let y=0;y<w.length;y+=1)w[y]&&w[y].m(m,null);r(e,p),k&&k.m(e,null),b||(g=ae(c,"click",l[22]),b=!0)},p(I,T){if(T[0]&8&&a!==(a=I[3].t("Default Prompt Suggestions")+"")&&K(o,a),T[0]&10){E=St(I[1]);let y;for(y=0;y<E.length;y+=1){const V=Hn(I,E,y);w[y]?w[y].p(V,T):(w[y]=Qn(V),w[y].c(),w[y].m(m,null))}for(;y<w.length;y+=1)w[y].d(1);w.length=E.length}I[1].length>0?k?k.p(I,T):(k=Jn(I),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d(I){I&&f(e),ll(w,I),k&&k.d(),b=!1,g()}}}function Qn(l){let e,t,s,a,o,n,c,u,h,m,p,b,g,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,k,I;function T(){l[23].call(a,l[31],l[32])}function y(){l[24].call(c,l[31],l[32])}function V(){l[25].call(m,l[31],l[32])}function $(){return l[26](l[32])}return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("input"),n=A(),c=d("input"),h=A(),m=d("textarea"),b=A(),g=d("button"),g.innerHTML=E,w=A(),this.h()},l(M){e=_(M,"DIV",{class:!0});var S=v(e);t=_(S,"DIV",{class:!0});var L=v(t);s=_(L,"DIV",{class:!0});var P=v(s);a=_(P,"INPUT",{class:!0,placeholder:!0}),n=D(P),c=_(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(f),h=D(L),m=_(L,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),v(m).forEach(f),L.forEach(f),b=D(S),g=_(S,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(g)!=="svelte-1dyt8gv"&&(g.innerHTML=E),w=D(S),S.forEach(f),this.h()},h(){i(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),i(a,"placeholder",o=l[3].t("Title (e.g. Tell me a fun fact)")),i(c,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),i(c,"placeholder",u=l[3].t("Subtitle (e.g. about the Roman Empire)")),i(s,"class","flex border-b border-gray-100 dark:border-gray-800 w-full"),i(m,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800 resize-none"),i(m,"placeholder",p=l[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),i(m,"rows","3"),i(t,"class","flex flex-col flex-1 pl-1"),i(g,"class","px-3"),i(g,"type","button"),i(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(M,S){B(M,e,S),r(e,t),r(t,s),r(s,a),te(a,l[30].title[0]),r(s,n),r(s,c),te(c,l[30].title[1]),r(t,h),r(t,m),te(m,l[30].content),r(e,b),r(e,g),r(e,w),k||(I=[ae(a,"input",T),ae(c,"input",y),ae(m,"input",V),ae(g,"click",$)],k=!0)},p(M,S){l=M,S[0]&8&&o!==(o=l[3].t("Title (e.g. Tell me a fun fact)"))&&i(a,"placeholder",o),S[0]&2&&a.value!==l[30].title[0]&&te(a,l[30].title[0]),S[0]&8&&u!==(u=l[3].t("Subtitle (e.g. about the Roman Empire)"))&&i(c,"placeholder",u),S[0]&2&&c.value!==l[30].title[1]&&te(c,l[30].title[1]),S[0]&8&&p!==(p=l[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&i(m,"placeholder",p),S[0]&2&&te(m,l[30].content)},d(M){M&&f(e),k=!1,Xt(I)}}}function Jn(l){let e,t=l[3].t("Adjusting these settings will apply changes universally to all users.")+"",s;return{c(){e=d("div"),s=C(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","text-xs text-left w-full mt-2")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&K(s,t)},d(a){a&&f(e)}}}function Nf(l){let e,t,s,a,o,n=l[3].t("Set Task Model")+"",c,u,h,m,p,b,g,E=l[3].t("Local Models")+"",w,k,I,T,y=l[3].t("Current Model")+"",V,$,M,S,L,P=l[3].t("External Models")+"",N,q,j,O,G=l[3].t("Current Model")+"",Z,H,U,W,J,F=l[3].t("Title Generation Prompt")+"",z,x,re,ee,Q,ie,fe,Le,Re=l[3].t("Enable Tags Generation")+"",$e,Me,Oe,Pe,tt,ne,de,Ve,De,Ue,xe=l[3].t("Enable Retrieval Query Generation")+"",Ke,We,qe,_e,ue,ge,ke,Ee=l[3].t("Enable Web Search Query Generation")+"",Be,rt,oe,Fe,le,se,lt,at=l[3].t("Query Generation Prompt")+"",nt,it,Ye,ze,ht,bt,Et,dt,kt,st=l[3].t("Banners")+"",Ae,Je,Ce,Qe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',Ie,Ge,Mt,Ot,Rt,ut,Te,we=l[3].t("Save")+"",Bt,Dt,Vt,Ht;h=new Kt({props:{content:l[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[Df]},$$scope:{ctx:l}}});let At=St(l[4].filter(Xn)),Se=[];for(let ce=0;ce<At.length;ce+=1)Se[ce]=Kn(Zn(l,At,ce));let ct=St(l[4]),vt=[];for(let ce=0;ce<ct.length;ce+=1)vt[ce]=qn(Gn(l,ct,ce));re=new Kt({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Vf]},$$scope:{ctx:l}}});function Pt(ce){l[12](ce)}let _t={};l[0].ENABLE_TAGS_GENERATION!==void 0&&(_t.state=l[0].ENABLE_TAGS_GENERATION),Oe=new ml({props:_t}),gt.push(()=>Tt(Oe,"state",Pt));let pt=l[0].ENABLE_TAGS_GENERATION&&Wn(l);function Ft(ce){l[14](ce)}let He={};l[0].ENABLE_RETRIEVAL_QUERY_GENERATION!==void 0&&(He.state=l[0].ENABLE_RETRIEVAL_QUERY_GENERATION),qe=new ml({props:He}),gt.push(()=>Tt(qe,"state",Ft));function je(ce){l[15](ce)}let $t={};l[0].ENABLE_SEARCH_QUERY_GENERATION!==void 0&&($t.state=l[0].ENABLE_SEARCH_QUERY_GENERATION),oe=new ml({props:$t}),gt.push(()=>Tt(oe,"state",je)),Ye=new Kt({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[$f]},$$scope:{ctx:l}}});let Ne=St(l[2]),be=[];for(let ce=0;ce<Ne.length;ce+=1)be[ce]=zn(jn(l,Ne,ce));const Xe=ce=>X(be[ce],1,1,()=>{be[ce]=null});let ft=l[5].role==="admin"&&Yn(l);return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),o=d("div"),c=C(n),u=A(),he(h.$$.fragment),m=A(),p=d("div"),b=d("div"),g=d("div"),w=C(E),k=A(),I=d("select"),T=d("option"),V=C(y);for(let ce=0;ce<Se.length;ce+=1)Se[ce].c();M=A(),S=d("div"),L=d("div"),N=C(P),q=A(),j=d("select"),O=d("option"),Z=C(G);for(let ce=0;ce<vt.length;ce+=1)vt[ce].c();U=A(),W=d("div"),J=d("div"),z=C(F),x=A(),he(re.$$.fragment),ee=A(),Q=d("hr"),ie=A(),fe=d("div"),Le=d("div"),$e=C(Re),Me=A(),he(Oe.$$.fragment),tt=A(),pt&&pt.c(),ne=A(),de=d("hr"),Ve=A(),De=d("div"),Ue=d("div"),Ke=C(xe),We=A(),he(qe.$$.fragment),ue=A(),ge=d("div"),ke=d("div"),Be=C(Ee),rt=A(),he(oe.$$.fragment),le=A(),se=d("div"),lt=d("div"),nt=C(at),it=A(),he(Ye.$$.fragment),ze=A(),ht=d("hr"),bt=A(),Et=d("div"),dt=d("div"),kt=d("div"),Ae=C(st),Je=A(),Ce=d("button"),Ce.innerHTML=Qe,Ie=A(),Ge=d("div");for(let ce=0;ce<be.length;ce+=1)be[ce].c();Ot=A(),ft&&ft.c(),Rt=A(),ut=d("div"),Te=d("button"),Bt=C(we),this.h()},l(ce){e=_(ce,"FORM",{class:!0});var et=v(e);t=_(et,"DIV",{class:!0});var Nt=v(t);s=_(Nt,"DIV",{});var It=v(s);a=_(It,"DIV",{class:!0});var Qt=v(a);o=_(Qt,"DIV",{class:!0});var jt=v(o);c=R(jt,n),jt.forEach(f),u=D(Qt),pe(h.$$.fragment,Qt),Qt.forEach(f),m=D(It),p=_(It,"DIV",{class:!0});var qt=v(p);b=_(qt,"DIV",{class:!0});var xt=v(b);g=_(xt,"DIV",{class:!0});var mt=v(g);w=R(mt,E),mt.forEach(f),k=D(xt),I=_(xt,"SELECT",{class:!0,placeholder:!0});var zt=v(I);T=_(zt,"OPTION",{});var _l=v(T);V=R(_l,y),_l.forEach(f);for(let il=0;il<Se.length;il+=1)Se[il].l(zt);zt.forEach(f),xt.forEach(f),M=D(qt),S=_(qt,"DIV",{class:!0});var rl=v(S);L=_(rl,"DIV",{class:!0});var hl=v(L);N=R(hl,P),hl.forEach(f),q=D(rl),j=_(rl,"SELECT",{class:!0,placeholder:!0});var Jt=v(j);O=_(Jt,"OPTION",{});var pl=v(O);Z=R(pl,G),pl.forEach(f);for(let il=0;il<vt.length;il+=1)vt[il].l(Jt);Jt.forEach(f),rl.forEach(f),qt.forEach(f),U=D(It),W=_(It,"DIV",{class:!0});var nl=v(W);J=_(nl,"DIV",{class:!0});var gl=v(J);z=R(gl,F),gl.forEach(f),x=D(nl),pe(re.$$.fragment,nl),nl.forEach(f),ee=D(It),Q=_(It,"HR",{class:!0}),ie=D(It),fe=_(It,"DIV",{class:!0});var ol=v(fe);Le=_(ol,"DIV",{class:!0});var Vl=v(Le);$e=R(Vl,Re),Vl.forEach(f),Me=D(ol),pe(Oe.$$.fragment,ol),ol.forEach(f),tt=D(It),pt&&pt.l(It),ne=D(It),de=_(It,"HR",{class:!0}),Ve=D(It),De=_(It,"DIV",{class:!0});var dl=v(De);Ue=_(dl,"DIV",{class:!0});var Tl=v(Ue);Ke=R(Tl,xe),Tl.forEach(f),We=D(dl),pe(qe.$$.fragment,dl),dl.forEach(f),ue=D(It),ge=_(It,"DIV",{class:!0});var al=v(ge);ke=_(al,"DIV",{class:!0});var vl=v(ke);Be=R(vl,Ee),vl.forEach(f),rt=D(al),pe(oe.$$.fragment,al),al.forEach(f),le=D(It),se=_(It,"DIV",{class:!0});var Al=v(se);lt=_(Al,"DIV",{class:!0});var Gl=v(lt);nt=R(Gl,at),Gl.forEach(f),it=D(Al),pe(Ye.$$.fragment,Al),Al.forEach(f),It.forEach(f),ze=D(Nt),ht=_(Nt,"HR",{class:!0}),bt=D(Nt),Et=_(Nt,"DIV",{class:!0});var Ll=v(Et);dt=_(Ll,"DIV",{class:!0});var Bl=v(dt);kt=_(Bl,"DIV",{class:!0});var Hl=v(kt);Ae=R(Hl,st),Hl.forEach(f),Je=D(Bl),Ce=_(Bl,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(Ce)!=="svelte-1nhoygc"&&(Ce.innerHTML=Qe),Bl.forEach(f),Ie=D(Ll),Ge=_(Ll,"DIV",{class:!0});var bl=v(Ge);for(let il=0;il<be.length;il+=1)be[il].l(bl);bl.forEach(f),Ll.forEach(f),Ot=D(Nt),ft&&ft.l(Nt),Nt.forEach(f),Rt=D(et),ut=_(et,"DIV",{class:!0});var Fl=v(ut);Te=_(Fl,"BUTTON",{class:!0,type:!0});var Zl=v(Te);Bt=R(Zl,we),Zl.forEach(f),Fl.forEach(f),et.forEach(f),this.h()},h(){i(o,"class","mr-1"),i(a,"class","mb-2.5 text-sm font-medium flex items-center"),i(g,"class","text-xs mb-1"),T.__value="",te(T,T.__value),T.selected=!0,i(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(I,"placeholder",$=l[3].t("Select a model")),l[0].TASK_MODEL===void 0&&Il(()=>l[9].call(I)),i(b,"class","flex-1"),i(L,"class","text-xs mb-1"),O.__value="",te(O,O.__value),O.selected=!0,i(j,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(j,"placeholder",H=l[3].t("Select a model")),l[0].TASK_MODEL_EXTERNAL===void 0&&Il(()=>l[10].call(j)),i(S,"class","flex-1"),i(p,"class","flex w-full gap-2"),i(J,"class","mb-2.5 text-xs font-medium"),i(W,"class","mt-3"),i(Q,"class","dark:border-gray-850 my-3"),i(Le,"class","self-center text-xs font-medium"),i(fe,"class","my-3 flex w-full items-center justify-between"),i(de,"class","dark:border-gray-850 my-3"),i(Ue,"class","self-center text-xs font-medium"),i(De,"class","my-3 flex w-full items-center justify-between"),i(ke,"class","self-center text-xs font-medium"),i(ge,"class","my-3 flex w-full items-center justify-between"),i(lt,"class","mb-2.5 text-xs font-medium"),i(se,"class",""),i(ht,"class","dark:border-gray-850 my-3"),i(kt,"class","self-center text-sm font-semibold"),i(Ce,"class","p-1 px-3 text-xs flex rounded transition"),i(Ce,"type","button"),i(dt,"class","flex w-full justify-between"),i(Ge,"class","flex flex-col space-y-1"),i(Et,"class",Mt="space-y-3 "+(l[2].length>0?" mb-3":"")),i(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),i(Te,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),i(Te,"type","submit"),i(ut,"class","flex justify-end text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ce,et){B(ce,e,et),r(e,t),r(t,s),r(s,a),r(a,o),r(o,c),r(a,u),ve(h,a,null),r(s,m),r(s,p),r(p,b),r(b,g),r(g,w),r(b,k),r(b,I),r(I,T),r(T,V);for(let Nt=0;Nt<Se.length;Nt+=1)Se[Nt]&&Se[Nt].m(I,null);Yt(I,l[0].TASK_MODEL,!0),r(p,M),r(p,S),r(S,L),r(L,N),r(S,q),r(S,j),r(j,O),r(O,Z);for(let Nt=0;Nt<vt.length;Nt+=1)vt[Nt]&&vt[Nt].m(j,null);Yt(j,l[0].TASK_MODEL_EXTERNAL,!0),r(s,U),r(s,W),r(W,J),r(J,z),r(W,x),ve(re,W,null),r(s,ee),r(s,Q),r(s,ie),r(s,fe),r(fe,Le),r(Le,$e),r(fe,Me),ve(Oe,fe,null),r(s,tt),pt&&pt.m(s,null),r(s,ne),r(s,de),r(s,Ve),r(s,De),r(De,Ue),r(Ue,Ke),r(De,We),ve(qe,De,null),r(s,ue),r(s,ge),r(ge,ke),r(ke,Be),r(ge,rt),ve(oe,ge,null),r(s,le),r(s,se),r(se,lt),r(lt,nt),r(se,it),ve(Ye,se,null),r(t,ze),r(t,ht),r(t,bt),r(t,Et),r(Et,dt),r(dt,kt),r(kt,Ae),r(dt,Je),r(dt,Ce),r(Et,Ie),r(Et,Ge);for(let Nt=0;Nt<be.length;Nt+=1)be[Nt]&&be[Nt].m(Ge,null);r(t,Ot),ft&&ft.m(t,null),r(e,Rt),r(e,ut),r(ut,Te),r(Te,Bt),Dt=!0,Vt||(Ht=[ae(I,"change",l[9]),ae(j,"change",l[10]),ae(Ce,"click",l[17]),ae(e,"submit",jl(l[27]))],Vt=!0)},p(ce,et){(!Dt||et[0]&8)&&n!==(n=ce[3].t("Set Task Model")+"")&&K(c,n);const Nt={};if(et[0]&8&&(Nt.content=ce[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),et[1]&1024&&(Nt.$$scope={dirty:et,ctx:ce}),h.$set(Nt),(!Dt||et[0]&8)&&E!==(E=ce[3].t("Local Models")+"")&&K(w,E),(!Dt||et[0]&8)&&y!==(y=ce[3].t("Current Model")+"")&&K(V,y),et[0]&16){At=St(ce[4].filter(Xn));let mt;for(mt=0;mt<At.length;mt+=1){const zt=Zn(ce,At,mt);Se[mt]?Se[mt].p(zt,et):(Se[mt]=Kn(zt),Se[mt].c(),Se[mt].m(I,null))}for(;mt<Se.length;mt+=1)Se[mt].d(1);Se.length=At.length}if((!Dt||et[0]&8&&$!==($=ce[3].t("Select a model")))&&i(I,"placeholder",$),et[0]&17&&Yt(I,ce[0].TASK_MODEL),(!Dt||et[0]&8)&&P!==(P=ce[3].t("External Models")+"")&&K(N,P),(!Dt||et[0]&8)&&G!==(G=ce[3].t("Current Model")+"")&&K(Z,G),et[0]&16){ct=St(ce[4]);let mt;for(mt=0;mt<ct.length;mt+=1){const zt=Gn(ce,ct,mt);vt[mt]?vt[mt].p(zt,et):(vt[mt]=qn(zt),vt[mt].c(),vt[mt].m(j,null))}for(;mt<vt.length;mt+=1)vt[mt].d(1);vt.length=ct.length}(!Dt||et[0]&8&&H!==(H=ce[3].t("Select a model")))&&i(j,"placeholder",H),et[0]&17&&Yt(j,ce[0].TASK_MODEL_EXTERNAL),(!Dt||et[0]&8)&&F!==(F=ce[3].t("Title Generation Prompt")+"")&&K(z,F);const It={};et[0]&8&&(It.content=ce[3].t("Leave empty to use the default prompt, or enter a custom prompt")),et[0]&9|et[1]&1024&&(It.$$scope={dirty:et,ctx:ce}),re.$set(It),(!Dt||et[0]&8)&&Re!==(Re=ce[3].t("Enable Tags Generation")+"")&&K($e,Re);const Qt={};!Pe&&et[0]&1&&(Pe=!0,Qt.state=ce[0].ENABLE_TAGS_GENERATION,yt(()=>Pe=!1)),Oe.$set(Qt),ce[0].ENABLE_TAGS_GENERATION?pt?(pt.p(ce,et),et[0]&1&&Y(pt,1)):(pt=Wn(ce),pt.c(),Y(pt,1),pt.m(s,ne)):pt&&(Lt(),X(pt,1,1,()=>{pt=null}),Ut()),(!Dt||et[0]&8)&&xe!==(xe=ce[3].t("Enable Retrieval Query Generation")+"")&&K(Ke,xe);const jt={};!_e&&et[0]&1&&(_e=!0,jt.state=ce[0].ENABLE_RETRIEVAL_QUERY_GENERATION,yt(()=>_e=!1)),qe.$set(jt),(!Dt||et[0]&8)&&Ee!==(Ee=ce[3].t("Enable Web Search Query Generation")+"")&&K(Be,Ee);const qt={};!Fe&&et[0]&1&&(Fe=!0,qt.state=ce[0].ENABLE_SEARCH_QUERY_GENERATION,yt(()=>Fe=!1)),oe.$set(qt),(!Dt||et[0]&8)&&at!==(at=ce[3].t("Query Generation Prompt")+"")&&K(nt,at);const xt={};if(et[0]&8&&(xt.content=ce[3].t("Leave empty to use the default prompt, or enter a custom prompt")),et[0]&9|et[1]&1024&&(xt.$$scope={dirty:et,ctx:ce}),Ye.$set(xt),(!Dt||et[0]&8)&&st!==(st=ce[3].t("Banners")+"")&&K(Ae,st),et[0]&12){Ne=St(ce[2]);let mt;for(mt=0;mt<Ne.length;mt+=1){const zt=jn(ce,Ne,mt);be[mt]?(be[mt].p(zt,et),Y(be[mt],1)):(be[mt]=zn(zt),be[mt].c(),Y(be[mt],1),be[mt].m(Ge,null))}for(Lt(),mt=Ne.length;mt<be.length;mt+=1)Xe(mt);Ut()}(!Dt||et[0]&4&&Mt!==(Mt="space-y-3 "+(ce[2].length>0?" mb-3":"")))&&i(Et,"class",Mt),ce[5].role==="admin"?ft?ft.p(ce,et):(ft=Yn(ce),ft.c(),ft.m(t,null)):ft&&(ft.d(1),ft=null),(!Dt||et[0]&8)&&we!==(we=ce[3].t("Save")+"")&&K(Bt,we)},i(ce){if(!Dt){Y(h.$$.fragment,ce),Y(re.$$.fragment,ce),Y(Oe.$$.fragment,ce),Y(pt),Y(qe.$$.fragment,ce),Y(oe.$$.fragment,ce),Y(Ye.$$.fragment,ce);for(let et=0;et<Ne.length;et+=1)Y(be[et]);Dt=!0}},o(ce){X(h.$$.fragment,ce),X(re.$$.fragment,ce),X(Oe.$$.fragment,ce),X(pt),X(qe.$$.fragment,ce),X(oe.$$.fragment,ce),X(Ye.$$.fragment,ce),be=be.filter(Boolean);for(let et=0;et<be.length;et+=1)X(be[et]);Dt=!1},d(ce){ce&&f(e),me(h),ll(Se,ce),ll(vt,ce),me(re),me(Oe),pt&&pt.d(),me(qe),me(oe),me(Ye),ll(be,ce),ft&&ft.d(),Vt=!1,Xt(Ht)}}}const Xn=l=>l.owned_by==="ollama";function Of(l,e,t){let s,a,o,n;sl(l,cs,U=>t(28,s=U)),sl(l,kl,U=>t(4,o=U)),sl(l,Ys,U=>t(5,n=U));const c=ds(),u=yl("i18n");sl(l,u,U=>t(3,a=U));let h={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",TITLE_GENERATION_PROMPT_TEMPLATE:"",TAGS_GENERATION_PROMPT_TEMPLATE:"",ENABLE_TAGS_GENERATION:!0,ENABLE_SEARCH_QUERY_GENERATION:!0,ENABLE_RETRIEVAL_QUERY_GENERATION:!0,QUERY_GENERATION_PROMPT_TEMPLATE:""},m=[],p=[];const b=async()=>{t(0,h=await mo(localStorage.token,h)),t(1,m=await Io(localStorage.token,m)),await g(),await cs.set(await Os())};Ul(async()=>{t(0,h=await vo(localStorage.token)),t(1,m=s==null?void 0:s.default_prompt_suggestions),t(2,p=await ko(localStorage.token))});const g=async()=>{ao.set(await yo(localStorage.token,p))};function E(){h.TASK_MODEL=wl(this),t(0,h)}function w(){h.TASK_MODEL_EXTERNAL=wl(this),t(0,h)}function k(U){l.$$.not_equal(h.TITLE_GENERATION_PROMPT_TEMPLATE,U)&&(h.TITLE_GENERATION_PROMPT_TEMPLATE=U,t(0,h))}function I(U){l.$$.not_equal(h.ENABLE_TAGS_GENERATION,U)&&(h.ENABLE_TAGS_GENERATION=U,t(0,h))}function T(U){l.$$.not_equal(h.TAGS_GENERATION_PROMPT_TEMPLATE,U)&&(h.TAGS_GENERATION_PROMPT_TEMPLATE=U,t(0,h))}function y(U){l.$$.not_equal(h.ENABLE_RETRIEVAL_QUERY_GENERATION,U)&&(h.ENABLE_RETRIEVAL_QUERY_GENERATION=U,t(0,h))}function V(U){l.$$.not_equal(h.ENABLE_SEARCH_QUERY_GENERATION,U)&&(h.ENABLE_SEARCH_QUERY_GENERATION=U,t(0,h))}function $(U){l.$$.not_equal(h.QUERY_GENERATION_PROMPT_TEMPLATE,U)&&(h.QUERY_GENERATION_PROMPT_TEMPLATE=U,t(0,h))}const M=()=>{(p.length===0||p.at(-1).content!=="")&&t(2,p=[...p,{id:Co(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function S(U,W){U[W].type=wl(this),t(2,p)}function L(U,W){U[W].content=this.value,t(2,p)}function P(U,W){l.$$.not_equal(W.dismissible,U)&&(W.dismissible=U,t(2,p))}const N=U=>{p.splice(U,1),t(2,p)},q=()=>{(m.length===0||m.at(-1).content!=="")&&t(1,m=[...m,{content:"",title:["",""]}])};function j(U,W){U[W].title[0]=this.value,t(1,m)}function O(U,W){U[W].title[1]=this.value,t(1,m)}function G(U,W){U[W].content=this.value,t(1,m)}return[h,m,p,a,o,n,c,u,b,E,w,k,I,T,y,V,$,M,S,L,P,N,q,j,O,G,U=>{m.splice(U,1),t(1,m)},()=>{b(),c("save")}]}class Pf extends fl{constructor(e){super(),cl(this,e,Of,Nf,ul,{},null,[-1,-1])}}function xn(l,e,t){const s=l.slice();return s[33]=e[t],s[34]=e,s[35]=t,s}function Lf(l){let e,t,s;return t=new ms({}),{c(){e=d("div"),he(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var o=v(e);pe(t.$$.fragment,o),o.forEach(f),this.h()},h(){i(e,"class","h-full w-full flex justify-center items-center")},m(a,o){B(a,e,o),ve(t,e,null),s=!0},p:wt,i(a){s||(Y(t.$$.fragment,a),s=!0)},o(a){X(t.$$.fragment,a),s=!1},d(a){a&&f(e),me(t)}}}function Uf(l){let e,t,s,a;const o=[Rf,Cf],n=[];function c(u,h){return u[5]===null?0:1}return e=c(l),t=n[e]=o[e](l),{c(){t.c(),s=tl()},l(u){t.l(u),s=tl()},m(u,h){n[e].m(u,h),B(u,s,h),a=!0},p(u,h){let m=e;e=c(u),e===m?n[e].p(u,h):(Lt(),X(n[m],1,1,()=>{n[m]=null}),Ut(),t=n[e],t?t.p(u,h):(t=n[e]=o[e](u),t.c()),Y(t,1),t.m(s.parentNode,s))},i(u){a||(Y(t),a=!0)},o(u){X(t),a=!1},d(u){u&&f(s),n[e].d(u)}}}function Cf(l){let e,t;return e=new Fo({props:{edit:!0,model:l[0].find(l[27]),preset:!1,onSubmit:l[28],onBack:l[29]}}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p(s,a){const o={};a[0]&33&&(o.model=s[0].find(s[27])),a[0]&32&&(o.onSubmit=s[28]),a[0]&32&&(o.onBack=s[29]),e.$set(o)},i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function Rf(l){var F;let e,t,s,a=l[7].t("Models")+"",o,n,c,u,h,m=l[4].length+"",p,b,g,E,w,k,I,T,y,V,$,M,S,L,P,N,q,j,O,G,Z;E=new Kt({props:{content:l[7].t("This will delete all models including custom models"),$$slots:{default:[Bf]},$$scope:{ctx:l}}}),y=new Wo({props:{className:"size-3.5"}});const H=[jf,Hf],U=[];function W(z,x){return z[0].length>0?0:1}P=W(l),N=U[P]=H[P](l);let J=((F=l[8])==null?void 0:F.role)==="admin"&&ti(l);return{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("div"),u=A(),h=d("span"),p=C(m),b=A(),g=d("div"),he(E.$$.fragment),w=A(),k=d("div"),I=d("div"),T=d("div"),he(y.$$.fragment),V=A(),$=d("input"),S=A(),L=d("div"),N.c(),q=A(),J&&J.c(),j=tl(),this.h()},l(z){e=_(z,"DIV",{class:!0});var x=v(e);t=_(x,"DIV",{class:!0});var re=v(t);s=_(re,"DIV",{class:!0});var ee=v(s);o=R(ee,a),n=D(ee),c=_(ee,"DIV",{class:!0}),v(c).forEach(f),u=D(ee),h=_(ee,"SPAN",{class:!0});var Q=v(h);p=R(Q,m),Q.forEach(f),ee.forEach(f),b=D(re),g=_(re,"DIV",{});var ie=v(g);pe(E.$$.fragment,ie),ie.forEach(f),re.forEach(f),w=D(x),k=_(x,"DIV",{class:!0});var fe=v(k);I=_(fe,"DIV",{class:!0});var Le=v(I);T=_(Le,"DIV",{class:!0});var Re=v(T);pe(y.$$.fragment,Re),Re.forEach(f),V=D(Le),$=_(Le,"INPUT",{class:!0,placeholder:!0}),Le.forEach(f),fe.forEach(f),x.forEach(f),S=D(z),L=_(z,"DIV",{class:!0,id:!0});var $e=v(L);N.l($e),$e.forEach(f),q=D(z),J&&J.l(z),j=tl(),this.h()},h(){i(c,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),i(h,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),i(s,"class","flex items-center md:self-center text-xl font-medium px-0.5"),i(t,"class","flex justify-between items-center"),i(T,"class","self-center ml-1 mr-3"),i($,"class","w-full text-sm py-1 rounded-r-xl outline-none bg-transparent"),i($,"placeholder",M=l[7].t("Search Models")),i(I,"class","flex flex-1 items-center"),i(k,"class","flex flex-1 items-center w-full space-x-2"),i(e,"class","flex flex-col gap-1 mt-1.5 mb-2"),i(L,"class","my-2 mb-5"),i(L,"id","model-list")},m(z,x){B(z,e,x),r(e,t),r(t,s),r(s,o),r(s,n),r(s,c),r(s,u),r(s,h),r(h,p),r(t,b),r(t,g),ve(E,g,null),r(e,w),r(e,k),r(k,I),r(I,T),ve(y,T,null),r(I,V),r(I,$),te($,l[1]),B(z,S,x),B(z,L,x),U[P].m(L,null),B(z,q,x),J&&J.m(z,x),B(z,j,x),O=!0,G||(Z=ae($,"input",l[17]),G=!0)},p(z,x){var Q;(!O||x[0]&128)&&a!==(a=z[7].t("Models")+"")&&K(o,a),(!O||x[0]&16)&&m!==(m=z[4].length+"")&&K(p,m);const re={};x[0]&128&&(re.content=z[7].t("This will delete all models including custom models")),x[0]&192|x[1]&32&&(re.$$scope={dirty:x,ctx:z}),E.$set(re),(!O||x[0]&128&&M!==(M=z[7].t("Search Models")))&&i($,"placeholder",M),x[0]&2&&$.value!==z[1]&&te($,z[1]);let ee=P;P=W(z),P===ee?U[P].p(z,x):(Lt(),X(U[ee],1,1,()=>{U[ee]=null}),Ut(),N=U[P],N?N.p(z,x):(N=U[P]=H[P](z),N.c()),Y(N,1),N.m(L,null)),((Q=z[8])==null?void 0:Q.role)==="admin"?J?J.p(z,x):(J=ti(z),J.c(),J.m(j.parentNode,j)):J&&(J.d(1),J=null)},i(z){O||(Y(E.$$.fragment,z),Y(y.$$.fragment,z),Y(N),O=!0)},o(z){X(E.$$.fragment,z),X(y.$$.fragment,z),X(N),O=!1},d(z){z&&(f(e),f(S),f(L),f(q),f(j)),me(E),me(y),U[P].d(),J&&J.d(z),G=!1,Z()}}}function Bf(l){let e,t,s=l[7].t("Reset")+"",a,o,n;return{c(){e=d("button"),t=d("div"),a=C(s),this.h()},l(c){e=_(c,"BUTTON",{class:!0,type:!0});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);a=R(h,s),h.forEach(f),u.forEach(f),this.h()},h(){i(t,"class","text-xs flex-shrink-0"),i(e,"class","px-2.5 py-1 rounded-full flex gap-1 items-center"),i(e,"type","button")},m(c,u){B(c,e,u),r(e,t),r(t,a),o||(n=ae(e,"click",l[16]),o=!0)},p(c,u){u[0]&128&&s!==(s=c[7].t("Reset")+"")&&K(a,s)},d(c){c&&f(e),o=!1,n()}}}function Hf(l){let e,t,s=l[7].t("No models found")+"",a;return{c(){e=d("div"),t=d("div"),a=C(s),this.h()},l(o){e=_(o,"DIV",{class:!0});var n=v(e);t=_(n,"DIV",{class:!0});var c=v(t);a=R(c,s),c.forEach(f),n.forEach(f),this.h()},h(){i(t,"class","text-gray-500 dark:text-gray-400 text-xs"),i(e,"class","flex flex-col items-center justify-center w-full h-20")},m(o,n){B(o,e,n),r(e,t),r(t,a)},p(o,n){n[0]&128&&s!==(s=o[7].t("No models found")+"")&&K(a,s)},i:wt,o:wt,d(o){o&&f(e)}}}function jf(l){let e=[],t=new Map,s,a,o=St(l[4]);const n=c=>`${c[33].id}-${c[35]}`;for(let c=0;c<o.length;c+=1){let u=xn(l,o,c),h=n(u);t.set(h,e[c]=ei(h,u))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();s=tl()},l(c){for(let u=0;u<e.length;u+=1)e[u].l(c);s=tl()},m(c,u){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(c,u);B(c,s,u),a=!0},p(c,u){u[0]&8368&&(o=St(c[4]),Lt(),e=Mo(e,u,n,1,c,o,t,s.parentNode,No,ei,s,xn),Ut())},i(c){if(!a){for(let u=0;u<o.length;u+=1)Y(e[u]);a=!0}},o(c){for(let u=0;u<e.length;u+=1)X(e[u]);a=!1},d(c){c&&f(s);for(let u=0;u<e.length;u+=1)e[u].d(c)}}}function Gf(l){let e,t=l[33].name+"",s;return{c(){e=d("div"),s=C(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","font-semibold line-clamp-1")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&16&&t!==(t=a[33].name+"")&&K(s,t)},d(a){a&&f(e)}}}function Zf(l){let e,t,s;function a(c){l[20](c,l[33])}function o(){return l[21](l[33])}let n={};return l[33].is_active!==void 0&&(n.state=l[33].is_active),e=new ml({props:n}),gt.push(()=>Tt(e,"state",a)),e.$on("change",o),{c(){he(e.$$.fragment)},l(c){pe(e.$$.fragment,c)},m(c,u){ve(e,c,u),s=!0},p(c,u){l=c;const h={};!t&&u[0]&16&&(t=!0,h.state=l[33].is_active,yt(()=>t=!1)),e.$set(h)},i(c){s||(Y(e.$$.fragment,c),s=!0)},o(c){X(e.$$.fragment,c),s=!1},d(c){me(e,c)}}}function ei(l,e){var H,U,W,J,F,z,x,re,ee,Q,ie,fe,Le,Re,$e,Me,Oe,Pe,tt;let t,s,a,o,n,c,u,h,m,p,b,g,E,w=((U=(H=e[33])==null?void 0:H.meta)!=null&&U.description?(J=(W=e[33])==null?void 0:W.meta)==null?void 0:J.description:(z=(F=e[33])==null?void 0:F.ollama)!=null&&z.digest?`${e[33].id} (${(re=(x=e[33])==null?void 0:x.ollama)==null?void 0:re.digest})`:e[33].id)+"",k,I,T,y,V,$='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',M,S,L,P,N,q,j,O;p=new Kt({props:{content:Zr.parse((Q=(ee=e[33])==null?void 0:ee.meta)!=null&&Q.description?(fe=(ie=e[33])==null?void 0:ie.meta)==null?void 0:fe.description:(Re=(Le=e[33])==null?void 0:Le.ollama)!=null&&Re.digest?`${(Me=($e=e[33])==null?void 0:$e.ollama)==null?void 0:Me.digest} **(${(Pe=(Oe=e[33])==null?void 0:Oe.ollama)==null?void 0:Pe.modified_at})**`:e[33].id),className:" w-fit",placement:"top-start",$$slots:{default:[Gf]},$$scope:{ctx:e}}});function G(){return e[18](e[33])}function Z(){return e[19](e[33])}return L=new Kt({props:{content:((tt=e[33])==null?void 0:tt.is_active)??!0?e[7].t("Enabled"):e[7].t("Disabled"),$$slots:{default:[Zf]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=d("div"),s=d("button"),a=d("div"),o=d("div"),n=d("img"),h=A(),m=d("div"),he(p.$$.fragment),b=A(),g=d("div"),E=d("span"),k=C(w),T=A(),y=d("div"),V=d("button"),V.innerHTML=$,M=A(),S=d("div"),he(L.$$.fragment),P=A(),this.h()},l(ne){t=_(ne,"DIV",{class:!0,id:!0});var de=v(t);s=_(de,"BUTTON",{class:!0,type:!0});var Ve=v(s);a=_(Ve,"DIV",{class:!0});var De=v(a);o=_(De,"DIV",{class:!0});var Ue=v(o);n=_(Ue,"IMG",{src:!0,alt:!0,class:!0}),Ue.forEach(f),De.forEach(f),h=D(Ve),m=_(Ve,"DIV",{class:!0});var xe=v(m);pe(p.$$.fragment,xe),b=D(xe),g=_(xe,"DIV",{class:!0});var Ke=v(g);E=_(Ke,"SPAN",{class:!0});var We=v(E);k=R(We,w),We.forEach(f),Ke.forEach(f),xe.forEach(f),Ve.forEach(f),T=D(de),y=_(de,"DIV",{class:!0});var qe=v(y);V=_(qe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(V)!=="svelte-1q2s9zz"&&(V.innerHTML=$),M=D(qe),S=_(qe,"DIV",{class:!0});var _e=v(S);pe(L.$$.fragment,_e),_e.forEach(f),qe.forEach(f),P=D(de),de.forEach(f),this.h()},h(){var ne,de,Ve,De;Ps(n.src,c=((de=(ne=e[33])==null?void 0:ne.meta)==null?void 0:de.profile_image_url)??"/static/favicon.png")||i(n,"src",c),i(n,"alt","modelfile profile"),i(n,"class","rounded-full w-full h-auto object-cover"),i(o,"class",u="rounded-full object-cover "+(((Ve=e[33])==null?void 0:Ve.is_active)??!0?"":"opacity-50 dark:opacity-50")),i(a,"class","self-center w-8"),i(E,"class","line-clamp-1"),i(g,"class","text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"),i(m,"class",I="flex-1 self-center "+(((De=e[33])==null?void 0:De.is_active)??!0?"":"text-gray-500")),i(s,"class","flex flex-1 text-left space-x-3.5 cursor-pointer w-full"),i(s,"type","button"),i(V,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),i(V,"type","button"),i(S,"class","ml-1"),i(y,"class","flex flex-row gap-0.5 items-center self-center"),i(t,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition"),i(t,"id",N="model-item-"+e[33].id),this.first=t},m(ne,de){B(ne,t,de),r(t,s),r(s,a),r(a,o),r(o,n),r(s,h),r(s,m),ve(p,m,null),r(m,b),r(m,g),r(g,E),r(E,k),r(t,T),r(t,y),r(y,V),r(y,M),r(y,S),ve(L,S,null),r(t,P),q=!0,j||(O=[ae(s,"click",G),ae(V,"click",Z)],j=!0)},p(ne,de){var Ue,xe,Ke,We,qe,_e,ue,ge,ke,Ee,Be,rt,oe,Fe,le,se,lt,at,nt,it,Ye,ze,ht;e=ne,(!q||de[0]&16&&!Ps(n.src,c=((xe=(Ue=e[33])==null?void 0:Ue.meta)==null?void 0:xe.profile_image_url)??"/static/favicon.png"))&&i(n,"src",c),(!q||de[0]&16&&u!==(u="rounded-full object-cover "+(((Ke=e[33])==null?void 0:Ke.is_active)??!0?"":"opacity-50 dark:opacity-50")))&&i(o,"class",u);const Ve={};de[0]&16&&(Ve.content=Zr.parse((qe=(We=e[33])==null?void 0:We.meta)!=null&&qe.description?(ue=(_e=e[33])==null?void 0:_e.meta)==null?void 0:ue.description:(ke=(ge=e[33])==null?void 0:ge.ollama)!=null&&ke.digest?`${(Be=(Ee=e[33])==null?void 0:Ee.ollama)==null?void 0:Be.digest} **(${(oe=(rt=e[33])==null?void 0:rt.ollama)==null?void 0:oe.modified_at})**`:e[33].id)),de[0]&16|de[1]&32&&(Ve.$$scope={dirty:de,ctx:e}),p.$set(Ve),(!q||de[0]&16)&&w!==(w=((le=(Fe=e[33])==null?void 0:Fe.meta)!=null&&le.description?(lt=(se=e[33])==null?void 0:se.meta)==null?void 0:lt.description:(nt=(at=e[33])==null?void 0:at.ollama)!=null&&nt.digest?`${e[33].id} (${(Ye=(it=e[33])==null?void 0:it.ollama)==null?void 0:Ye.digest})`:e[33].id)+"")&&K(k,w),(!q||de[0]&16&&I!==(I="flex-1 self-center "+(((ze=e[33])==null?void 0:ze.is_active)??!0?"":"text-gray-500")))&&i(m,"class",I);const De={};de[0]&144&&(De.content=((ht=e[33])==null?void 0:ht.is_active)??!0?e[7].t("Enabled"):e[7].t("Disabled")),de[0]&16|de[1]&32&&(De.$$scope={dirty:de,ctx:e}),L.$set(De),(!q||de[0]&16&&N!==(N="model-item-"+e[33].id))&&i(t,"id",N)},i(ne){q||(Y(p.$$.fragment,ne),Y(L.$$.fragment,ne),q=!0)},o(ne){X(p.$$.fragment,ne),X(L.$$.fragment,ne),q=!1},d(ne){ne&&f(t),me(p),me(L),j=!1,Xt(O)}}}function ti(l){let e,t,s,a,o,n,c=l[7].t("Import Presets")+"",u,h,m,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',b,g,E,w=l[7].t("Export Presets")+"",k,I,T,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',V,$;return{c(){e=d("div"),t=d("div"),s=d("input"),a=A(),o=d("button"),n=d("div"),u=C(c),h=A(),m=d("div"),m.innerHTML=p,b=A(),g=d("button"),E=d("div"),k=C(w),I=A(),T=d("div"),T.innerHTML=y,this.h()},l(M){e=_(M,"DIV",{class:!0});var S=v(e);t=_(S,"DIV",{class:!0});var L=v(t);s=_(L,"INPUT",{id:!0,type:!0,accept:!0}),a=D(L),o=_(L,"BUTTON",{class:!0});var P=v(o);n=_(P,"DIV",{class:!0});var N=v(n);u=R(N,c),N.forEach(f),h=D(P),m=_(P,"DIV",{class:!0,"data-svelte-h":!0}),Ct(m)!=="svelte-1ikvh1y"&&(m.innerHTML=p),P.forEach(f),b=D(L),g=_(L,"BUTTON",{class:!0});var q=v(g);E=_(q,"DIV",{class:!0});var j=v(E);k=R(j,w),j.forEach(f),I=D(q),T=_(q,"DIV",{class:!0,"data-svelte-h":!0}),Ct(T)!=="svelte-1v8dg5r"&&(T.innerHTML=y),q.forEach(f),L.forEach(f),S.forEach(f),this.h()},h(){i(s,"id","models-import-input"),i(s,"type","file"),i(s,"accept",".json"),s.hidden=!0,i(n,"class","self-center mr-2 font-medium line-clamp-1"),i(m,"class","self-center"),i(o,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),i(E,"class","self-center mr-2 font-medium line-clamp-1"),i(T,"class","self-center"),i(g,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),i(t,"class","flex space-x-1"),i(e,"class","flex justify-end w-full mb-3")},m(M,S){B(M,e,S),r(e,t),r(t,s),l[22](s),r(t,a),r(t,o),r(o,n),r(n,u),r(o,h),r(o,m),r(t,b),r(t,g),r(g,E),r(E,k),r(g,I),r(g,T),V||($=[ae(s,"change",l[23]),ae(s,"change",l[24]),ae(o,"click",l[25]),ae(g,"click",l[26])],V=!0)},p(M,S){S[0]&128&&c!==(c=M[7].t("Import Presets")+"")&&K(u,c),S[0]&128&&w!==(w=M[7].t("Export Presets")+"")&&K(k,w)},d(M){M&&f(e),l[22](null),V=!1,Xt($)}}}function Kf(l){let e,t,s,a,o,n,c;function u(g){l[15](g)}let h={title:l[7].t("Delete All Models"),message:l[7].t("This will delete all models including custom models and cannot be undone."),onConfirm:l[14]};l[6]!==void 0&&(h.show=l[6]),e=new Va({props:h}),gt.push(()=>Tt(e,"show",u));const m=[Uf,Lf],p=[];function b(g,E){return g[0]!==null?0:1}return a=b(l),o=p[a]=m[a](l),{c(){he(e.$$.fragment),s=A(),o.c(),n=tl()},l(g){pe(e.$$.fragment,g),s=D(g),o.l(g),n=tl()},m(g,E){ve(e,g,E),B(g,s,E),p[a].m(g,E),B(g,n,E),c=!0},p(g,E){const w={};E[0]&128&&(w.title=g[7].t("Delete All Models")),E[0]&128&&(w.message=g[7].t("This will delete all models including custom models and cannot be undone.")),E[0]&128&&(w.onConfirm=g[14]),!t&&E[0]&64&&(t=!0,w.show=g[6],yt(()=>t=!1)),e.$set(w);let k=a;a=b(g),a===k?p[a].p(g,E):(Lt(),X(p[k],1,1,()=>{p[k]=null}),Ut(),o=p[a],o?o.p(g,E):(o=p[a]=m[a](g),o.c()),Y(o,1),o.m(n.parentNode,n))},i(g){c||(Y(e.$$.fragment,g),Y(o),c=!0)},o(g){X(e.$$.fragment,g),X(o),c=!1},d(g){g&&(f(s),f(n)),me(e,g),p[a].d(g)}}}function qf(l,e,t){let s,a;sl(l,Ys,F=>t(8,a=F));const{saveAs:o}=Qi,n=yl("i18n");sl(l,n,F=>t(7,s=F));let c,u,h=null,m=null,p=null,b=[],g=null,E=!1,w="";const k=async F=>{let z=new Blob([JSON.stringify(F)],{type:"application/json"});o(z,`models-export-${Date.now()}.json`)},I=async()=>{m=await Go(localStorage.token),p=await Pl(localStorage.token,!0),t(0,h=p.map(F=>{const z=m.find(x=>x.id===F.id);return z?{...F,...z}:{...F,id:F.id,name:F.name,is_active:!0}}))},T=async F=>{F.base_model_id=null,m.find(z=>z.id===F.id)?await Zo(localStorage.token,F.id,F).catch(x=>null)&&Ze.success(s.t("Model updated successfully")):await Wr(localStorage.token,F).catch(x=>null)&&Ze.success(s.t("Model updated successfully")),kl.set(await Pl(localStorage.token)),await I()},y=async F=>{Object.keys(F).includes("base_model_id")?await Ko(localStorage.token,F.id):(await Wr(localStorage.token,{id:F.id,name:F.name,base_model_id:null,meta:{},params:{},access_control:{},is_active:F.is_active}).catch(z=>null),await I()),kl.set(await Pl(localStorage.token))};Ul(async()=>{I()});const V=async()=>{qo(localStorage.token)&&(Ze.success(s.t("All models deleted successfully")),I())};function $(F){E=F,t(6,E)}const M=()=>{t(6,E=!0)};function S(){w=this.value,t(1,w)}const L=F=>{t(5,g=F.id)},P=F=>{t(5,g=F.id)};function N(F,z){l.$$.not_equal(z.is_active,F)&&(z.is_active=F,t(4,b),t(0,h),t(1,w))}const q=async F=>{y(F)};function j(F){gt[F?"unshift":"push"](()=>{u=F,t(3,u)})}function O(){c=this.files,t(2,c)}const G=()=>{console.log(c);let F=new FileReader;F.onload=async z=>{let x=JSON.parse(z.target.result);console.log(x);for(const re of x)Object.keys(re).includes("base_model_id")?re.base_model_id===null&&T(re):((re==null?void 0:re.info)??!1)&&re.info.base_model_id===null&&T(re.info);await kl.set(await Pl(localStorage.token)),I()},F.readAsText(c[0])},Z=()=>{u.click()},H=async()=>{k(h)},U=F=>F.id===g,W=F=>{console.log(F),T(F),t(5,g=null)},J=()=>{t(5,g=null)};return l.$$.update=()=>{l.$$.dirty[0]&3&&h&&t(4,b=h.filter(F=>w===""||F.name.toLowerCase().includes(w.toLowerCase())))},[h,w,c,u,b,g,E,s,a,n,k,I,T,y,V,$,M,S,L,P,N,q,j,O,G,Z,H,U,W,J]}class Wf extends fl{constructor(e){super(),cl(this,e,qf,Kf,ul,{},null,[-1,-1])}}function Ff(l){let e,t;return{c(){e=Gt("svg"),t=Gt("path"),this.h()},l(s){e=Zt(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=Zt(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(f),a.forEach(f),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M5 12h14"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",l[1]),i(e,"stroke","currentColor"),i(e,"class",l[0])},m(s,a){B(s,e,a),r(e,t)},p(s,[a]){a&2&&i(e,"stroke-width",s[1]),a&1&&i(e,"class",s[0])},i:wt,o:wt,d(s){s&&f(e)}}}function zf(l,e,t){let{className:s="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,s=o.className),"strokeWidth"in o&&t(1,a=o.strokeWidth)},[s,a]}class xi extends fl{constructor(e){super(),cl(this,e,zf,Ff,ul,{className:0,strokeWidth:1})}}function Yf(l){let e,t;return{c(){e=Gt("svg"),t=Gt("path"),this.h()},l(s){e=Zt(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=Zt(a,"path",{d:!0}),v(t).forEach(f),a.forEach(f),this.h()},h(){i(t,"d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class",l[0])},m(s,a){B(s,e,a),r(e,t)},p(s,[a]){a&1&&i(e,"class",s[0])},i:wt,o:wt,d(s){s&&f(e)}}}function Qf(l,e,t){let{className:s="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,s=o.className),"strokeWidth"in o&&t(1,a=o.strokeWidth)},[s,a]}class Jf extends fl{constructor(e){super(),cl(this,e,Qf,Yf,ul,{className:0,strokeWidth:1})}}function li(l,e,t){const s=l.slice();return s[11]=e[t],s[34]=t,s}function Xf(l){let e=l[10].t("Add Connection")+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&1024&&e!==(e=s[10].t("Add Connection")+"")&&K(t,e)},d(s){s&&f(t)}}}function xf(l){let e=l[10].t("Edit Connection")+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&1024&&e!==(e=s[10].t("Edit Connection")+"")&&K(t,e)},d(s){s&&f(t)}}}function ec(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',s,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=_(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-kma1qx"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),i(e,"type","button")},m(o,n){B(o,e,n),s||(a=ae(e,"click",l[20]),s=!0)},p:wt,d(o){o&&f(e),s=!1,a()}}}function tc(l){let e,t,s;function a(n){l[21](n)}let o={};return l[7]!==void 0&&(o.state=l[7]),e=new ml({props:o}),gt.push(()=>Tt(e,"state",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){const u={};!t&&c[0]&128&&(t=!0,u.state=n[7],yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}function lc(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){i(e,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),i(e,"type","text"),i(e,"placeholder",t=l[10].t("Prefix ID")),i(e,"autocomplete","off")},m(o,n){B(o,e,n),te(e,l[6]),s||(a=ae(e,"input",l[23]),s=!0)},p(o,n){n[0]&1024&&t!==(t=o[10].t("Prefix ID"))&&i(e,"placeholder",t),n[0]&64&&e.value!==o[6]&&te(e,o[6])},d(o){o&&f(e),s=!1,a()}}}function sc(l){let e;function t(o,n){return o[3]?nc:rc}let s=t(l),a=s(l);return{c(){e=d("div"),a.c(),this.h()},l(o){e=_(o,"DIV",{class:!0});var n=v(e);a.l(n),n.forEach(f),this.h()},h(){i(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(o,n){B(o,e,n),a.m(e,null)},p(o,n){s===(s=t(o))&&a?a.p(o,n):(a.d(1),a=s(o),a&&(a.c(),a.m(e,null)))},i:wt,o:wt,d(o){o&&f(e),a.d()}}}function ac(l){let e,t,s=St(l[8]),a=[];for(let n=0;n<s.length;n+=1)a[n]=si(li(l,s,n));const o=n=>X(a[n],1,1,()=>{a[n]=null});return{c(){e=d("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=_(n,"DIV",{class:!0});var c=v(e);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(f),this.h()},h(){i(e,"class","flex flex-col")},m(n,c){B(n,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(n,c){if(c[0]&256){s=St(n[8]);let u;for(u=0;u<s.length;u+=1){const h=li(n,s,u);a[u]?(a[u].p(h,c),Y(a[u],1)):(a[u]=si(h),a[u].c(),Y(a[u],1),a[u].m(e,null))}for(Lt(),u=s.length;u<a.length;u+=1)o(u);Ut()}},i(n){if(!t){for(let c=0;c<s.length;c+=1)Y(a[c]);t=!0}},o(n){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)X(a[c]);t=!1},d(n){n&&f(e),ll(a,n)}}}function rc(l){let e=l[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:l[4]})+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&1040&&e!==(e=s[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:s[4]})+"")&&K(t,e)},d(s){s&&f(t)}}}function nc(l){let e=l[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:l[4]})+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&1040&&e!==(e=s[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:s[4]})+"")&&K(t,e)},d(s){s&&f(t)}}}function si(l){let e,t,s=l[11]+"",a,o,n,c,u,h,m,p,b;u=new xi({props:{strokeWidth:"2",className:"size-3.5"}});function g(){return l[24](l[34])}return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("button"),he(u.$$.fragment),h=A(),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=R(k,s),k.forEach(f),o=D(w),n=_(w,"DIV",{class:!0});var I=v(n);c=_(I,"BUTTON",{type:!0});var T=v(c);pe(u.$$.fragment,T),T.forEach(f),I.forEach(f),h=D(w),w.forEach(f),this.h()},h(){i(t,"class","text-sm flex-1 py-1 rounded-lg"),i(c,"type","button"),i(n,"class","flex-shrink-0"),i(e,"class","flex gap-2 w-full justify-between items-center")},m(E,w){B(E,e,w),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),ve(u,c,null),r(e,h),m=!0,p||(b=ae(c,"click",g),p=!0)},p(E,w){l=E,(!m||w[0]&256)&&s!==(s=l[11]+"")&&K(a,s)},i(E){m||(Y(u.$$.fragment,E),m=!0)},o(E){X(u.$$.fragment,E),m=!1},d(E){E&&f(e),me(u),p=!1,b()}}}function ai(l){let e,t=l[10].t("Delete")+"",s,a,o;return{c(){e=d("button"),s=C(t),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var c=v(e);s=R(c,t),c.forEach(f),this.h()},h(){i(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),i(e,"type","button")},m(n,c){B(n,e,c),r(e,s),a||(o=ae(e,"click",l[27]),a=!0)},p(n,c){c[0]&1024&&t!==(t=n[10].t("Delete")+"")&&K(s,t)},d(n){n&&f(e),a=!1,o()}}}function ri(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-2 self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function ic(l){let e,t,s,a,o,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,u,h,m,p,b,g,E,w=l[10].t("URL")+"",k,I,T,y,V,$,M,S,L,P,N,q,j,O,G=l[10].t("Key")+"",Z,H,U,W,J,F,z,x,re=l[10].t("Prefix ID")+"",ee,Q,ie,fe,Le,Re,$e,Me,Oe,Pe,tt=l[10].t("Model IDs")+"",ne,de,Ve,De,Ue,xe,Ke,We,qe,_e,ue,ge,ke,Ee,Be,rt,oe,Fe,le,se=l[10].t("Save")+"",lt,at,nt,it,Ye,ze;function ht(Ie,Ge){return Ie[2]?xf:Xf}let bt=ht(l),Et=bt(l);M=new Kt({props:{content:"Verify Connection",className:"self-end -mb-1",$$slots:{default:[ec]},$$scope:{ctx:l}}}),P=new Kt({props:{content:l[7]?l[10].t("Enabled"):l[10].t("Disabled"),$$slots:{default:[tc]},$$scope:{ctx:l}}});function dt(Ie){l[22](Ie)}let kt={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none",placeholder:l[10].t("API Key"),required:!l[3]};l[5]!==void 0&&(kt.value=l[5]),W=new El({props:kt}),gt.push(()=>Tt(W,"value",dt)),fe=new Kt({props:{content:l[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable"),$$slots:{default:[lc]},$$scope:{ctx:l}}});const st=[ac,sc],Ae=[];function Je(Ie,Ge){return Ie[8].length>0?0:1}Ve=Je(l),De=Ae[Ve]=st[Ve](l),Be=new Qs({props:{className:"size-3.5",strokeWidth:"2"}});let Ce=l[2]&&ai(l),Qe=l[9]&&ri();return{c(){e=d("div"),t=d("div"),s=d("div"),Et.c(),a=A(),o=d("button"),o.innerHTML=n,c=A(),u=d("div"),h=d("div"),m=d("form"),p=d("div"),b=d("div"),g=d("div"),E=d("div"),k=C(w),I=A(),T=d("div"),y=d("input"),$=A(),he(M.$$.fragment),S=A(),L=d("div"),he(P.$$.fragment),N=A(),q=d("div"),j=d("div"),O=d("div"),Z=C(G),H=A(),U=d("div"),he(W.$$.fragment),F=A(),z=d("div"),x=d("div"),ee=C(re),Q=A(),ie=d("div"),he(fe.$$.fragment),Le=A(),Re=d("hr"),$e=A(),Me=d("div"),Oe=d("div"),Pe=d("div"),ne=C(tt),de=A(),De.c(),Ue=A(),xe=d("hr"),Ke=A(),We=d("div"),qe=d("input"),ge=A(),ke=d("div"),Ee=d("button"),he(Be.$$.fragment),rt=A(),oe=d("div"),Ce&&Ce.c(),Fe=A(),le=d("button"),lt=C(se),at=A(),Qe&&Qe.c(),this.h()},l(Ie){e=_(Ie,"DIV",{});var Ge=v(e);t=_(Ge,"DIV",{class:!0});var Mt=v(t);s=_(Mt,"DIV",{class:!0});var Ot=v(s);Et.l(Ot),Ot.forEach(f),a=D(Mt),o=_(Mt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ct(o)!=="svelte-745w2y"&&(o.innerHTML=n),Mt.forEach(f),c=D(Ge),u=_(Ge,"DIV",{class:!0});var Rt=v(u);h=_(Rt,"DIV",{class:!0});var ut=v(h);m=_(ut,"FORM",{class:!0});var Te=v(m);p=_(Te,"DIV",{class:!0});var we=v(p);b=_(we,"DIV",{class:!0});var Bt=v(b);g=_(Bt,"DIV",{class:!0});var Dt=v(g);E=_(Dt,"DIV",{class:!0});var Vt=v(E);k=R(Vt,w),Vt.forEach(f),I=D(Dt),T=_(Dt,"DIV",{class:!0});var Ht=v(T);y=_(Ht,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ht.forEach(f),Dt.forEach(f),$=D(Bt),pe(M.$$.fragment,Bt),S=D(Bt),L=_(Bt,"DIV",{class:!0});var At=v(L);pe(P.$$.fragment,At),At.forEach(f),Bt.forEach(f),N=D(we),q=_(we,"DIV",{class:!0});var Se=v(q);j=_(Se,"DIV",{class:!0});var ct=v(j);O=_(ct,"DIV",{class:!0});var vt=v(O);Z=R(vt,G),vt.forEach(f),H=D(ct),U=_(ct,"DIV",{class:!0});var Pt=v(U);pe(W.$$.fragment,Pt),Pt.forEach(f),ct.forEach(f),F=D(Se),z=_(Se,"DIV",{class:!0});var _t=v(z);x=_(_t,"DIV",{class:!0});var pt=v(x);ee=R(pt,re),pt.forEach(f),Q=D(_t),ie=_(_t,"DIV",{class:!0});var Ft=v(ie);pe(fe.$$.fragment,Ft),Ft.forEach(f),_t.forEach(f),Se.forEach(f),Le=D(we),Re=_(we,"HR",{class:!0}),$e=D(we),Me=_(we,"DIV",{class:!0});var He=v(Me);Oe=_(He,"DIV",{class:!0});var je=v(Oe);Pe=_(je,"DIV",{class:!0});var $t=v(Pe);ne=R($t,tt),$t.forEach(f),je.forEach(f),de=D(He),De.l(He),He.forEach(f),Ue=D(we),xe=_(we,"HR",{class:!0}),Ke=D(we),We=_(we,"DIV",{class:!0});var Ne=v(We);qe=_(Ne,"INPUT",{class:!0,placeholder:!0}),ge=D(Ne),ke=_(Ne,"DIV",{});var be=v(ke);Ee=_(be,"BUTTON",{type:!0});var Xe=v(Ee);pe(Be.$$.fragment,Xe),Xe.forEach(f),be.forEach(f),Ne.forEach(f),we.forEach(f),rt=D(Te),oe=_(Te,"DIV",{class:!0});var ft=v(oe);Ce&&Ce.l(ft),Fe=D(ft),le=_(ft,"BUTTON",{class:!0,type:!0});var ce=v(le);lt=R(ce,se),at=D(ce),Qe&&Qe.l(ce),ce.forEach(f),ft.forEach(f),Te.forEach(f),ut.forEach(f),Rt.forEach(f),Ge.forEach(f),this.h()},h(){i(s,"class","text-lg font-medium self-center font-primary"),i(o,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),i(E,"class","mb-0.5 text-xs text-gray-500"),i(y,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),i(y,"type","text"),i(y,"placeholder",V=l[10].t("API Base URL")),i(y,"autocomplete","off"),y.required=!0,i(T,"class","flex-1"),i(g,"class","flex flex-col w-full"),i(L,"class","flex flex-col flex-shrink-0 self-end"),i(b,"class","flex gap-2"),i(O,"class","mb-0.5 text-xs text-gray-500"),i(U,"class","flex-1"),i(j,"class","flex flex-col w-full"),i(x,"class","mb-1 text-xs text-gray-500"),i(ie,"class","flex-1"),i(z,"class","flex flex-col w-full"),i(q,"class","flex gap-2 mt-2"),i(Re,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),i(Pe,"class","text-xs text-gray-500"),i(Oe,"class","mb-1 flex justify-between"),i(Me,"class","flex flex-col w-full"),i(xe,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),i(qe,"class",_e="w-full py-1 text-sm rounded-lg bg-transparent "+(l[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),i(qe,"placeholder",ue=l[10].t("Add a model ID")),i(Ee,"type","button"),i(We,"class","flex items-center"),i(p,"class","px-1"),i(le,"class",nt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[9]?" cursor-not-allowed":"")),i(le,"type","submit"),le.disabled=l[9],i(oe,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),i(m,"class","flex flex-col w-full"),i(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(Ie,Ge){B(Ie,e,Ge),r(e,t),r(t,s),Et.m(s,null),r(t,a),r(t,o),r(e,c),r(e,u),r(u,h),r(h,m),r(m,p),r(p,b),r(b,g),r(g,E),r(E,k),r(g,I),r(g,T),r(T,y),te(y,l[4]),r(b,$),ve(M,b,null),r(b,S),r(b,L),ve(P,L,null),r(p,N),r(p,q),r(q,j),r(j,O),r(O,Z),r(j,H),r(j,U),ve(W,U,null),r(q,F),r(q,z),r(z,x),r(x,ee),r(z,Q),r(z,ie),ve(fe,ie,null),r(p,Le),r(p,Re),r(p,$e),r(p,Me),r(Me,Oe),r(Oe,Pe),r(Pe,ne),r(Me,de),Ae[Ve].m(Me,null),r(p,Ue),r(p,xe),r(p,Ke),r(p,We),r(We,qe),te(qe,l[11]),r(We,ge),r(We,ke),r(ke,Ee),ve(Be,Ee,null),r(m,rt),r(m,oe),Ce&&Ce.m(oe,null),r(oe,Fe),r(oe,le),r(le,lt),r(le,at),Qe&&Qe.m(le,null),it=!0,Ye||(ze=[ae(o,"click",l[18]),ae(y,"input",l[19]),ae(qe,"input",l[25]),ae(Ee,"click",l[26]),ae(m,"submit",l[28])],Ye=!0)},p(Ie,Ge){bt===(bt=ht(Ie))&&Et?Et.p(Ie,Ge):(Et.d(1),Et=bt(Ie),Et&&(Et.c(),Et.m(s,null))),(!it||Ge[0]&1024)&&w!==(w=Ie[10].t("URL")+"")&&K(k,w),(!it||Ge[0]&1024&&V!==(V=Ie[10].t("API Base URL")))&&i(y,"placeholder",V),Ge[0]&16&&y.value!==Ie[4]&&te(y,Ie[4]);const Mt={};Ge[1]&16&&(Mt.$$scope={dirty:Ge,ctx:Ie}),M.$set(Mt);const Ot={};Ge[0]&1152&&(Ot.content=Ie[7]?Ie[10].t("Enabled"):Ie[10].t("Disabled")),Ge[0]&128|Ge[1]&16&&(Ot.$$scope={dirty:Ge,ctx:Ie}),P.$set(Ot),(!it||Ge[0]&1024)&&G!==(G=Ie[10].t("Key")+"")&&K(Z,G);const Rt={};Ge[0]&1024&&(Rt.placeholder=Ie[10].t("API Key")),Ge[0]&8&&(Rt.required=!Ie[3]),!J&&Ge[0]&32&&(J=!0,Rt.value=Ie[5],yt(()=>J=!1)),W.$set(Rt),(!it||Ge[0]&1024)&&re!==(re=Ie[10].t("Prefix ID")+"")&&K(ee,re);const ut={};Ge[0]&1024&&(ut.content=Ie[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable")),Ge[0]&1088|Ge[1]&16&&(ut.$$scope={dirty:Ge,ctx:Ie}),fe.$set(ut),(!it||Ge[0]&1024)&&tt!==(tt=Ie[10].t("Model IDs")+"")&&K(ne,tt);let Te=Ve;Ve=Je(Ie),Ve===Te?Ae[Ve].p(Ie,Ge):(Lt(),X(Ae[Te],1,1,()=>{Ae[Te]=null}),Ut(),De=Ae[Ve],De?De.p(Ie,Ge):(De=Ae[Ve]=st[Ve](Ie),De.c()),Y(De,1),De.m(Me,null)),(!it||Ge[0]&2048&&_e!==(_e="w-full py-1 text-sm rounded-lg bg-transparent "+(Ie[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"))&&i(qe,"class",_e),(!it||Ge[0]&1024&&ue!==(ue=Ie[10].t("Add a model ID")))&&i(qe,"placeholder",ue),Ge[0]&2048&&qe.value!==Ie[11]&&te(qe,Ie[11]),Ie[2]?Ce?Ce.p(Ie,Ge):(Ce=ai(Ie),Ce.c(),Ce.m(oe,Fe)):Ce&&(Ce.d(1),Ce=null),(!it||Ge[0]&1024)&&se!==(se=Ie[10].t("Save")+"")&&K(lt,se),Ie[9]?Qe||(Qe=ri(),Qe.c(),Qe.m(le,null)):Qe&&(Qe.d(1),Qe=null),(!it||Ge[0]&512&&nt!==(nt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(Ie[9]?" cursor-not-allowed":"")))&&i(le,"class",nt),(!it||Ge[0]&512)&&(le.disabled=Ie[9])},i(Ie){it||(Y(M.$$.fragment,Ie),Y(P.$$.fragment,Ie),Y(W.$$.fragment,Ie),Y(fe.$$.fragment,Ie),Y(De),Y(Be.$$.fragment,Ie),it=!0)},o(Ie){X(M.$$.fragment,Ie),X(P.$$.fragment,Ie),X(W.$$.fragment,Ie),X(fe.$$.fragment,Ie),X(De),X(Be.$$.fragment,Ie),it=!1},d(Ie){Ie&&f(e),Et.d(),me(M),me(P),me(W),me(fe),Ae[Ve].d(),me(Be),Ce&&Ce.d(),Qe&&Qe.d(),Ye=!1,Xt(ze)}}}function oc(l){let e,t,s;function a(n){l[29](n)}let o={size:"sm",$$slots:{default:[ic]},$$scope:{ctx:l}};return l[0]!==void 0&&(o.show=l[0]),e=new Xa({props:o}),gt.push(()=>Tt(e,"show",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){const u={};c[0]&4095|c[1]&16&&(u.$$scope={dirty:c,ctx:n}),!t&&c[0]&1&&(t=!0,u.show=n[0],yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}function uc(l,e,t){let s;const a=yl("i18n");sl(l,a,F=>t(10,s=F));let{onSubmit:o=()=>{}}=e,{onDelete:n=()=>{}}=e,{show:c=!1}=e,{edit:u=!1}=e,{ollama:h=!1}=e,{connection:m=null}=e,p="",b="",g="",E=!0,w="",k=[],I=!1;const T=async()=>{await zo(localStorage.token,p,b).catch(z=>{Ze.error(z)})&&Ze.success(s.t("Server connection verified"))},y=async()=>{await eu(localStorage.token,p,b).catch(z=>{Ze.error(z)})&&Ze.success(s.t("Server connection verified"))},V=()=>{h?T():y()},$=()=>{w&&(t(8,k=[...k,w]),t(11,w=""))},M=async()=>{if(t(9,I=!0),!h&&(!p||!b)){t(9,I=!1),Ze.error("URL and Key are required");return}await o({url:p,key:b,config:{enable:E,prefix_id:g,model_ids:k}}),t(9,I=!1),t(0,c=!1),t(4,p=""),t(5,b=""),t(6,g=""),t(8,k=[])},S=()=>{var F,z,x;m&&(t(4,p=m.url),t(5,b=m.key),t(7,E=((F=m.config)==null?void 0:F.enable)??!0),t(6,g=((z=m.config)==null?void 0:z.prefix_id)??""),t(8,k=((x=m.config)==null?void 0:x.model_ids)??[]))};Ul(()=>{S()});const L=()=>{t(0,c=!1)};function P(){p=this.value,t(4,p)}const N=()=>{V()};function q(F){E=F,t(7,E)}function j(F){b=F,t(5,b)}function O(){g=this.value,t(6,g)}const G=F=>{t(8,k=k.filter((z,x)=>x!==F))};function Z(){w=this.value,t(11,w)}const H=()=>{$()},U=()=>{n(),t(0,c=!1)},W=F=>{F.preventDefault(),M()};function J(F){c=F,t(0,c)}return l.$$set=F=>{"onSubmit"in F&&t(16,o=F.onSubmit),"onDelete"in F&&t(1,n=F.onDelete),"show"in F&&t(0,c=F.show),"edit"in F&&t(2,u=F.edit),"ollama"in F&&t(3,h=F.ollama),"connection"in F&&t(17,m=F.connection)},l.$$.update=()=>{l.$$.dirty[0]&1&&c&&S()},[c,n,u,h,p,b,g,E,k,I,s,w,a,V,$,M,o,m,L,P,N,q,j,O,G,Z,H,U,W,J]}class Sa extends fl{constructor(e){super(),cl(this,e,uc,oc,ul,{onSubmit:16,onDelete:1,show:0,edit:2,ollama:3,connection:17},null,[-1,-1])}}function ni(l){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){i(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,s){B(t,e,s)},d(t){t&&f(e)}}}function ii(l){let e,t,s;return t=new Kt({props:{content:"Pipelines",$$slots:{default:[fc]},$$scope:{ctx:l}}}),{c(){e=d("div"),he(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var o=v(e);pe(t.$$.fragment,o),o.forEach(f),this.h()},h(){i(e,"class","absolute top-0.5 right-2.5")},m(a,o){B(a,e,o),ve(t,e,null),s=!0},i(a){s||(Y(t.$$.fragment,a),s=!0)},o(a){X(t.$$.fragment,a),s=!1},d(a){a&&f(e),me(t)}}}function fc(l){let e,t,s,a;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),a=Gt("path"),this.h()},l(o){e=Zt(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=Zt(n,"path",{d:!0}),v(t).forEach(f),s=Zt(n,"path",{d:!0}),v(s).forEach(f),a=Zt(n,"path",{d:!0}),v(a).forEach(f),n.forEach(f),this.h()},h(){i(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),i(s,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),i(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class","size-4")},m(o,n){B(o,e,n),r(e,t),r(e,s),r(e,a)},p:wt,d(o){o&&f(e)}}}function cc(l){var T;let e,t,s,a,o,n,c,u,h,m,p,b,g,E=!(((T=l[2])==null?void 0:T.enable)??!0)&&ni(),w=l[5]&&ii(l);function k(y){l[12](y)}let I={inputClassName:" outline-none bg-transparent w-full",placeholder:l[7].t("API Key")};return l[1]!==void 0&&(I.value=l[1]),h=new El({props:I}),gt.push(()=>Tt(h,"value",k)),{c(){E&&E.c(),e=A(),t=d("div"),s=d("div"),a=d("input"),c=A(),w&&w.c(),u=A(),he(h.$$.fragment),this.h()},l(y){E&&E.l(y),e=D(y),t=_(y,"DIV",{class:!0});var V=v(t);s=_(V,"DIV",{class:!0});var $=v(s);a=_($,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),c=D($),w&&w.l($),$.forEach(f),u=D(V),pe(h.$$.fragment,V),V.forEach(f),this.h()},h(){i(a,"class",o="outline-none w-full bg-transparent "+(l[5]?"pr-8":"")),i(a,"placeholder",n=l[7].t("API Base URL")),i(a,"autocomplete","off"),i(s,"class","flex-1 relative"),i(t,"class","flex w-full")},m(y,V){E&&E.m(y,V),B(y,e,V),B(y,t,V),r(t,s),r(s,a),te(a,l[0]),r(s,c),w&&w.m(s,null),r(t,u),ve(h,t,null),p=!0,b||(g=ae(a,"input",l[11]),b=!0)},p(y,V){var M;((M=y[2])==null?void 0:M.enable)??!0?E&&(E.d(1),E=null):E||(E=ni(),E.c(),E.m(e.parentNode,e)),(!p||V&32&&o!==(o="outline-none w-full bg-transparent "+(y[5]?"pr-8":"")))&&i(a,"class",o),(!p||V&128&&n!==(n=y[7].t("API Base URL")))&&i(a,"placeholder",n),V&1&&a.value!==y[0]&&te(a,y[0]),y[5]?w?V&32&&Y(w,1):(w=ii(y),w.c(),Y(w,1),w.m(s,null)):w&&(Lt(),X(w,1,1,()=>{w=null}),Ut());const $={};V&128&&($.placeholder=y[7].t("API Key")),!m&&V&2&&(m=!0,$.value=y[1],yt(()=>m=!1)),h.$set($)},i(y){p||(Y(w),Y(h.$$.fragment,y),p=!0)},o(y){X(w),X(h.$$.fragment,y),p=!1},d(y){y&&(f(e),f(t)),E&&E.d(y),w&&w.d(),me(h),b=!1,g()}}}function dc(l){let e,t,s,a,o;return t=new Ja({}),{c(){e=d("button"),he(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var c=v(e);pe(t.$$.fragment,c),c.forEach(f),this.h()},h(){i(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),i(e,"type","button")},m(n,c){B(n,e,c),ve(t,e,null),s=!0,a||(o=ae(e,"click",l[13]),a=!0)},p:wt,i(n){s||(Y(t.$$.fragment,n),s=!0)},o(n){X(t.$$.fragment,n),s=!1},d(n){n&&f(e),me(t),a=!1,o()}}}function _c(l){let e,t,s,a,o,n,c,u,h;function m(b){l[10](b)}let p={edit:!0,connection:{url:l[0],key:l[1],config:l[2]},onDelete:l[3],onSubmit:l[9]};return l[6]!==void 0&&(p.show=l[6]),e=new Sa({props:p}),gt.push(()=>Tt(e,"show",m)),o=new Kt({props:{className:"w-full relative",content:l[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:l[0]}),placement:"top-start",$$slots:{default:[cc]},$$scope:{ctx:l}}}),u=new Kt({props:{content:l[7].t("Configure"),className:"self-start",$$slots:{default:[dc]},$$scope:{ctx:l}}}),{c(){he(e.$$.fragment),s=A(),a=d("div"),he(o.$$.fragment),n=A(),c=d("div"),he(u.$$.fragment),this.h()},l(b){pe(e.$$.fragment,b),s=D(b),a=_(b,"DIV",{class:!0});var g=v(a);pe(o.$$.fragment,g),n=D(g),c=_(g,"DIV",{class:!0});var E=v(c);pe(u.$$.fragment,E),E.forEach(f),g.forEach(f),this.h()},h(){i(c,"class","flex gap-1"),i(a,"class","flex w-full gap-2 items-center")},m(b,g){ve(e,b,g),B(b,s,g),B(b,a,g),ve(o,a,null),r(a,n),r(a,c),ve(u,c,null),h=!0},p(b,[g]){const E={};g&7&&(E.connection={url:b[0],key:b[1],config:b[2]}),g&8&&(E.onDelete=b[3]),g&23&&(E.onSubmit=b[9]),!t&&g&64&&(t=!0,E.show=b[6],yt(()=>t=!1)),e.$set(E);const w={};g&129&&(w.content=b[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:b[0]})),g&16551&&(w.$$scope={dirty:g,ctx:b}),o.$set(w);const k={};g&128&&(k.content=b[7].t("Configure")),g&16448&&(k.$$scope={dirty:g,ctx:b}),u.$set(k)},i(b){h||(Y(e.$$.fragment,b),Y(o.$$.fragment,b),Y(u.$$.fragment,b),h=!0)},o(b){X(e.$$.fragment,b),X(o.$$.fragment,b),X(u.$$.fragment,b),h=!1},d(b){b&&(f(s),f(a)),me(e,b),me(o),me(u)}}}function hc(l,e,t){let s;const a=yl("i18n");sl(l,a,I=>t(7,s=I));let{onDelete:o=()=>{}}=e,{onSubmit:n=()=>{}}=e,{pipeline:c=!1}=e,{url:u=""}=e,{key:h=""}=e,{config:m={}}=e,p=!1;const b=I=>{t(0,u=I.url),t(1,h=I.key),t(2,m=I.config),n(I)};function g(I){p=I,t(6,p)}function E(){u=this.value,t(0,u)}function w(I){h=I,t(1,h)}const k=()=>{t(6,p=!0)};return l.$$set=I=>{"onDelete"in I&&t(3,o=I.onDelete),"onSubmit"in I&&t(4,n=I.onSubmit),"pipeline"in I&&t(5,c=I.pipeline),"url"in I&&t(0,u=I.url),"key"in I&&t(1,h=I.key),"config"in I&&t(2,m=I.config)},[u,h,m,o,n,c,p,s,a,b,g,E,w,k]}class pc extends fl{constructor(e){super(),cl(this,e,hc,_c,ul,{onDelete:3,onSubmit:4,pipeline:5,url:0,key:1,config:2})}}function vc(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var o=v(e);t=Zt(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(f),s=Zt(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z"),i(s,"stroke-linecap","round"),i(s,"stroke-linejoin","round"),i(s,"d","M4.867 19.125h.008v.008h-.008v-.008Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",l[1]),i(e,"stroke","currentColor"),i(e,"class",l[0])},m(a,o){B(a,e,o),r(e,t),r(e,s)},p(a,[o]){o&2&&i(e,"stroke-width",a[1]),o&1&&i(e,"class",a[0])},i:wt,o:wt,d(a){a&&f(e)}}}function mc(l,e,t){let{className:s="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,s=o.className),"strokeWidth"in o&&t(1,a=o.strokeWidth)},[s,a]}class gc extends fl{constructor(e){super(),cl(this,e,mc,vc,ul,{className:0,strokeWidth:1})}}function oi(l,e,t){const s=l.slice();return s[58]=e[t],s}function ui(l,e,t){const s=l.slice();return s[58]=e[t],s}function bc(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',s,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=_(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-g8xi6f"&&(e.innerHTML=t),this.h()},h(){i(e,"class","p-2.5 flex gap-2 items-center bg-transparent rounded-lg transition")},m(o,n){B(o,e,n),s||(a=ae(e,"click",l[35]),s=!0)},p:wt,d(o){o&&f(e),s=!1,a()}}}function Ec(l){let e,t;return e=new ms({}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function wc(l){let e,t,s,a,o,n,c=l[24].t("Pull a model from Ollama.com")+"",u,h,m,p,b,g,E,w,k,I,T=l[24].t("To access the available model names for downloading,")+"",y,V,$,M=l[24].t("click here.")+"",S,L,P=Object.keys(l[23]).length>0,N,q,j,O=l[24].t("Delete a model")+"",G,Z,H,U,W,J,F,z,x,re='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',ee,Q,ie,fe=l[24].t("Create a model")+"",Le,Re,$e,Me,Oe,Pe,tt,ne,de,Ve,De,Ue,xe,Ke,We,qe,_e,ue,ge,ke=l[24].t("Experimental")+"",Ee,Be,rt,oe=(l[7]?l[24].t("Hide"):l[24].t("Show"))+"",Fe,le,se,lt,at,nt=l[5]&&fi(l);function it(Ae,Je){return Ae[8]?Ic:kc}let Ye=it(l),ze=Ye(l),ht=P&&ci(l),bt=!l[22]&&pi(l),Et=St(l[4]),dt=[];for(let Ae=0;Ae<Et.length;Ae+=1)dt[Ae]=vi(oi(l,Et,Ae));let kt=l[13]!==""&&mi(l),st=l[7]&&bi(l);return{c(){e=d("div"),t=d("div"),s=d("div"),nt&&nt.c(),a=A(),o=d("div"),n=d("div"),u=C(c),h=A(),m=d("div"),p=d("div"),b=d("input"),E=A(),w=d("button"),ze.c(),k=A(),I=d("div"),y=C(T),V=A(),$=d("a"),S=C(M),L=A(),ht&&ht.c(),N=A(),q=d("div"),j=d("div"),G=C(O),Z=A(),H=d("div"),U=d("div"),W=d("select"),bt&&bt.c(),J=tl();for(let Ae=0;Ae<dt.length;Ae+=1)dt[Ae].c();z=A(),x=d("button"),x.innerHTML=re,ee=A(),Q=d("div"),ie=d("div"),Le=C(fe),Re=A(),$e=d("div"),Me=d("div"),Oe=d("input"),tt=A(),ne=d("textarea"),de=A(),Ve=d("div"),De=d("button"),Ue=Gt("svg"),xe=Gt("path"),Ke=Gt("path"),We=A(),kt&&kt.c(),qe=A(),_e=d("div"),ue=d("div"),ge=d("div"),Ee=C(ke),Be=A(),rt=d("button"),Fe=C(oe),le=A(),st&&st.c(),this.h()},l(Ae){e=_(Ae,"DIV",{class:!0});var Je=v(e);t=_(Je,"DIV",{});var Ce=v(t);s=_(Ce,"DIV",{class:!0});var Qe=v(s);nt&&nt.l(Qe),a=D(Qe),o=_(Qe,"DIV",{});var Ie=v(o);n=_(Ie,"DIV",{class:!0});var Ge=v(n);u=R(Ge,c),Ge.forEach(f),h=D(Ie),m=_(Ie,"DIV",{class:!0});var Mt=v(m);p=_(Mt,"DIV",{class:!0});var Ot=v(p);b=_(Ot,"INPUT",{class:!0,placeholder:!0}),Ot.forEach(f),E=D(Mt),w=_(Mt,"BUTTON",{class:!0});var Rt=v(w);ze.l(Rt),Rt.forEach(f),Mt.forEach(f),k=D(Ie),I=_(Ie,"DIV",{class:!0});var ut=v(I);y=R(ut,T),V=D(ut),$=_(ut,"A",{class:!0,href:!0,target:!0});var Te=v($);S=R(Te,M),Te.forEach(f),ut.forEach(f),L=D(Ie),ht&&ht.l(Ie),Ie.forEach(f),N=D(Qe),q=_(Qe,"DIV",{});var we=v(q);j=_(we,"DIV",{class:!0});var Bt=v(j);G=R(Bt,O),Bt.forEach(f),Z=D(we),H=_(we,"DIV",{class:!0});var Dt=v(H);U=_(Dt,"DIV",{class:!0});var Vt=v(U);W=_(Vt,"SELECT",{class:!0,placeholder:!0});var Ht=v(W);bt&&bt.l(Ht),J=tl();for(let Ne=0;Ne<dt.length;Ne+=1)dt[Ne].l(Ht);Ht.forEach(f),Vt.forEach(f),z=D(Dt),x=_(Dt,"BUTTON",{class:!0,"data-svelte-h":!0}),Ct(x)!=="svelte-1cjcbzx"&&(x.innerHTML=re),Dt.forEach(f),we.forEach(f),ee=D(Qe),Q=_(Qe,"DIV",{});var At=v(Q);ie=_(At,"DIV",{class:!0});var Se=v(ie);Le=R(Se,fe),Se.forEach(f),Re=D(At),$e=_(At,"DIV",{class:!0});var ct=v($e);Me=_(ct,"DIV",{class:!0});var vt=v(Me);Oe=_(vt,"INPUT",{class:!0,placeholder:!0}),tt=D(vt),ne=_(vt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(ne).forEach(f),vt.forEach(f),de=D(ct),Ve=_(ct,"DIV",{class:!0});var Pt=v(Ve);De=_(Pt,"BUTTON",{class:!0});var _t=v(De);Ue=Zt(_t,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var pt=v(Ue);xe=Zt(pt,"path",{d:!0}),v(xe).forEach(f),Ke=Zt(pt,"path",{d:!0}),v(Ke).forEach(f),pt.forEach(f),_t.forEach(f),Pt.forEach(f),ct.forEach(f),We=D(At),kt&&kt.l(At),At.forEach(f),qe=D(Qe),_e=_(Qe,"DIV",{class:!0});var Ft=v(_e);ue=_(Ft,"DIV",{class:!0});var He=v(ue);ge=_(He,"DIV",{class:!0});var je=v(ge);Ee=R(je,ke),je.forEach(f),Be=D(He),rt=_(He,"BUTTON",{class:!0,type:!0});var $t=v(rt);Fe=R($t,oe),$t.forEach(f),He.forEach(f),Ft.forEach(f),le=D(Qe),st&&st.l(Qe),Qe.forEach(f),Ce.forEach(f),Je.forEach(f),this.h()},h(){i(n,"class","mb-2 text-sm font-medium"),i(b,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(b,"placeholder",g=l[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),i(p,"class","flex-1 mr-2"),i(w,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),w.disabled=l[8],i(m,"class","flex w-full"),i($,"class","text-gray-500 dark:text-gray-300 font-medium underline"),i($,"href","https://ollama.com/library"),i($,"target","_blank"),i(I,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),i(j,"class","mb-2 text-sm font-medium"),i(W,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(W,"placeholder",F=l[24].t("Select a model")),l[22]===void 0&&Il(()=>l[40].call(W)),i(U,"class","flex-1 mr-2"),i(x,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),i(H,"class","flex w-full"),i(ie,"class","mb-2 text-sm font-medium"),i(Oe,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(Oe,"placeholder",Pe=l[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),Oe.disabled=l[10],i(ne,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),i(ne,"rows","6"),i(ne,"placeholder",`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),ne.disabled=l[10],i(Me,"class","flex-1 mr-2 flex flex-col gap-2"),i(xe,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),i(Ke,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(Ue,"xmlns","http://www.w3.org/2000/svg"),i(Ue,"viewBox","0 0 16 16"),i(Ue,"fill","currentColor"),i(Ue,"class","size-4"),i(De,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),De.disabled=l[10],i(Ve,"class","flex self-start"),i($e,"class","flex w-full"),i(ge,"class","text-sm font-medium"),i(rt,"class","text-xs font-medium text-gray-500"),i(rt,"type","button"),i(ue,"class","flex justify-between items-center text-xs"),i(_e,"class","pt-1"),i(s,"class","space-y-2"),i(e,"class","flex flex-col w-full")},m(Ae,Je){B(Ae,e,Je),r(e,t),r(t,s),nt&&nt.m(s,null),r(s,a),r(s,o),r(o,n),r(n,u),r(o,h),r(o,m),r(m,p),r(p,b),te(b,l[9]),r(m,E),r(m,w),ze.m(w,null),r(o,k),r(o,I),r(I,y),r(I,V),r(I,$),r($,S),r(o,L),ht&&ht.m(o,null),r(s,N),r(s,q),r(q,j),r(j,G),r(q,Z),r(q,H),r(H,U),r(U,W),bt&&bt.m(W,null),r(W,J);for(let Ce=0;Ce<dt.length;Ce+=1)dt[Ce]&&dt[Ce].m(W,null);Yt(W,l[22],!0),r(H,z),r(H,x),r(s,ee),r(s,Q),r(Q,ie),r(ie,Le),r(Q,Re),r(Q,$e),r($e,Me),r(Me,Oe),te(Oe,l[11]),r(Me,tt),r(Me,ne),te(ne,l[12]),r($e,de),r($e,Ve),r(Ve,De),r(De,Ue),r(Ue,xe),r(Ue,Ke),r(Q,We),kt&&kt.m(Q,null),r(s,qe),r(s,_e),r(_e,ue),r(ue,ge),r(ge,Ee),r(ue,Be),r(ue,rt),r(rt,Fe),r(s,le),st&&st.m(s,null),se=!0,lt||(at=[ae(b,"input",l[37]),ae(w,"click",l[38]),ae(W,"change",l[40]),ae(x,"click",l[41]),ae(Oe,"input",l[42]),ae(ne,"input",l[43]),ae(De,"click",l[44]),ae(rt,"click",l[45])],lt=!0)},p(Ae,Je){if(Ae[5]?nt?nt.p(Ae,Je):(nt=fi(Ae),nt.c(),nt.m(s,a)):nt&&(nt.d(1),nt=null),(!se||Je[0]&16777216)&&c!==(c=Ae[24].t("Pull a model from Ollama.com")+"")&&K(u,c),(!se||Je[0]&16777216&&g!==(g=Ae[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&i(b,"placeholder",g),Je[0]&512&&b.value!==Ae[9]&&te(b,Ae[9]),Ye!==(Ye=it(Ae))&&(ze.d(1),ze=Ye(Ae),ze&&(ze.c(),ze.m(w,null))),(!se||Je[0]&256)&&(w.disabled=Ae[8]),(!se||Je[0]&16777216)&&T!==(T=Ae[24].t("To access the available model names for downloading,")+"")&&K(y,T),(!se||Je[0]&16777216)&&M!==(M=Ae[24].t("click here.")+"")&&K(S,M),Je[0]&8388608&&(P=Object.keys(Ae[23]).length>0),P?ht?(ht.p(Ae,Je),Je[0]&8388608&&Y(ht,1)):(ht=ci(Ae),ht.c(),Y(ht,1),ht.m(o,null)):ht&&(Lt(),X(ht,1,1,()=>{ht=null}),Ut()),(!se||Je[0]&16777216)&&O!==(O=Ae[24].t("Delete a model")+"")&&K(G,O),Ae[22]?bt&&(bt.d(1),bt=null):bt?bt.p(Ae,Je):(bt=pi(Ae),bt.c(),bt.m(W,J)),Je[0]&16){Et=St(Ae[4]);let Ce;for(Ce=0;Ce<Et.length;Ce+=1){const Qe=oi(Ae,Et,Ce);dt[Ce]?dt[Ce].p(Qe,Je):(dt[Ce]=vi(Qe),dt[Ce].c(),dt[Ce].m(W,null))}for(;Ce<dt.length;Ce+=1)dt[Ce].d(1);dt.length=Et.length}(!se||Je[0]&16777216&&F!==(F=Ae[24].t("Select a model")))&&i(W,"placeholder",F),Je[0]&4194320&&Yt(W,Ae[22]),(!se||Je[0]&16777216)&&fe!==(fe=Ae[24].t("Create a model")+"")&&K(Le,fe),(!se||Je[0]&16777216&&Pe!==(Pe=Ae[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&i(Oe,"placeholder",Pe),(!se||Je[0]&1024)&&(Oe.disabled=Ae[10]),Je[0]&2048&&Oe.value!==Ae[11]&&te(Oe,Ae[11]),(!se||Je[0]&1024)&&(ne.disabled=Ae[10]),Je[0]&4096&&te(ne,Ae[12]),(!se||Je[0]&1024)&&(De.disabled=Ae[10]),Ae[13]!==""?kt?kt.p(Ae,Je):(kt=mi(Ae),kt.c(),kt.m(Q,null)):kt&&(kt.d(1),kt=null),(!se||Je[0]&16777216)&&ke!==(ke=Ae[24].t("Experimental")+"")&&K(Ee,ke),(!se||Je[0]&16777344)&&oe!==(oe=(Ae[7]?Ae[24].t("Hide"):Ae[24].t("Show"))+"")&&K(Fe,oe),Ae[7]?st?st.p(Ae,Je):(st=bi(Ae),st.c(),st.m(s,null)):st&&(st.d(1),st=null)},i(Ae){se||(Y(ht),se=!0)},o(Ae){X(ht),se=!1},d(Ae){Ae&&f(e),nt&&nt.d(),ze.d(),ht&&ht.d(),bt&&bt.d(),ll(dt,Ae),kt&&kt.d(),st&&st.d(),lt=!1,Xt(at)}}}function fi(l){let e,t,s,a,o=l[6]?`(${l[6]}%)`:"",n;return{c(){e=d("div"),t=C('Updating "'),s=C(l[5]),a=C('" '),n=C(o),this.h()},l(c){e=_(c,"DIV",{class:!0});var u=v(e);t=R(u,'Updating "'),s=R(u,l[5]),a=R(u,'" '),n=R(u,o),u.forEach(f),this.h()},h(){i(e,"class","text-xs")},m(c,u){B(c,e,u),r(e,t),r(e,s),r(e,a),r(e,n)},p(c,u){u[0]&32&&K(s,c[5]),u[0]&64&&o!==(o=c[6]?`(${c[6]}%)`:"")&&K(n,o)},d(c){c&&f(e)}}}function kc(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=v(e);t=Zt(o,"path",{d:!0}),v(t).forEach(f),s=Zt(o,"path",{d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),i(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","w-4 h-4")},m(a,o){B(a,e,o),r(e,t),r(e,s)},d(a){a&&f(e)}}}function Ic(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}

														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1d0lqo6"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function ci(l){let e,t,s=St(Object.keys(l[23])),a=[];for(let n=0;n<s.length;n+=1)a[n]=hi(ui(l,s,n));const o=n=>X(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=tl()},l(n){for(let c=0;c<a.length;c+=1)a[c].l(n);e=tl()},m(n,c){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(n,c);B(n,e,c),t=!0},p(n,c){if(c[0]&1098907648){s=St(Object.keys(n[23]));let u;for(u=0;u<s.length;u+=1){const h=ui(n,s,u);a[u]?(a[u].p(h,c),Y(a[u],1)):(a[u]=hi(h),a[u].c(),Y(a[u],1),a[u].m(e.parentNode,e))}for(Lt(),u=s.length;u<a.length;u+=1)o(u);Ut()}},i(n){if(!t){for(let c=0;c<s.length;c+=1)Y(a[c]);t=!0}},o(n){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)X(a[c]);t=!1},d(n){n&&f(e),ll(a,n)}}}function di(l){let e,t,s=l[58]+"",a,o,n,c,u,h,m=(l[23][l[58]].pullProgress??0)+"",p,b,g,E,w,k,I;E=new Kt({props:{content:l[24].t("Cancel"),$$slots:{default:[yc]},$$scope:{ctx:l}}});let T="digest"in l[23][l[58]]&&_i(l);return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("div"),h=d("div"),p=C(m),b=C("%"),g=A(),he(E.$$.fragment),w=A(),T&&T.c(),k=A(),this.h()},l(y){e=_(y,"DIV",{class:!0});var V=v(e);t=_(V,"DIV",{class:!0});var $=v(t);a=R($,s),$.forEach(f),o=D(V),n=_(V,"DIV",{class:!0});var M=v(n);c=_(M,"DIV",{class:!0});var S=v(c);u=_(S,"DIV",{class:!0});var L=v(u);h=_(L,"DIV",{class:!0,style:!0});var P=v(h);p=R(P,m),b=R(P,"%"),P.forEach(f),L.forEach(f),g=D(S),pe(E.$$.fragment,S),S.forEach(f),w=D(M),T&&T.l(M),M.forEach(f),k=D(V),V.forEach(f),this.h()},h(){i(t,"class","font-medium mb-1"),i(h,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Wl(h,"width",Math.max(15,l[23][l[58]].pullProgress??0)+"%"),i(u,"class","flex-1"),i(c,"class","flex flex-row justify-between space-x-4 pr-2"),i(n,"class",""),i(e,"class","flex flex-col")},m(y,V){B(y,e,V),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),r(u,h),r(h,p),r(h,b),r(c,g),ve(E,c,null),r(n,w),T&&T.m(n,null),r(e,k),I=!0},p(y,V){(!I||V[0]&8388608)&&s!==(s=y[58]+"")&&K(a,s),(!I||V[0]&8388608)&&m!==(m=(y[23][y[58]].pullProgress??0)+"")&&K(p,m),(!I||V[0]&8388608)&&Wl(h,"width",Math.max(15,y[23][y[58]].pullProgress??0)+"%");const $={};V[0]&16777216&&($.content=y[24].t("Cancel")),V[0]&8388608|V[2]&2&&($.$$scope={dirty:V,ctx:y}),E.$set($),"digest"in y[23][y[58]]?T?T.p(y,V):(T=_i(y),T.c(),T.m(n,null)):T&&(T.d(1),T=null)},i(y){I||(Y(E.$$.fragment,y),I=!0)},o(y){X(E.$$.fragment,y),I=!1},d(y){y&&f(e),me(E),T&&T.d()}}}function yc(l){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',s,a;function o(){return l[39](l[58])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(n){e=_(n,"BUTTON",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1p0a7dw"&&(e.innerHTML=t),this.h()},h(){i(e,"class","text-gray-800 dark:text-gray-100")},m(n,c){B(n,e,c),s||(a=ae(e,"click",o),s=!0)},p(n,c){l=n},d(n){n&&f(e),s=!1,a()}}}function _i(l){let e,t=l[23][l[58]].digest+"",s;return{c(){e=d("div"),s=C(t),this.h()},l(a){e=_(a,"DIV",{class:!0,style:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","mt-1 text-xs dark:text-gray-500"),Wl(e,"font-size","0.5rem")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&8388608&&t!==(t=a[23][a[58]].digest+"")&&K(s,t)},d(a){a&&f(e)}}}function hi(l){let e,t,s="pullProgress"in l[23][l[58]]&&di(l);return{c(){s&&s.c(),e=tl()},l(a){s&&s.l(a),e=tl()},m(a,o){s&&s.m(a,o),B(a,e,o),t=!0},p(a,o){"pullProgress"in a[23][a[58]]?s?(s.p(a,o),o[0]&8388608&&Y(s,1)):(s=di(a),s.c(),Y(s,1),s.m(e.parentNode,e)):s&&(Lt(),X(s,1,1,()=>{s=null}),Ut())},i(a){t||(Y(s),t=!0)},o(a){X(s),t=!1},d(a){a&&f(e),s&&s.d(a)}}}function pi(l){let e,t=l[24].t("Select a model")+"",s;return{c(){e=d("option"),s=C(t),this.h()},l(a){e=_(a,"OPTION",{});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){e.__value="",te(e,e.__value),e.disabled=!0,e.selected=!0},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("Select a model")+"")&&K(s,t)},d(a){a&&f(e)}}}function vi(l){let e,t=l[58].name+" ("+(l[58].size/1073741824).toFixed(1)+" GB)",s,a;return{c(){e=d("option"),s=C(t),this.h()},l(o){e=_(o,"OPTION",{class:!0});var n=v(e);s=R(n,t),n.forEach(f),this.h()},h(){e.__value=a=l[58].id,te(e,e.__value),i(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,n){B(o,e,n),r(e,s)},p(o,n){n[0]&16&&t!==(t=o[58].name+" ("+(o[58].size/1024**3).toFixed(1)+" GB)")&&K(s,t),n[0]&16&&a!==(a=o[58].id)&&(e.__value=a,te(e,e.__value))},d(o){o&&f(e)}}}function mi(l){let e,t,s,a,o,n,c,u,h=(l[14]??0)+"",m,p,b,g=l[13]&&gi(l);return{c(){e=d("div"),t=d("div"),s=C(l[11]),a=A(),o=d("div"),n=d("div"),c=d("div"),u=d("div"),m=C(h),p=C("%"),b=A(),g&&g.c(),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);s=R(k,l[11]),k.forEach(f),a=D(w),o=_(w,"DIV",{class:!0});var I=v(o);n=_(I,"DIV",{class:!0});var T=v(n);c=_(T,"DIV",{class:!0});var y=v(c);u=_(y,"DIV",{class:!0,style:!0});var V=v(u);m=R(V,h),p=R(V,"%"),V.forEach(f),y.forEach(f),T.forEach(f),b=D(I),g&&g.l(I),I.forEach(f),w.forEach(f),this.h()},h(){i(t,"class","font-medium mb-1"),i(u,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Wl(u,"width",Math.max(15,l[14]??0)+"%"),i(c,"class","flex-1"),i(n,"class","flex flex-row justify-between space-x-4 pr-2"),i(o,"class",""),i(e,"class","flex flex-col mt-1")},m(E,w){B(E,e,w),r(e,t),r(t,s),r(e,a),r(e,o),r(o,n),r(n,c),r(c,u),r(u,m),r(u,p),r(o,b),g&&g.m(o,null)},p(E,w){w[0]&2048&&K(s,E[11]),w[0]&16384&&h!==(h=(E[14]??0)+"")&&K(m,h),w[0]&16384&&Wl(u,"width",Math.max(15,E[14]??0)+"%"),E[13]?g?g.p(E,w):(g=gi(E),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},d(E){E&&f(e),g&&g.d()}}}function gi(l){let e,t;return{c(){e=d("div"),t=C(l[13]),this.h()},l(s){e=_(s,"DIV",{class:!0,style:!0});var a=v(e);t=R(a,l[13]),a.forEach(f),this.h()},h(){i(e,"class","mt-1 text-xs dark:text-gray-500"),Wl(e,"font-size","0.5rem")},m(s,a){B(s,e,a),r(e,t)},p(s,a){a[0]&8192&&K(t,s[13])},d(s){s&&f(e)}}}function bi(l){let e,t,s,a=l[24].t("Upload a GGUF model")+"",o,n,c,u,h,m,p,b,g,E,w=l[24].t("To access the GGUF models available for downloading,")+"",k,I,T,y=l[24].t("click here.")+"",V,$,M,S;function L(J,F){return J[15]==="file"?Ac:Tc}let P=L(l),N=P(l);function q(J,F){return J[15]==="file"?Vc:Dc}let j=q(l),O=j(l),G=(l[15]==="file"&&l[16]&&l[16].length>0||l[15]==="url"&&l[17]!=="")&&Ei(l),Z=(l[15]==="file"&&l[16]&&l[16].length>0||l[15]==="url"&&l[17]!=="")&&wi(l);function H(J,F){if(J[21])return Pc;if(J[20]!==null)return Oc}let U=H(l),W=U&&U(l);return{c(){e=d("form"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("button"),N.c(),u=A(),h=d("div"),m=d("div"),O.c(),p=A(),G&&G.c(),b=A(),Z&&Z.c(),g=A(),E=d("div"),k=C(w),I=A(),T=d("a"),V=C(y),$=A(),W&&W.c(),this.h()},l(J){e=_(J,"FORM",{});var F=v(e);t=_(F,"DIV",{class:!0});var z=v(t);s=_(z,"DIV",{class:!0});var x=v(s);o=R(x,a),x.forEach(f),n=D(z),c=_(z,"BUTTON",{class:!0,type:!0});var re=v(c);N.l(re),re.forEach(f),z.forEach(f),u=D(F),h=_(F,"DIV",{class:!0});var ee=v(h);m=_(ee,"DIV",{class:!0});var Q=v(m);O.l(Q),Q.forEach(f),p=D(ee),G&&G.l(ee),ee.forEach(f),b=D(F),Z&&Z.l(F),g=D(F),E=_(F,"DIV",{class:!0});var ie=v(E);k=R(ie,w),I=D(ie),T=_(ie,"A",{class:!0,href:!0,target:!0});var fe=v(T);V=R(fe,y),fe.forEach(f),ie.forEach(f),$=D(F),W&&W.l(F),F.forEach(f),this.h()},h(){i(s,"class","text-sm font-medium"),i(c,"class","p-1 px-3 text-xs flex rounded transition"),i(c,"type","button"),i(t,"class","mb-2 flex w-full justify-between"),i(m,"class","flex flex-col w-full"),i(h,"class","flex w-full mb-1.5"),i(T,"class","text-gray-500 dark:text-gray-300 font-medium underline"),i(T,"href","https://huggingface.co/models?search=gguf"),i(T,"target","_blank"),i(E,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(J,F){B(J,e,F),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),N.m(c,null),r(e,u),r(e,h),r(h,m),O.m(m,null),r(h,p),G&&G.m(h,null),r(e,b),Z&&Z.m(e,null),r(e,g),r(e,E),r(E,k),r(E,I),r(E,T),r(T,V),r(e,$),W&&W.m(e,null),M||(S=[ae(c,"click",l[46]),ae(e,"submit",jl(l[53]))],M=!0)},p(J,F){F[0]&16777216&&a!==(a=J[24].t("Upload a GGUF model")+"")&&K(o,a),P===(P=L(J))&&N?N.p(J,F):(N.d(1),N=P(J),N&&(N.c(),N.m(c,null))),j===(j=q(J))&&O?O.p(J,F):(O.d(1),O=j(J),O&&(O.c(),O.m(m,null))),J[15]==="file"&&J[16]&&J[16].length>0||J[15]==="url"&&J[17]!==""?G?G.p(J,F):(G=Ei(J),G.c(),G.m(h,null)):G&&(G.d(1),G=null),J[15]==="file"&&J[16]&&J[16].length>0||J[15]==="url"&&J[17]!==""?Z?Z.p(J,F):(Z=wi(J),Z.c(),Z.m(e,g)):Z&&(Z.d(1),Z=null),F[0]&16777216&&w!==(w=J[24].t("To access the GGUF models available for downloading,")+"")&&K(k,w),F[0]&16777216&&y!==(y=J[24].t("click here.")+"")&&K(V,y),U===(U=H(J))&&W?W.p(J,F):(W&&W.d(1),W=U&&U(J),W&&(W.c(),W.m(e,null)))},d(J){J&&f(e),N.d(),O.d(),G&&G.d(),Z&&Z.d(),W&&W.d(),M=!1,Xt(S)}}}function Tc(l){let e,t=l[24].t("URL Mode")+"",s;return{c(){e=d("span"),s=C(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("URL Mode")+"")&&K(s,t)},d(a){a&&f(e)}}}function Ac(l){let e,t=l[24].t("File Mode")+"",s;return{c(){e=d("span"),s=C(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("File Mode")+"")&&K(s,t)},d(a){a&&f(e)}}}function Dc(l){let e,t,s,a,o,n,c;return{c(){e=d("div"),t=d("input"),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);t=_(h,"INPUT",{class:!0,type:!0,placeholder:!0}),h.forEach(f),this.h()},h(){i(t,"class",s="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(l[17]!==""?"mr-2":"")),i(t,"type","url"),t.required=!0,i(t,"placeholder",a=l[24].t("Type Hugging Face Resolve (Download) URL")),i(e,"class",o="flex-1 "+(l[17]!==""?"mr-2":""))},m(u,h){B(u,e,h),r(e,t),te(t,l[17]),n||(c=ae(t,"input",l[51]),n=!0)},p(u,h){h[0]&131072&&s!==(s="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(u[17]!==""?"mr-2":""))&&i(t,"class",s),h[0]&16777216&&a!==(a=u[24].t("Type Hugging Face Resolve (Download) URL"))&&i(t,"placeholder",a),h[0]&131072&&t.value!==u[17]&&te(t,u[17]),h[0]&131072&&o!==(o="flex-1 "+(u[17]!==""?"mr-2":""))&&i(e,"class",o)},d(u){u&&f(e),n=!1,c()}}}function Vc(l){let e,t,s,a,o,n,c;function u(p,b){return p[16]&&p[16].length>0?$c:Sc}let h=u(l),m=h(l);return{c(){e=d("div"),t=d("input"),s=A(),a=d("button"),m.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var b=v(e);t=_(b,"INPUT",{id:!0,type:!0,accept:!0}),s=D(b),a=_(b,"BUTTON",{type:!0,class:!0});var g=v(a);m.l(g),g.forEach(f),b.forEach(f),this.h()},h(){i(t,"id","model-upload-input"),i(t,"type","file"),i(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,i(a,"type","button"),i(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),i(e,"class",o="flex-1 "+(l[16]&&l[16].length>0?"mr-2":""))},m(p,b){B(p,e,b),r(e,t),l[47](t),r(e,s),r(e,a),m.m(a,null),n||(c=[ae(t,"change",l[48]),ae(t,"change",l[49]),ae(a,"click",l[50])],n=!0)},p(p,b){h===(h=u(p))&&m?m.p(p,b):(m.d(1),m=h(p),m&&(m.c(),m.m(a,null))),b[0]&65536&&o!==(o="flex-1 "+(p[16]&&p[16].length>0?"mr-2":""))&&i(e,"class",o)},d(p){p&&f(e),l[47](null),m.d(),n=!1,Xt(c)}}}function Sc(l){let e=l[24].t("Click here to select")+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&16777216&&e!==(e=s[24].t("Click here to select")+"")&&K(t,e)},d(s){s&&f(t)}}}function $c(l){let e=l[16][0].name+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&65536&&e!==(e=s[16][0].name+"")&&K(t,e)},d(s){s&&f(t)}}}function Ei(l){let e;function t(o,n){return o[8]?Nc:Mc}let s=t(l),a=s(l);return{c(){e=d("button"),a.c(),this.h()},l(o){e=_(o,"BUTTON",{class:!0,type:!0});var n=v(e);a.l(n),n.forEach(f),this.h()},h(){i(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),i(e,"type","submit"),e.disabled=l[8]},m(o,n){B(o,e,n),a.m(e,null)},p(o,n){s!==(s=t(o))&&(a.d(1),a=s(o),a&&(a.c(),a.m(e,null))),n[0]&256&&(e.disabled=o[8])},d(o){o&&f(e),a.d()}}}function Mc(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=v(e);t=Zt(o,"path",{d:!0}),v(t).forEach(f),s=Zt(o,"path",{d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),i(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","w-4 h-4")},m(a,o){B(a,e,o),r(e,t),r(e,s)},d(a){a&&f(e)}}}function Nc(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
																	transform-origin: center;
																	animation: spinner_AtaB 0.75s infinite linear;
																}

																@keyframes spinner_AtaB {
																	100% {
																		transform: rotate(360deg);
																	}
																}
															</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1q4oig8"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function wi(l){let e,t,s,a=l[24].t("Modelfile Content")+"",o,n,c,u,h;return{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("textarea"),this.h()},l(m){e=_(m,"DIV",{});var p=v(e);t=_(p,"DIV",{});var b=v(t);s=_(b,"DIV",{class:!0});var g=v(s);o=R(g,a),g.forEach(f),n=D(b),c=_(b,"TEXTAREA",{class:!0,rows:!0}),v(c).forEach(f),b.forEach(f),p.forEach(f),this.h()},h(){i(s,"class","my-2.5 text-sm font-medium"),i(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),i(c,"rows","6")},m(m,p){B(m,e,p),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),te(c,l[18]),u||(h=ae(c,"input",l[52]),u=!0)},p(m,p){p[0]&16777216&&a!==(a=m[24].t("Modelfile Content")+"")&&K(o,a),p[0]&262144&&te(c,m[18])},d(m){m&&f(e),u=!1,h()}}}function Oc(l){let e,t,s=l[24].t("Upload Progress")+"",a,o,n,c,u=(l[20]??0)+"",h,m,p,b,g;return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),h=C(u),m=C("%"),p=A(),b=d("div"),g=C(l[19]),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=R(k,s),k.forEach(f),o=D(w),n=_(w,"DIV",{class:!0});var I=v(n);c=_(I,"DIV",{class:!0,style:!0});var T=v(c);h=R(T,u),m=R(T,"%"),T.forEach(f),I.forEach(f),p=D(w),b=_(w,"DIV",{class:!0,style:!0});var y=v(b);g=R(y,l[19]),y.forEach(f),w.forEach(f),this.h()},h(){i(t,"class","mb-2 text-xs"),i(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Wl(c,"width",Math.max(15,l[20]??0)+"%"),i(n,"class","w-full rounded-full dark:bg-gray-800"),i(b,"class","mt-1 text-xs dark:text-gray-500"),Wl(b,"font-size","0.5rem"),i(e,"class","mt-2")},m(E,w){B(E,e,w),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,h),r(c,m),r(e,p),r(e,b),r(b,g)},p(E,w){w[0]&16777216&&s!==(s=E[24].t("Upload Progress")+"")&&K(a,s),w[0]&1048576&&u!==(u=(E[20]??0)+"")&&K(h,u),w[0]&1048576&&Wl(c,"width",Math.max(15,E[20]??0)+"%"),w[0]&524288&&K(g,E[19])},d(E){E&&f(e)}}}function Pc(l){let e,t,s=l[24].t("Upload Progress")+"",a,o,n,c,u,h,m,p;return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=C(l[21]),h=A(),m=d("div"),p=C(l[19]),this.h()},l(b){e=_(b,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=R(E,s),E.forEach(f),o=D(g),n=_(g,"DIV",{class:!0});var w=v(n);c=_(w,"DIV",{class:!0,style:!0});var k=v(c);u=R(k,l[21]),k.forEach(f),w.forEach(f),h=D(g),m=_(g,"DIV",{class:!0,style:!0});var I=v(m);p=R(I,l[19]),I.forEach(f),g.forEach(f),this.h()},h(){i(t,"class","mb-2 text-xs"),i(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Wl(c,"width","100%"),i(n,"class","w-full rounded-full dark:bg-gray-800"),i(m,"class","mt-1 text-xs dark:text-gray-500"),Wl(m,"font-size","0.5rem"),i(e,"class","mt-2")},m(b,g){B(b,e,g),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),r(e,h),r(e,m),r(m,p)},p(b,g){g[0]&16777216&&s!==(s=b[24].t("Upload Progress")+"")&&K(a,s),g[0]&2097152&&K(u,b[21]),g[0]&524288&&K(p,b[19])},d(b){b&&f(e)}}}function Lc(l){let e,t,s,a,o=l[24].t("Manage Ollama")+"",n,c,u,h,m,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,E,w,k,I,T,y;h=new Kt({props:{content:"Update All Models",placement:"top",$$slots:{default:[bc]},$$scope:{ctx:l}}});const V=[wc,Ec],$=[];function M(S,L){return S[3]?1:0}return w=M(l),k=$[w]=V[w](l),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),n=C(o),c=A(),u=d("div"),he(h.$$.fragment),m=A(),p=d("button"),p.innerHTML=b,g=A(),E=d("div"),k.c(),this.h()},l(S){e=_(S,"DIV",{});var L=v(e);t=_(L,"DIV",{class:!0});var P=v(t);s=_(P,"DIV",{class:!0});var N=v(s);a=_(N,"DIV",{class:!0});var q=v(a);n=R(q,o),q.forEach(f),c=D(N),u=_(N,"DIV",{});var j=v(u);pe(h.$$.fragment,j),j.forEach(f),N.forEach(f),m=D(P),p=_(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Ct(p)!=="svelte-745w2y"&&(p.innerHTML=b),P.forEach(f),g=D(L),E=_(L,"DIV",{class:!0});var O=v(E);k.l(O),O.forEach(f),L.forEach(f),this.h()},h(){i(a,"class","flex-shrink-0"),i(s,"class","flex w-full justify-between items-center text-lg font-medium self-center font-primary"),i(p,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),i(E,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(S,L){B(S,e,L),r(e,t),r(t,s),r(s,a),r(a,n),r(s,c),r(s,u),ve(h,u,null),r(t,m),r(t,p),r(e,g),r(e,E),$[w].m(E,null),I=!0,T||(y=ae(p,"click",l[36]),T=!0)},p(S,L){(!I||L[0]&16777216)&&o!==(o=S[24].t("Manage Ollama")+"")&&K(n,o);const P={};L[2]&2&&(P.$$scope={dirty:L,ctx:S}),h.$set(P);let N=w;w=M(S),w===N?$[w].p(S,L):(Lt(),X($[N],1,1,()=>{$[N]=null}),Ut(),k=$[w],k?k.p(S,L):(k=$[w]=V[w](S),k.c()),Y(k,1),k.m(E,null))},i(S){I||(Y(h.$$.fragment,S),Y(k),I=!0)},o(S){X(h.$$.fragment,S),X(k),I=!1},d(S){S&&f(e),me(h),$[w].d(),T=!1,y()}}}function Uc(l){let e,t,s,a,o,n;function c(p){l[33](p)}let u={};l[2]!==void 0&&(u.show=l[2]),e=new Va({props:u}),gt.push(()=>Tt(e,"show",c)),e.$on("confirm",l[34]);function h(p){l[54](p)}let m={size:"sm",$$slots:{default:[Lc]},$$scope:{ctx:l}};return l[0]!==void 0&&(m.show=l[0]),a=new Xa({props:m}),gt.push(()=>Tt(a,"show",h)),{c(){he(e.$$.fragment),s=A(),he(a.$$.fragment)},l(p){pe(e.$$.fragment,p),s=D(p),pe(a.$$.fragment,p)},m(p,b){ve(e,p,b),B(p,s,b),ve(a,p,b),n=!0},p(p,b){const g={};!t&&b[0]&4&&(t=!0,g.show=p[2],yt(()=>t=!1)),e.$set(g);const E={};b[0]&33554431|b[2]&2&&(E.$$scope={dirty:b,ctx:p}),!o&&b[0]&1&&(o=!0,E.show=p[0],yt(()=>o=!1)),a.$set(E)},i(p){n||(Y(e.$$.fragment,p),Y(a.$$.fragment,p),n=!0)},o(p){X(e.$$.fragment,p),X(a.$$.fragment,p),n=!1},d(p){p&&f(s),me(e,p),me(a,p)}}}const Cc=3;function Rc(l,e,t){let s,a;sl(l,Ns,ue=>t(23,s=ue));const o=yl("i18n");sl(l,o,ue=>t(24,a=ue));let{show:n=!1}=e,c,u=!1,h=!0,{urlIdx:m=null}=e,p=[],b=null,g=null,E=!1,w=!1,k="",I=!1,T="",y="",V="",$=null,M="",S=null,L="file",P=null,N="",q=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,j="",O=null,G="",Z="";const H=async()=>{for(const ue of p){console.log(ue),t(5,b=ue.id);const[ge,ke]=await Fr(localStorage.token,ue.id,m).catch(Ee=>(Ze.error(Ee),null));if(ge){const Ee=ge.body.pipeThrough(new TextDecoderStream).pipeThrough(Fs(`
`)).getReader();for(;;)try{const{value:Be,done:rt}=await Ee.read();if(rt)break;let oe=Be.split(`
`);for(const Fe of oe)if(Fe!==""){let le=JSON.parse(Fe);if(console.log(le),le.error)throw le.error;if(le.detail)throw le.detail;le.status&&(le.digest?(t(6,g=0),le.completed?t(6,g=Math.round(le.completed/le.total*1e3)/10):t(6,g=100)):Ze.success(le.status))}}catch(Be){console.log(Be)}}}t(5,b=null),t(6,g=null)},U=async()=>{const ue=k.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(s),s[ue]){Ze.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:ue}));return}if(Object.keys(s).length===Cc){Ze.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[ge,ke]=await Fr(localStorage.token,ue,m).catch(Ee=>(Ze.error(Ee),null));if(ge){const Ee=ge.body.pipeThrough(new TextDecoderStream).pipeThrough(Fs(`
`)).getReader();for(Ns.set({...s,[ue]:{...s[ue],abortController:ke,reader:Ee,done:!1}});;)try{const{value:Be,done:rt}=await Ee.read();if(rt)break;let oe=Be.split(`
`);for(const Fe of oe)if(Fe!==""){let le=JSON.parse(Fe);if(console.log(le),le.error)throw le.error;if(le.detail)throw le.detail;if(le.status)if(le.digest){let se=0;le.completed?se=Math.round(le.completed/le.total*1e3)/10:se=100,Ns.set({...s,[ue]:{...s[ue],pullProgress:se,digest:le.digest}})}else Ze.success(le.status),Ns.set({...s,[ue]:{...s[ue],done:le.status==="success"}})}}catch(Be){console.log(Be),typeof Be!="string"&&(Be=Be.message),Ze.error(Be)}console.log(s[ue]),s[ue].done?(Ze.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:ue})),kl.set(await Pl(localStorage.token))):Ze.error(a.t("Download canceled")),delete s[ue],Ns.set({...s})}t(9,k=""),t(8,w=!1)},W=async()=>{t(8,w=!0);let ue=!1,ge=null,ke="";if(L==="file"){const Ee=P?P[0]:null;Ee&&(t(21,G="Uploading..."),ge=await Qo(localStorage.token,Ee,m).catch(Be=>(Ze.error(Be),null)))}else t(20,O=0),ge=await Jo(localStorage.token,N,m).catch(Ee=>(Ze.error(Ee),null));if(ge&&ge.ok){const Ee=ge.body.pipeThrough(new TextDecoderStream).pipeThrough(Fs(`
`)).getReader();for(;;){const{value:Be,done:rt}=await Ee.read();if(rt)break;try{let oe=Be.split(`
`);for(const Fe of oe)if(Fe!==""){let le=JSON.parse(Fe.replace(/^data: /,""));if(le.progress&&(G&&t(21,G=""),t(20,O=le.progress)),le.error)throw le.error;le.done&&(t(19,j=le.blob),ke=le.name,ue=!0)}}catch(oe){console.log(oe)}}}else{const Ee=await(ge==null?void 0:ge.json());Ze.error((Ee==null?void 0:Ee.detail)??Ee)}if(ue){const Ee=await Yr(localStorage.token,`${ke}:latest`,`FROM @${j}
${q}`);if(Ee&&Ee.ok){const Be=Ee.body.pipeThrough(new TextDecoderStream).pipeThrough(Fs(`
`)).getReader();for(;;){const{value:rt,done:oe}=await Be.read();if(oe)break;try{let Fe=rt.split(`
`);for(const le of Fe)if(le!==""){console.log(le);let se=JSON.parse(le);if(console.log(se),se.error)throw se.error;if(se.detail)throw se.detail;se.status&&(!se.digest&&!se.status.includes("writing")&&!se.status.includes("sha256")?Ze.success(se.status):se.digest&&(M=se.digest,se.completed?S=Math.round(se.completed/se.total*1e3)/10:S=100))}}catch(Fe){console.log(Fe),Ze.error(Fe)}}}}t(17,N=""),c&&t(1,c.value="",c),t(16,P=null),t(8,w=!1),t(20,O=null),kl.set(await Pl(localStorage.token))},J=async()=>{await zr(localStorage.token,Z,m).catch(ge=>{Ze.error(ge)})&&Ze.success(a.t("Deleted {{deleteModelTag}}",{deleteModelTag:Z})),t(22,Z=""),kl.set(await Pl(localStorage.token))},F=async ue=>{const{reader:ge,abortController:ke}=s[ue];ke&&ke.abort(),ge&&(await ge.cancel(),delete s[ue],Ns.set({...s}),await zr(localStorage.token,ue),Ze.success(`${ue} download has been canceled`))},z=async()=>{t(10,I=!0);const ue=await Yr(localStorage.token,T,y,m).catch(ge=>(Ze.error(ge),null));if(ue&&ue.ok){const ge=ue.body.pipeThrough(new TextDecoderStream).pipeThrough(Fs(`
`)).getReader();for(;;){const{value:ke,done:Ee}=await ge.read();if(Ee)break;try{let Be=ke.split(`
`);for(const rt of Be)if(rt!==""){console.log(rt);let oe=JSON.parse(rt);if(console.log(oe),oe.error)throw oe.error;if(oe.detail)throw oe.detail;oe.status&&(!oe.digest&&!oe.status.includes("writing")&&!oe.status.includes("sha256")?Ze.success(oe.status):oe.digest&&(t(13,V=oe.digest),oe.completed?t(14,$=Math.round(oe.completed/oe.total*1e3)/10):t(14,$=100)))}}catch(Be){console.log(Be),Ze.error(Be)}}}kl.set(await Pl(localStorage.token)),t(10,I=!1),t(11,T=""),t(12,y=""),t(13,V=""),t(14,$=null)},x=async()=>{t(3,h=!0),t(4,p=await Yo(localStorage.token,m)),console.log(p),t(3,h=!1)};function re(ue){u=ue,t(2,u)}const ee=()=>{J()},Q=()=>{H()},ie=()=>{t(0,n=!1)};function fe(){k=this.value,t(9,k)}const Le=()=>{U()},Re=ue=>{F(ue)};function $e(){Z=wl(this),t(22,Z),t(4,p)}const Me=()=>{t(2,u=!0)};function Oe(){T=this.value,t(11,T)}function Pe(){y=this.value,t(12,y)}const tt=()=>{z()},ne=()=>{t(7,E=!E)},de=()=>{L==="file"?t(15,L="url"):t(15,L="file")};function Ve(ue){gt[ue?"unshift":"push"](()=>{c=ue,t(1,c)})}function De(){P=this.files,t(16,P)}const Ue=()=>{console.log(P)},xe=()=>{c.click()};function Ke(){N=this.value,t(17,N)}function We(){q=this.value,t(18,q)}const qe=()=>{W()};function _e(ue){n=ue,t(0,n)}return l.$$set=ue=>{"show"in ue&&t(0,n=ue.show),"urlIdx"in ue&&t(32,m=ue.urlIdx)},l.$$.update=()=>{l.$$.dirty[0]&1&&n&&x()},[n,c,u,h,p,b,g,E,w,k,I,T,y,V,$,L,P,N,q,j,O,G,Z,s,a,o,H,U,W,J,F,z,m,re,ee,Q,ie,fe,Le,Re,$e,Me,Oe,Pe,tt,ne,de,Ve,De,Ue,xe,Ke,We,qe,_e]}class Bc extends fl{constructor(e){super(),cl(this,e,Rc,Uc,ul,{show:0,urlIdx:32},null,[-1,-1,-1])}}function ki(l){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){i(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,s){B(t,e,s)},d(t){t&&f(e)}}}function Hc(l){var c;let e,t,s,a,o,n=!(((c=l[1])==null?void 0:c.enable)??!0)&&ki();return{c(){n&&n.c(),e=A(),t=d("input"),this.h()},l(u){n&&n.l(u),e=D(u),t=_(u,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){i(t,"class","w-full text-sm bg-transparent outline-none"),i(t,"placeholder",s=l[7].t("Enter URL (e.g. http://localhost:11434)"))},m(u,h){n&&n.m(u,h),B(u,e,h),B(u,t,h),te(t,l[0]),a||(o=ae(t,"input",l[12]),a=!0)},p(u,h){var m;((m=u[1])==null?void 0:m.enable)??!0?n&&(n.d(1),n=null):n||(n=ki(),n.c(),n.m(e.parentNode,e)),h&128&&s!==(s=u[7].t("Enter URL (e.g. http://localhost:11434)"))&&i(t,"placeholder",s),h&1&&t.value!==u[0]&&te(t,u[0])},d(u){u&&(f(e),f(t)),n&&n.d(u),a=!1,o()}}}function jc(l){let e,t,s,a,o;return t=new gc({}),{c(){e=d("button"),he(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var c=v(e);pe(t.$$.fragment,c),c.forEach(f),this.h()},h(){i(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),i(e,"type","button")},m(n,c){B(n,e,c),ve(t,e,null),s=!0,a||(o=ae(e,"click",l[13]),a=!0)},p:wt,i(n){s||(Y(t.$$.fragment,n),s=!0)},o(n){X(t.$$.fragment,n),s=!1},d(n){n&&f(e),me(t),a=!1,o()}}}function Gc(l){let e,t,s,a,o;return t=new Ja({}),{c(){e=d("button"),he(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var c=v(e);pe(t.$$.fragment,c),c.forEach(f),this.h()},h(){i(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),i(e,"type","button")},m(n,c){B(n,e,c),ve(t,e,null),s=!0,a||(o=ae(e,"click",l[14]),a=!0)},p:wt,i(n){s||(Y(t.$$.fragment,n),s=!0)},o(n){X(t.$$.fragment,n),s=!1},d(n){n&&f(e),me(t),a=!1,o()}}}function Zc(l){var y;let e,t,s,a,o,n,c,u,h,m,p,b,g,E;function w(V){l[10](V)}let k={ollama:!0,edit:!0,connection:{url:l[0],key:((y=l[1])==null?void 0:y.key)??"",config:l[1]},onDelete:l[2],onSubmit:l[9]};l[6]!==void 0&&(k.show=l[6]),e=new Sa({props:k}),gt.push(()=>Tt(e,"show",w));function I(V){l[11](V)}let T={urlIdx:l[4]};return l[5]!==void 0&&(T.show=l[5]),a=new Bc({props:T}),gt.push(()=>Tt(a,"show",I)),u=new Kt({props:{className:"w-full relative",content:l[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:l[0]}),placement:"top-start",$$slots:{default:[Hc]},$$scope:{ctx:l}}}),p=new Kt({props:{content:l[7].t("Manage"),className:"self-start",$$slots:{default:[jc]},$$scope:{ctx:l}}}),g=new Kt({props:{content:l[7].t("Configure"),className:"self-start",$$slots:{default:[Gc]},$$scope:{ctx:l}}}),{c(){he(e.$$.fragment),s=A(),he(a.$$.fragment),n=A(),c=d("div"),he(u.$$.fragment),h=A(),m=d("div"),he(p.$$.fragment),b=A(),he(g.$$.fragment),this.h()},l(V){pe(e.$$.fragment,V),s=D(V),pe(a.$$.fragment,V),n=D(V),c=_(V,"DIV",{class:!0});var $=v(c);pe(u.$$.fragment,$),h=D($),m=_($,"DIV",{class:!0});var M=v(m);pe(p.$$.fragment,M),b=D(M),pe(g.$$.fragment,M),M.forEach(f),$.forEach(f),this.h()},h(){i(m,"class","flex gap-1"),i(c,"class","flex gap-1.5")},m(V,$){ve(e,V,$),B(V,s,$),ve(a,V,$),B(V,n,$),B(V,c,$),ve(u,c,null),r(c,h),r(c,m),ve(p,m,null),r(m,b),ve(g,m,null),E=!0},p(V,[$]){var q;const M={};$&3&&(M.connection={url:V[0],key:((q=V[1])==null?void 0:q.key)??"",config:V[1]}),$&4&&(M.onDelete=V[2]),$&11&&(M.onSubmit=V[9]),!t&&$&64&&(t=!0,M.show=V[6],yt(()=>t=!1)),e.$set(M);const S={};$&16&&(S.urlIdx=V[4]),!o&&$&32&&(o=!0,S.show=V[5],yt(()=>o=!1)),a.$set(S);const L={};$&129&&(L.content=V[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:V[0]})),$&32899&&(L.$$scope={dirty:$,ctx:V}),u.$set(L);const P={};$&128&&(P.content=V[7].t("Manage")),$&32800&&(P.$$scope={dirty:$,ctx:V}),p.$set(P);const N={};$&128&&(N.content=V[7].t("Configure")),$&32832&&(N.$$scope={dirty:$,ctx:V}),g.$set(N)},i(V){E||(Y(e.$$.fragment,V),Y(a.$$.fragment,V),Y(u.$$.fragment,V),Y(p.$$.fragment,V),Y(g.$$.fragment,V),E=!0)},o(V){X(e.$$.fragment,V),X(a.$$.fragment,V),X(u.$$.fragment,V),X(p.$$.fragment,V),X(g.$$.fragment,V),E=!1},d(V){V&&(f(s),f(n),f(c)),me(e,V),me(a,V),me(u),me(p),me(g)}}}function Kc(l,e,t){let s;const a=yl("i18n");sl(l,a,T=>t(7,s=T));let{onDelete:o=()=>{}}=e,{onSubmit:n=()=>{}}=e,{url:c=""}=e,{idx:u=0}=e,{config:h={}}=e,m=!1,p=!1;const b=T=>{t(0,c=T.url),t(1,h={...T.config,key:T.key}),n(T)};function g(T){p=T,t(6,p)}function E(T){m=T,t(5,m)}function w(){c=this.value,t(0,c)}const k=()=>{t(5,m=!0)},I=()=>{t(6,p=!0)};return l.$$set=T=>{"onDelete"in T&&t(2,o=T.onDelete),"onSubmit"in T&&t(3,n=T.onSubmit),"url"in T&&t(0,c=T.url),"idx"in T&&t(4,u=T.idx),"config"in T&&t(1,h=T.config)},[c,h,o,n,u,m,p,s,a,b,g,E,w,k,I]}class qc extends fl{constructor(e){super(),cl(this,e,Kc,Zc,ul,{onDelete:2,onSubmit:3,url:0,idx:4,config:1})}}function Ii(l,e,t){const s=l.slice();return s[37]=e[t],s[38]=e,s[39]=t,s}function yi(l,e,t){const s=l.slice();return s[37]=e[t],s[40]=e,s[39]=t,s}function Wc(l){let e,t,s,a;return s=new ms({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),he(s.$$.fragment),this.h()},l(o){e=_(o,"DIV",{class:!0});var n=v(e);t=_(n,"DIV",{class:!0});var c=v(t);pe(s.$$.fragment,c),c.forEach(f),n.forEach(f),this.h()},h(){i(t,"class","my-auto"),i(e,"class","flex h-full justify-center")},m(o,n){B(o,e,n),r(e,t),ve(s,t,null),a=!0},p:wt,i(o){a||(Y(s.$$.fragment,o),a=!0)},o(o){X(s.$$.fragment,o),a=!1},d(o){o&&f(e),me(s)}}}function Fc(l){let e,t,s,a,o=l[10].t("OpenAI API")+"",n,c,u,h,m,p,b,g,E,w,k,I,T,y=l[10].t("Ollama API")+"",V,$,M,S,L,P,N;function q(U){l[19](U)}let j={};l[5]!==void 0&&(j.state=l[5]),m=new ml({props:j}),gt.push(()=>Tt(m,"state",q)),m.$on("change",l[20]);let O=l[5]&&Ti(l);function G(U){l[27](U)}let Z={};l[6]!==void 0&&(Z.state=l[6]),S=new ml({props:Z}),gt.push(()=>Tt(S,"state",G)),S.$on("change",l[28]);let H=l[6]&&Di(l);return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),n=C(o),c=A(),u=d("div"),h=d("div"),he(m.$$.fragment),b=A(),O&&O.c(),g=A(),E=d("hr"),w=A(),k=d("div"),I=d("div"),T=d("div"),V=C(y),$=A(),M=d("div"),he(S.$$.fragment),P=A(),H&&H.c(),this.h()},l(U){e=_(U,"DIV",{class:!0});var W=v(e);t=_(W,"DIV",{class:!0});var J=v(t);s=_(J,"DIV",{class:!0});var F=v(s);a=_(F,"DIV",{class:!0});var z=v(a);n=R(z,o),z.forEach(f),c=D(F),u=_(F,"DIV",{class:!0});var x=v(u);h=_(x,"DIV",{class:!0});var re=v(h);pe(m.$$.fragment,re),re.forEach(f),x.forEach(f),F.forEach(f),b=D(J),O&&O.l(J),J.forEach(f),W.forEach(f),g=D(U),E=_(U,"HR",{class:!0}),w=D(U),k=_(U,"DIV",{class:!0});var ee=v(k);I=_(ee,"DIV",{class:!0});var Q=v(I);T=_(Q,"DIV",{class:!0});var ie=v(T);V=R(ie,y),ie.forEach(f),$=D(Q),M=_(Q,"DIV",{class:!0});var fe=v(M);pe(S.$$.fragment,fe),fe.forEach(f),Q.forEach(f),P=D(ee),H&&H.l(ee),ee.forEach(f),this.h()},h(){i(a,"class","font-medium"),i(h,"class",""),i(u,"class","flex items-center"),i(s,"class","flex justify-between items-center text-sm"),i(t,"class","mt-2 space-y-2 pr-1.5"),i(e,"class","my-2"),i(E,"class","border-gray-50 dark:border-gray-850"),i(T,"class","font-medium"),i(M,"class","mt-1"),i(I,"class","flex justify-between items-center text-sm mb-2"),i(k,"class","pr-1.5 my-2")},m(U,W){B(U,e,W),r(e,t),r(t,s),r(s,a),r(a,n),r(s,c),r(s,u),r(u,h),ve(m,h,null),r(t,b),O&&O.m(t,null),B(U,g,W),B(U,E,W),B(U,w,W),B(U,k,W),r(k,I),r(I,T),r(T,V),r(I,$),r(I,M),ve(S,M,null),r(k,P),H&&H.m(k,null),N=!0},p(U,W){(!N||W[0]&1024)&&o!==(o=U[10].t("OpenAI API")+"")&&K(n,o);const J={};!p&&W[0]&32&&(p=!0,J.state=U[5],yt(()=>p=!1)),m.$set(J),U[5]?O?(O.p(U,W),W[0]&32&&Y(O,1)):(O=Ti(U),O.c(),Y(O,1),O.m(t,null)):O&&(Lt(),X(O,1,1,()=>{O=null}),Ut()),(!N||W[0]&1024)&&y!==(y=U[10].t("Ollama API")+"")&&K(V,y);const F={};!L&&W[0]&64&&(L=!0,F.state=U[6],yt(()=>L=!1)),S.$set(F),U[6]?H?(H.p(U,W),W[0]&64&&Y(H,1)):(H=Di(U),H.c(),Y(H,1),H.m(k,null)):H&&(Lt(),X(H,1,1,()=>{H=null}),Ut())},i(U){N||(Y(m.$$.fragment,U),Y(O),Y(S.$$.fragment,U),Y(H),N=!0)},o(U){X(m.$$.fragment,U),X(O),X(S.$$.fragment,U),X(H),N=!1},d(U){U&&(f(e),f(g),f(E),f(w),f(k)),me(m),O&&O.d(),me(S),H&&H.d()}}}function Ti(l){let e,t,s,a,o,n=l[10].t("Manage OpenAI API Connections")+"",c,u,h,m,p,b;h=new Kt({props:{content:l[10].t("Add Connection"),$$slots:{default:[zc]},$$scope:{ctx:l}}});let g=St(l[3]),E=[];for(let k=0;k<g.length;k+=1)E[k]=Ai(yi(l,g,k));const w=k=>X(E[k],1,1,()=>{E[k]=null});return{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),o=d("div"),c=C(n),u=A(),he(h.$$.fragment),m=A(),p=d("div");for(let k=0;k<E.length;k+=1)E[k].c();this.h()},l(k){e=_(k,"HR",{class:!0}),t=D(k),s=_(k,"DIV",{class:!0});var I=v(s);a=_(I,"DIV",{class:!0});var T=v(a);o=_(T,"DIV",{class:!0});var y=v(o);c=R(y,n),y.forEach(f),u=D(T),pe(h.$$.fragment,T),T.forEach(f),m=D(I),p=_(I,"DIV",{class:!0});var V=v(p);for(let $=0;$<E.length;$+=1)E[$].l(V);V.forEach(f),I.forEach(f),this.h()},h(){i(e,"class","border-gray-50 dark:border-gray-850"),i(o,"class","font-medium"),i(a,"class","flex justify-between items-center"),i(p,"class","flex flex-col gap-1.5 mt-1.5"),i(s,"class","")},m(k,I){B(k,e,I),B(k,t,I),B(k,s,I),r(s,a),r(a,o),r(o,c),r(a,u),ve(h,a,null),r(s,m),r(s,p);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(p,null);b=!0},p(k,I){(!b||I[0]&1024)&&n!==(n=k[10].t("Manage OpenAI API Connections")+"")&&K(c,n);const T={};if(I[0]&1024&&(T.content=k[10].t("Add Connection")),I[0]&256|I[1]&1024&&(T.$$scope={dirty:I,ctx:k}),h.$set(T),I[0]&8348){g=St(k[3]);let y;for(y=0;y<g.length;y+=1){const V=yi(k,g,y);E[y]?(E[y].p(V,I),Y(E[y],1)):(E[y]=Ai(V),E[y].c(),Y(E[y],1),E[y].m(p,null))}for(Lt(),y=g.length;y<E.length;y+=1)w(y);Ut()}},i(k){if(!b){Y(h.$$.fragment,k);for(let I=0;I<g.length;I+=1)Y(E[I]);b=!0}},o(k){X(h.$$.fragment,k),E=E.filter(Boolean);for(let I=0;I<E.length;I+=1)X(E[I]);b=!1},d(k){k&&(f(e),f(t),f(s)),me(h),ll(E,k)}}}function zc(l){let e,t,s,a,o;return t=new Qs({}),{c(){e=d("button"),he(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var c=v(e);pe(t.$$.fragment,c),c.forEach(f),this.h()},h(){i(e,"class","px-1"),i(e,"type","button")},m(n,c){B(n,e,c),ve(t,e,null),s=!0,a||(o=ae(e,"click",l[21]),a=!0)},p:wt,i(n){s||(Y(t.$$.fragment,n),s=!0)},o(n){X(t.$$.fragment,n),s=!1},d(n){n&&f(e),me(t),a=!1,o()}}}function Ai(l){let e,t,s,a,o;function n(){return l[23](l[39])}function c(p){l[24](p,l[37],l[40],l[39])}function u(p){l[25](p,l[39])}function h(p){l[26](p,l[37])}let m={pipeline:!!l[7][l[37]],onSubmit:l[22],onDelete:n};return l[37]!==void 0&&(m.url=l[37]),l[2][l[39]]!==void 0&&(m.key=l[2][l[39]]),l[4][l[37]]!==void 0&&(m.config=l[4][l[37]]),e=new pc({props:m}),gt.push(()=>Tt(e,"url",c)),gt.push(()=>Tt(e,"key",u)),gt.push(()=>Tt(e,"config",h)),{c(){he(e.$$.fragment)},l(p){pe(e.$$.fragment,p)},m(p,b){ve(e,p,b),o=!0},p(p,b){l=p;const g={};b[0]&136&&(g.pipeline=!!l[7][l[37]]),b[0]&12&&(g.onDelete=n),!t&&b[0]&8&&(t=!0,g.url=l[37],yt(()=>t=!1)),!s&&b[0]&4&&(s=!0,g.key=l[2][l[39]],yt(()=>s=!1)),!a&&b[0]&24&&(a=!0,g.config=l[4][l[37]],yt(()=>a=!1)),e.$set(g)},i(p){o||(Y(e.$$.fragment,p),o=!0)},o(p){X(e.$$.fragment,p),o=!1},d(p){me(e,p)}}}function Di(l){let e,t,s,a,o,n=l[10].t("Manage Ollama API Connections")+"",c,u,h,m,p,b,g,E,w=l[10].t("Trouble accessing Ollama?")+"",k,I,T,y=l[10].t("Click here for help.")+"",V,$;h=new Kt({props:{content:l[10].t("Add Connection"),$$slots:{default:[Yc]},$$scope:{ctx:l}}});let M=St(l[0]),S=[];for(let P=0;P<M.length;P+=1)S[P]=Vi(Ii(l,M,P));const L=P=>X(S[P],1,1,()=>{S[P]=null});return{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),o=d("div"),c=C(n),u=A(),he(h.$$.fragment),m=A(),p=d("div"),b=d("div");for(let P=0;P<S.length;P+=1)S[P].c();g=A(),E=d("div"),k=C(w),I=A(),T=d("a"),V=C(y),this.h()},l(P){e=_(P,"HR",{class:!0}),t=D(P),s=_(P,"DIV",{class:!0});var N=v(s);a=_(N,"DIV",{class:!0});var q=v(a);o=_(q,"DIV",{class:!0});var j=v(o);c=R(j,n),j.forEach(f),u=D(q),pe(h.$$.fragment,q),q.forEach(f),m=D(N),p=_(N,"DIV",{class:!0});var O=v(p);b=_(O,"DIV",{class:!0});var G=v(b);for(let U=0;U<S.length;U+=1)S[U].l(G);G.forEach(f),O.forEach(f),g=D(N),E=_(N,"DIV",{class:!0});var Z=v(E);k=R(Z,w),I=D(Z),T=_(Z,"A",{class:!0,href:!0,target:!0});var H=v(T);V=R(H,y),H.forEach(f),Z.forEach(f),N.forEach(f),this.h()},h(){i(e,"class","border-gray-50 dark:border-gray-850 my-2"),i(o,"class","font-medium"),i(a,"class","flex justify-between items-center"),i(b,"class","flex-1 flex flex-col gap-1.5 mt-1.5"),i(p,"class","flex w-full gap-1.5"),i(T,"class","text-gray-300 font-medium underline"),i(T,"href","https://github.com/open-webui/open-webui#troubleshooting"),i(T,"target","_blank"),i(E,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),i(s,"class","")},m(P,N){B(P,e,N),B(P,t,N),B(P,s,N),r(s,a),r(a,o),r(o,c),r(a,u),ve(h,a,null),r(s,m),r(s,p),r(p,b);for(let q=0;q<S.length;q+=1)S[q]&&S[q].m(b,null);r(s,g),r(s,E),r(E,k),r(E,I),r(E,T),r(T,V),$=!0},p(P,N){(!$||N[0]&1024)&&n!==(n=P[10].t("Manage Ollama API Connections")+"")&&K(c,n);const q={};if(N[0]&1024&&(q.content=P[10].t("Add Connection")),N[0]&512|N[1]&1024&&(q.$$scope={dirty:N,ctx:P}),h.$set(q),N[0]&16387){M=St(P[0]);let j;for(j=0;j<M.length;j+=1){const O=Ii(P,M,j);S[j]?(S[j].p(O,N),Y(S[j],1)):(S[j]=Vi(O),S[j].c(),Y(S[j],1),S[j].m(b,null))}for(Lt(),j=M.length;j<S.length;j+=1)L(j);Ut()}(!$||N[0]&1024)&&w!==(w=P[10].t("Trouble accessing Ollama?")+"")&&K(k,w),(!$||N[0]&1024)&&y!==(y=P[10].t("Click here for help.")+"")&&K(V,y)},i(P){if(!$){Y(h.$$.fragment,P);for(let N=0;N<M.length;N+=1)Y(S[N]);$=!0}},o(P){X(h.$$.fragment,P),S=S.filter(Boolean);for(let N=0;N<S.length;N+=1)X(S[N]);$=!1},d(P){P&&(f(e),f(t),f(s)),me(h),ll(S,P)}}}function Yc(l){let e,t,s,a,o;return t=new Qs({}),{c(){e=d("button"),he(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var c=v(e);pe(t.$$.fragment,c),c.forEach(f),this.h()},h(){i(e,"class","px-1"),i(e,"type","button")},m(n,c){B(n,e,c),ve(t,e,null),s=!0,a||(o=ae(e,"click",l[29]),a=!0)},p:wt,i(n){s||(Y(t.$$.fragment,n),s=!0)},o(n){X(t.$$.fragment,n),s=!1},d(n){n&&f(e),me(t),a=!1,o()}}}function Vi(l){let e,t,s,a;function o(){return l[31](l[39])}function n(h){l[32](h,l[37],l[38],l[39])}function c(h){l[33](h,l[37])}let u={idx:l[39],onSubmit:l[30],onDelete:o};return l[37]!==void 0&&(u.url=l[37]),l[1][l[37]]!==void 0&&(u.config=l[1][l[37]]),e=new qc({props:u}),gt.push(()=>Tt(e,"url",n)),gt.push(()=>Tt(e,"config",c)),{c(){he(e.$$.fragment)},l(h){pe(e.$$.fragment,h)},m(h,m){ve(e,h,m),a=!0},p(h,m){l=h;const p={};m[0]&1&&(p.onDelete=o),!t&&m[0]&1&&(t=!0,p.url=l[37],yt(()=>t=!1)),!s&&m[0]&3&&(s=!0,p.config=l[1][l[37]],yt(()=>s=!1)),e.$set(p)},i(h){a||(Y(e.$$.fragment,h),a=!0)},o(h){X(e.$$.fragment,h),a=!1},d(h){me(e,h)}}}function Qc(l){let e,t,s,a,o,n,c,u,h,m,p,b,g,E=l[10].t("Save")+"",w,k,I,T;function y(N){l[17](N)}let V={onSubmit:l[15]};l[8]!==void 0&&(V.show=l[8]),e=new Sa({props:V}),gt.push(()=>Tt(e,"show",y));function $(N){l[18](N)}let M={ollama:!0,onSubmit:l[16]};l[9]!==void 0&&(M.show=l[9]),a=new Sa({props:M}),gt.push(()=>Tt(a,"show",$));const S=[Fc,Wc],L=[];function P(N,q){return N[5]!==null&&N[6]!==null?0:1}return h=P(l),m=L[h]=S[h](l),{c(){he(e.$$.fragment),s=A(),he(a.$$.fragment),n=A(),c=d("form"),u=d("div"),m.c(),p=A(),b=d("div"),g=d("button"),w=C(E),this.h()},l(N){pe(e.$$.fragment,N),s=D(N),pe(a.$$.fragment,N),n=D(N),c=_(N,"FORM",{class:!0});var q=v(c);u=_(q,"DIV",{class:!0});var j=v(u);m.l(j),j.forEach(f),p=D(q),b=_(q,"DIV",{class:!0});var O=v(b);g=_(O,"BUTTON",{class:!0,type:!0});var G=v(g);w=R(G,E),G.forEach(f),O.forEach(f),q.forEach(f),this.h()},h(){i(u,"class","overflow-y-scroll scrollbar-hidden h-full"),i(g,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),i(g,"type","submit"),i(b,"class","flex justify-end pt-3 text-sm font-medium"),i(c,"class","flex flex-col h-full justify-between text-sm")},m(N,q){ve(e,N,q),B(N,s,q),ve(a,N,q),B(N,n,q),B(N,c,q),r(c,u),L[h].m(u,null),r(c,p),r(c,b),r(b,g),r(g,w),k=!0,I||(T=ae(c,"submit",jl(l[34])),I=!0)},p(N,q){const j={};!t&&q[0]&256&&(t=!0,j.show=N[8],yt(()=>t=!1)),e.$set(j);const O={};!o&&q[0]&512&&(o=!0,O.show=N[9],yt(()=>o=!1)),a.$set(O);let G=h;h=P(N),h===G?L[h].p(N,q):(Lt(),X(L[G],1,1,()=>{L[G]=null}),Ut(),m=L[h],m?m.p(N,q):(m=L[h]=S[h](N),m.c()),Y(m,1),m.m(u,null)),(!k||q[0]&1024)&&E!==(E=N[10].t("Save")+"")&&K(w,E)},i(N){k||(Y(e.$$.fragment,N),Y(a.$$.fragment,N),Y(m),k=!0)},o(N){X(e.$$.fragment,N),X(a.$$.fragment,N),X(m),k=!1},d(N){N&&(f(s),f(n),f(c)),me(e,N),me(a,N),L[h].d(),I=!1,T()}}}function Jc(l,e,t){let s,a;sl(l,Ys,ee=>t(35,s=ee));const o=ds(),n=yl("i18n");sl(l,n,ee=>t(10,a=ee));const c=async()=>await Pl(localStorage.token);let u=[""],h={},m=[""],p=[""],b={},g=null,E=null,w={},k=!1,I=!1;const T=async()=>{if(g!==null){if(t(3,p=p.filter((Q,ie)=>p.indexOf(Q)===ie&&Q!=="").map(Q=>Q.replace(/\/$/,""))),m.length!==p.length&&(m.length>p.length&&t(2,m=m.slice(0,p.length)),m.length<p.length)){const Q=p.length-m.length;for(let ie=0;ie<Q;ie++)m.push("")}await su(localStorage.token,{ENABLE_OPENAI_API:g,OPENAI_API_BASE_URLS:p,OPENAI_API_KEYS:m,OPENAI_API_CONFIGS:b}).catch(Q=>{Ze.error(Q)})&&(Ze.success(a.t("OpenAI API settings updated")),await kl.set(await c()))}},y=async()=>{E!==null&&(t(0,u=u.filter((Q,ie)=>u.indexOf(Q)===ie&&Q!=="").map(Q=>Q.replace(/\/$/,""))),console.log(u),u.length===0&&(t(6,E=!1),Ze.info(a.t("Ollama API disabled"))),await xo(localStorage.token,{ENABLE_OLLAMA_API:E,OLLAMA_BASE_URLS:u,OLLAMA_API_CONFIGS:h}).catch(Q=>{Ze.error(Q)})&&(Ze.success(a.t("Ollama API settings updated")),await kl.set(await c())))},V=async ee=>{t(3,p=[...p,ee.url]),t(2,m=[...m,ee.key]),t(4,b[ee.url]=ee.config,b),await T()},$=async ee=>{t(0,u=[...u,ee.url]),t(1,h[ee.url]=ee.config,h),await y()};Ul(async()=>{if(s.role==="admin"){let ee={},Q={};if(await Promise.all([(async()=>{ee=await Xo(localStorage.token)})(),(async()=>{Q=await tu(localStorage.token)})()]),t(5,g=Q.ENABLE_OPENAI_API),t(6,E=ee.ENABLE_OLLAMA_API),t(3,p=Q.OPENAI_API_BASE_URLS),t(2,m=Q.OPENAI_API_KEYS),t(4,b=Q.OPENAI_API_CONFIGS),t(0,u=ee.OLLAMA_BASE_URLS),t(1,h=ee.OLLAMA_API_CONFIGS),g){for(const ie of p)b[ie]||t(4,b[ie]={},b);p.forEach(async(ie,fe)=>{var Re;if(t(4,b[ie]=b[ie]||{},b),!(((Re=b[ie])==null?void 0:Re.enable)??!0))return;(await lu(localStorage.token,fe)).pipelines&&t(7,w[ie]=!0,w)})}if(E)for(const ie of u)h[ie]||t(1,h[ie]={},h)}});function M(ee){k=ee,t(8,k)}function S(ee){I=ee,t(9,I)}function L(ee){g=ee,t(5,g)}const P=async()=>{T()},N=()=>{t(8,k=!0)},q=()=>{T()},j=ee=>{t(3,p=p.filter((Q,ie)=>ee!==ie)),t(2,m=m.filter((Q,ie)=>ee!==ie))};function O(ee,Q,ie,fe){ie[fe]=ee,t(3,p)}function G(ee,Q){l.$$.not_equal(m[Q],ee)&&(m[Q]=ee,t(2,m))}function Z(ee,Q){l.$$.not_equal(b[Q],ee)&&(b[Q]=ee,t(4,b))}function H(ee){E=ee,t(6,E)}const U=async()=>{y()},W=()=>{t(9,I=!0)},J=()=>{y()},F=ee=>{t(0,u=u.filter((Q,ie)=>ee!==ie))};function z(ee,Q,ie,fe){ie[fe]=ee,t(0,u)}function x(ee,Q){l.$$.not_equal(h[Q],ee)&&(h[Q]=ee,t(1,h))}return[u,h,m,p,b,g,E,w,k,I,a,o,n,T,y,V,$,M,S,L,P,N,q,j,O,G,Z,H,U,W,J,F,z,x,()=>{T(),y(),o("save")}]}class Xc extends fl{constructor(e){super(),cl(this,e,Jc,Qc,ul,{},null,[-1,-1])}}function xc(l){let e,t,s,a,o,n,c,u,h;function m(b){l[37](b)}let p={placeholder:l[22].t("API Key"),required:!1};return l[20]!==void 0&&(p.value=l[20]),o=new El({props:p}),gt.push(()=>Tt(o,"value",m)),{c(){e=d("div"),t=d("input"),a=A(),he(o.$$.fragment),this.h()},l(b){e=_(b,"DIV",{class:!0});var g=v(e);t=_(g,"INPUT",{class:!0,placeholder:!0}),a=D(g),pe(o.$$.fragment,g),g.forEach(f),this.h()},h(){i(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-none"),i(t,"placeholder",s=l[22].t("API Base URL")),t.required=!0,i(e,"class","my-0.5 flex gap-2 pr-2")},m(b,g){B(b,e,g),r(e,t),te(t,l[19]),r(e,a),ve(o,e,null),c=!0,u||(h=ae(t,"input",l[36]),u=!0)},p(b,g){(!c||g[0]&4194304&&s!==(s=b[22].t("API Base URL")))&&i(t,"placeholder",s),g[0]&524288&&t.value!==b[19]&&te(t,b[19]);const E={};g[0]&4194304&&(E.placeholder=b[22].t("API Key")),!n&&g[0]&1048576&&(n=!0,E.value=b[20],yt(()=>n=!1)),o.$set(E)},i(b){c||(Y(o.$$.fragment,b),c=!0)},o(b){X(o.$$.fragment,b),c=!1},d(b){b&&f(e),me(o),u=!1,h()}}}function ed(l){let e,t,s,a,o,n,c,u,h;function m(b){l[35](b)}let p={placeholder:l[22].t("API Key")};return l[18]!==void 0&&(p.value=l[18]),o=new El({props:p}),gt.push(()=>Tt(o,"value",m)),{c(){e=d("div"),t=d("input"),a=A(),he(o.$$.fragment),this.h()},l(b){e=_(b,"DIV",{class:!0});var g=v(e);t=_(g,"INPUT",{class:!0,placeholder:!0}),a=D(g),pe(o.$$.fragment,g),g.forEach(f),this.h()},h(){i(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-none"),i(t,"placeholder",s=l[22].t("API Base URL")),t.required=!0,i(e,"class","my-0.5 flex gap-2 pr-2")},m(b,g){B(b,e,g),r(e,t),te(t,l[17]),r(e,a),ve(o,e,null),c=!0,u||(h=ae(t,"input",l[34]),u=!0)},p(b,g){(!c||g[0]&4194304&&s!==(s=b[22].t("API Base URL")))&&i(t,"placeholder",s),g[0]&131072&&t.value!==b[17]&&te(t,b[17]);const E={};g[0]&4194304&&(E.placeholder=b[22].t("API Key")),!n&&g[0]&262144&&(n=!0,E.value=b[18],yt(()=>n=!1)),o.$set(E)},i(b){c||(Y(o.$$.fragment,b),c=!0)},o(b){X(o.$$.fragment,b),c=!1},d(b){b&&f(e),me(o),u=!1,h()}}}function Si(l){let e,t,s=l[22].t("Embedding Batch Size")+"",a,o,n,c,u,h,m,p,b;return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("input"),u=A(),h=d("div"),m=d("input"),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a=R(w,s),w.forEach(f),o=D(E),n=_(E,"DIV",{class:!0});var k=v(n);c=_(k,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),k.forEach(f),u=D(E),h=_(E,"DIV",{class:!0});var I=v(h);m=_(I,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),I.forEach(f),E.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium"),i(c,"id","steps-range"),i(c,"type","range"),i(c,"min","1"),i(c,"max","2048"),i(c,"step","1"),i(c,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),i(n,"class","flex-1"),i(m,"type","number"),i(m,"class","bg-transparent text-center w-14"),i(m,"min","-2"),i(m,"max","16000"),i(m,"step","1"),i(h,"class",""),i(e,"class","flex mt-0.5 space-x-2")},m(g,E){B(g,e,E),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),te(c,l[6]),r(e,u),r(e,h),r(h,m),te(m,l[6]),p||(b=[ae(c,"change",l[38]),ae(c,"input",l[38]),ae(m,"input",l[39])],p=!0)},p(g,E){E[0]&4194304&&s!==(s=g[22].t("Embedding Batch Size")+"")&&K(a,s),E[0]&64&&te(c,g[6]),E[0]&64&&Dl(m.value)!==g[6]&&te(m,g[6])},d(g){g&&f(e),p=!1,Xt(b)}}}function td(l){let e,t=l[22].t("Off")+"",s;return{c(){e=d("span"),s=C(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&4194304&&t!==(t=a[22].t("Off")+"")&&K(s,t)},d(a){a&&f(e)}}}function ld(l){let e,t=l[22].t("On")+"",s;return{c(){e=d("span"),s=C(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&4194304&&t!==(t=a[22].t("On")+"")&&K(s,t)},d(a){a&&f(e)}}}function sd(l){let e,t,s,a,o,n,c,u=l[4]===""&&$i(l);return{c(){e=d("div"),t=d("div"),s=d("input"),o=A(),u&&u.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var m=v(e);t=_(m,"DIV",{class:!0});var p=v(t);s=_(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(f),o=D(m),u&&u.l(m),m.forEach(f),this.h()},h(){i(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(s,"placeholder",a=l[22].t("Set embedding model (e.g. {{model}})",{model:l[5].slice(-40)})),i(t,"class","flex-1 mr-2"),i(e,"class","flex w-full")},m(h,m){B(h,e,m),r(e,t),r(t,s),te(s,l[5]),r(e,o),u&&u.m(e,null),n||(c=ae(s,"input",l[42]),n=!0)},p(h,m){m[0]&4194336&&a!==(a=h[22].t("Set embedding model (e.g. {{model}})",{model:h[5].slice(-40)}))&&i(s,"placeholder",a),m[0]&32&&s.value!==h[5]&&te(s,h[5]),h[4]===""?u?u.p(h,m):(u=$i(h),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(h){h&&f(e),u&&u.d(),n=!1,c()}}}function ad(l){let e,t,s,a,o,n;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(c){e=_(c,"DIV",{class:!0});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);s=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(f),u.forEach(f),this.h()},h(){i(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(s,"placeholder",a=l[22].t("Set embedding model")),s.required=!0,i(t,"class","flex-1 mr-2"),i(e,"class","flex w-full")},m(c,u){B(c,e,u),r(e,t),r(t,s),te(s,l[5]),o||(n=ae(s,"input",l[41]),o=!0)},p(c,u){u[0]&4194304&&a!==(a=c[22].t("Set embedding model"))&&i(s,"placeholder",a),u[0]&32&&s.value!==c[5]&&te(s,c[5])},d(c){c&&f(e),o=!1,n()}}}function $i(l){let e,t,s;function a(c,u){return c[0]?nd:rd}let o=a(l),n=o(l);return{c(){e=d("button"),n.c(),this.h()},l(c){e=_(c,"BUTTON",{class:!0});var u=v(e);n.l(u),u.forEach(f),this.h()},h(){i(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=l[0]},m(c,u){B(c,e,u),n.m(e,null),t||(s=ae(e,"click",l[43]),t=!0)},p(c,u){o!==(o=a(c))&&(n.d(1),n=o(c),n&&(n.c(),n.m(e,null))),u[0]&1&&(e.disabled=c[0])},d(c){c&&f(e),n.d(),t=!1,s()}}}function rd(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=v(e);t=Zt(o,"path",{d:!0}),v(t).forEach(f),s=Zt(o,"path",{d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),i(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","w-4 h-4")},m(a,o){B(a,e,o),r(e,t),r(e,s)},d(a){a&&f(e)}}}function nd(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function Mi(l){let e,t,s=l[22].t("Reranking Model")+"",a,o,n,c,u,h,m,p,b,g;function E(I,T){return I[1]?od:id}let w=E(l),k=w(l);return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("input"),m=A(),p=d("button"),k.c(),this.h()},l(I){e=_(I,"DIV",{class:!0});var T=v(e);t=_(T,"DIV",{class:!0});var y=v(t);a=R(y,s),y.forEach(f),o=D(T),n=_(T,"DIV",{class:!0});var V=v(n);c=_(V,"DIV",{class:!0});var $=v(c);u=_($,"INPUT",{class:!0,placeholder:!0}),$.forEach(f),m=D(V),p=_(V,"BUTTON",{class:!0});var M=v(p);k.l(M),M.forEach(f),V.forEach(f),T.forEach(f),this.h()},h(){i(t,"class","mb-2 text-sm font-medium"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"placeholder",h=l[22].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),i(c,"class","flex-1 mr-2"),i(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=l[1],i(n,"class","flex w-full"),i(e,"class","")},m(I,T){B(I,e,T),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),te(u,l[7]),r(n,m),r(n,p),k.m(p,null),b||(g=[ae(u,"input",l[44]),ae(p,"click",l[45])],b=!0)},p(I,T){T[0]&4194304&&s!==(s=I[22].t("Reranking Model")+"")&&K(a,s),T[0]&4194304&&h!==(h=I[22].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&i(u,"placeholder",h),T[0]&128&&u.value!==I[7]&&te(u,I[7]),w!==(w=E(I))&&(k.d(1),k=w(I),k&&(k.c(),k.m(p,null))),T[0]&2&&(p.disabled=I[1])},d(I){I&&f(e),k.d(),b=!1,Xt(g)}}}function id(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=v(e);t=Zt(o,"path",{d:!0}),v(t).forEach(f),s=Zt(o,"path",{d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),i(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","w-4 h-4")},m(a,o){B(a,e,o),r(e,t),r(e,s)},d(a){a&&f(e)}}}function od(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function Ni(l){let e,t,s,a,o,n;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(c){e=_(c,"DIV",{class:!0});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);s=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(f),u.forEach(f),this.h()},h(){i(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(s,"placeholder",a=l[22].t("Enter Tika Server URL")),i(t,"class","flex-1 mr-2"),i(e,"class","flex w-full mt-1")},m(c,u){B(c,e,u),r(e,t),r(t,s),te(s,l[11]),o||(n=ae(s,"input",l[48]),o=!0)},p(c,u){u[0]&4194304&&a!==(a=c[22].t("Enter Tika Server URL"))&&i(s,"placeholder",a),u[0]&2048&&s.value!==c[11]&&te(s,c[11])},d(c){c&&f(e),o=!1,n()}}}function Oi(l){let e,t,s=l[22].t("Minimum Score")+"",a,o,n,c,u,h,m,p;return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("input"),this.h()},l(b){e=_(b,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=R(E,s),E.forEach(f),o=D(g),n=_(g,"DIV",{class:!0});var w=v(n);c=_(w,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),w.forEach(f),g.forEach(f),this.h()},h(){i(t,"class","text-xs font-medium w-full"),i(c,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(c,"type","number"),i(c,"step","0.01"),i(c,"placeholder",u=l[22].t("Enter Score")),i(c,"autocomplete","off"),i(c,"min","0.0"),i(c,"title",h=l[22].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),i(n,"class","w-full"),i(e,"class","flex flex-col w-full gap-1")},m(b,g){B(b,e,g),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),te(c,l[21].r),m||(p=ae(c,"input",l[50]),m=!0)},p(b,g){g[0]&4194304&&s!==(s=b[22].t("Minimum Score")+"")&&K(a,s),g[0]&4194304&&u!==(u=b[22].t("Enter Score"))&&i(c,"placeholder",u),g[0]&4194304&&h!==(h=b[22].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&i(c,"title",h),g[0]&2097152&&Dl(c.value)!==b[21].r&&te(c,b[21].r)},d(b){b&&f(e),m=!1,p()}}}function Pi(l){let e,t=l[22].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",s;return{c(){e=d("div"),s=C(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&4194304&&t!==(t=a[22].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&K(s,t)},d(a){a&&f(e)}}}function ud(l){let e,t,s;function a(n){l[51](n)}let o={placeholder:l[22].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[21].template!==void 0&&(o.value=l[21].template),e=new $a({props:o}),gt.push(()=>Tt(e,"value",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){const u={};c[0]&4194304&&(u.placeholder=n[22].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&2097152&&(t=!0,u.value=n[21].template,yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}function fd(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){i(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"type","number"),i(e,"placeholder",t=l[22].t("Leave empty for unlimited")),i(e,"autocomplete","off"),i(e,"min","0")},m(o,n){B(o,e,n),te(e,l[8]),s||(a=ae(e,"input",l[56]),s=!0)},p(o,n){n[0]&4194304&&t!==(t=o[22].t("Leave empty for unlimited"))&&i(e,"placeholder",t),n[0]&256&&Dl(e.value)!==o[8]&&te(e,o[8])},d(o){o&&f(e),s=!1,a()}}}function cd(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(o){e=_(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){i(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"type","number"),i(e,"placeholder",t=l[22].t("Leave empty for unlimited")),i(e,"autocomplete","off"),i(e,"min","0")},m(o,n){B(o,e,n),te(e,l[9]),s||(a=ae(e,"input",l[57]),s=!0)},p(o,n){n[0]&4194304&&t!==(t=o[22].t("Leave empty for unlimited"))&&i(e,"placeholder",t),n[0]&512&&Dl(e.value)!==o[9]&&te(e,o[9])},d(o){o&&f(e),s=!1,a()}}}function dd(l){let e,t,s,a,o,n,c,u,h,m,p=l[22].t("General Settings")+"",b,g,E,w,k=l[22].t("Embedding Model Engine")+"",I,T,y,V,$,M=l[22].t("Default (SentenceTransformers)")+"",S,L,P=l[22].t("Ollama")+"",N,q,j=l[22].t("OpenAI")+"",O,G,Z,H,U,W,J,F,z=l[22].t("Hybrid Search")+"",x,re,ee,Q,ie,fe,Le,Re,$e,Me,Oe=l[22].t("Embedding Model")+"",Pe,tt,ne,de,Ve=l[22].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",De,Ue,xe,Ke,We,qe,_e,ue=l[22].t("Content Extraction")+"",ge,ke,Ee,Be,rt=l[22].t("Engine")+"",oe,Fe,le,se,lt,at=l[22].t("Default")+"",nt,it,Ye,ze=l[22].t("Tika")+"",ht,bt,Et,dt,kt,st,Ae,Je=l[22].t("Query Params")+"",Ce,Qe,Ie,Ge,Mt,Ot=l[22].t("Top K")+"",Rt,ut,Te,we,Bt,Dt,Vt,Ht,At,Se,ct=l[22].t("RAG Template")+"",vt,Pt,_t,pt,Ft,He,je,$t,Ne=l[22].t("Chunk Params")+"",be,Xe,ft,ce,et=l[22].t("Text Splitter")+"",Nt,It,Qt,jt,qt,xt=l[22].t("Default")+"",mt,zt,_l=l[22].t("Character")+"",rl,hl,Jt,pl=l[22].t("Token")+"",nl,gl,ol=l[22].t("Tiktoken")+"",Vl,dl,Tl,al,vl,Al,Gl=l[22].t("Chunk Size")+"",Ll,Bl,Hl,bl,Fl,Zl,il,zl,Ls=l[22].t("Chunk Overlap")+"",Js,Ma,gs,Cl,Xs,Na,bs,Xl,Es,Us=l[22].t("PDF Extract Images (OCR)")+"",xs,Oa,Cs,Jl,Pa,La,ea,Ua,xl,ws,Rs=l[22].t("Files")+"",ta,Ca,es,ts,ks,Bs=l[22].t("Max Upload Size")+"",la,Ra,Is,ls,Ba,ss,ys,Hs=l[22].t("Max Upload Count")+"",sa,Ha,Ts,as,ja,aa,Ga,_s,Yl,hs,xa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Za,As,js=l[22].t("Reset Upload Directory")+"",ra,Ka,Ql,ps,er='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',qa,Ds,Gs=l[22].t("Reset Vector Storage/Knowledge")+"",na,Wa,Vs,vs,Zs=l[22].t("Save")+"",ia,Wt,Fa,tr;function to(ye){l[28](ye)}let lr={};l[3]!==void 0&&(lr.show=l[3]),e=new Va({props:lr}),gt.push(()=>Tt(e,"show",to)),e.$on("confirm",l[29]);function lo(ye){l[30](ye)}let sr={};l[2]!==void 0&&(sr.show=l[2]),a=new Va({props:sr}),gt.push(()=>Tt(a,"show",lo)),a.$on("confirm",l[31]);const ar=[ed,xc],rs=[];function rr(ye,ot){return ye[4]==="openai"?0:ye[4]==="ollama"?1:-1}~(Z=rr(l))&&(H=rs[Z]=ar[Z](l));let Sl=(l[4]==="ollama"||l[4]==="openai")&&Si(l);function nr(ye,ot){return ye[21].hybrid===!0?ld:td}let oa=nr(l),Kl=oa(l);function ir(ye,ot){return ye[4]==="ollama"?ad:sd}let ua=ir(l),ql=ua(l),$l=l[21].hybrid===!0&&Mi(l),Ml=l[12]&&Ni(l),Nl=l[21].hybrid===!0&&Oi(l),Ol=l[21].hybrid===!0&&Pi(l);_t=new Kt({props:{content:l[22].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[ud]},$$scope:{ctx:l}}});function so(ye){l[55](ye)}let or={};return l[16]!==void 0&&(or.state=l[16]),Jl=new ml({props:or}),gt.push(()=>Tt(Jl,"state",so)),ls=new Kt({props:{content:l[22].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[fd]},$$scope:{ctx:l}}}),as=new Kt({props:{content:l[22].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[cd]},$$scope:{ctx:l}}}),{c(){he(e.$$.fragment),s=A(),he(a.$$.fragment),n=A(),c=d("form"),u=d("div"),h=d("div"),m=d("div"),b=C(p),g=A(),E=d("div"),w=d("div"),I=C(k),T=A(),y=d("div"),V=d("select"),$=d("option"),S=C(M),L=d("option"),N=C(P),q=d("option"),O=C(j),G=A(),H&&H.c(),U=A(),Sl&&Sl.c(),W=A(),J=d("div"),F=d("div"),x=C(z),re=A(),ee=d("button"),Kl.c(),Q=A(),ie=d("hr"),fe=A(),Le=d("div"),Re=A(),$e=d("div"),Me=d("div"),Pe=C(Oe),tt=A(),ql.c(),ne=A(),de=d("div"),De=C(Ve),Ue=A(),$l&&$l.c(),xe=A(),Ke=d("hr"),We=A(),qe=d("div"),_e=d("div"),ge=C(ue),ke=A(),Ee=d("div"),Be=d("div"),oe=C(rt),Fe=A(),le=d("div"),se=d("select"),lt=d("option"),nt=C(at),it=A(),Ye=d("option"),ht=C(ze),bt=A(),Ml&&Ml.c(),Et=A(),dt=d("hr"),kt=A(),st=d("div"),Ae=d("div"),Ce=C(Je),Qe=A(),Ie=d("div"),Ge=d("div"),Mt=d("div"),Rt=C(Ot),ut=A(),Te=d("div"),we=d("input"),Dt=A(),Nl&&Nl.c(),Vt=A(),Ol&&Ol.c(),Ht=A(),At=d("div"),Se=d("div"),vt=C(ct),Pt=A(),he(_t.$$.fragment),pt=A(),Ft=d("hr"),He=A(),je=d("div"),$t=d("div"),be=C(Ne),Xe=A(),ft=d("div"),ce=d("div"),Nt=C(et),It=A(),Qt=d("div"),jt=d("select"),qt=d("option"),mt=C(xt),zt=C(" ("),rl=C(_l),hl=C(")"),Jt=d("option"),nl=C(pl),gl=C(" ("),Vl=C(ol),dl=C(")"),Tl=A(),al=d("div"),vl=d("div"),Al=d("div"),Ll=C(Gl),Bl=A(),Hl=d("div"),bl=d("input"),Zl=A(),il=d("div"),zl=d("div"),Js=C(Ls),Ma=A(),gs=d("div"),Cl=d("input"),Na=A(),bs=d("div"),Xl=d("div"),Es=d("div"),xs=C(Us),Oa=A(),Cs=d("div"),he(Jl.$$.fragment),La=A(),ea=d("hr"),Ua=A(),xl=d("div"),ws=d("div"),ta=C(Rs),Ca=A(),es=d("div"),ts=d("div"),ks=d("div"),la=C(Bs),Ra=A(),Is=d("div"),he(ls.$$.fragment),Ba=A(),ss=d("div"),ys=d("div"),sa=C(Hs),Ha=A(),Ts=d("div"),he(as.$$.fragment),ja=A(),aa=d("hr"),Ga=A(),_s=d("div"),Yl=d("button"),hs=d("div"),hs.innerHTML=xa,Za=A(),As=d("div"),ra=C(js),Ka=A(),Ql=d("button"),ps=d("div"),ps.innerHTML=er,qa=A(),Ds=d("div"),na=C(Gs),Wa=A(),Vs=d("div"),vs=d("button"),ia=C(Zs),this.h()},l(ye){pe(e.$$.fragment,ye),s=D(ye),pe(a.$$.fragment,ye),n=D(ye),c=_(ye,"FORM",{class:!0});var ot=v(c);u=_(ot,"DIV",{class:!0});var el=v(u);h=_(el,"DIV",{class:!0});var Rl=v(h);m=_(Rl,"DIV",{class:!0});var Ss=v(m);b=R(Ss,p),Ss.forEach(f),g=D(Rl),E=_(Rl,"DIV",{class:!0});var ns=v(E);w=_(ns,"DIV",{class:!0});var Ks=v(w);I=R(Ks,k),Ks.forEach(f),T=D(ns),y=_(ns,"DIV",{class:!0});var $s=v(y);V=_($s,"SELECT",{class:!0,placeholder:!0});var is=v(V);$=_(is,"OPTION",{});var ur=v($);S=R(ur,M),ur.forEach(f),L=_(is,"OPTION",{});var fr=v(L);N=R(fr,P),fr.forEach(f),q=_(is,"OPTION",{});var cr=v(q);O=R(cr,j),cr.forEach(f),is.forEach(f),$s.forEach(f),ns.forEach(f),G=D(Rl),H&&H.l(Rl),U=D(Rl),Sl&&Sl.l(Rl),W=D(Rl),J=_(Rl,"DIV",{class:!0});var fa=v(J);F=_(fa,"DIV",{class:!0});var dr=v(F);x=R(dr,z),dr.forEach(f),re=D(fa),ee=_(fa,"BUTTON",{class:!0,type:!0});var _r=v(ee);Kl.l(_r),_r.forEach(f),fa.forEach(f),Rl.forEach(f),Q=D(el),ie=_(el,"HR",{class:!0}),fe=D(el),Le=_(el,"DIV",{class:!0}),v(Le).forEach(f),Re=D(el),$e=_(el,"DIV",{});var os=v($e);Me=_(os,"DIV",{class:!0});var hr=v(Me);Pe=R(hr,Oe),hr.forEach(f),tt=D(os),ql.l(os),ne=D(os),de=_(os,"DIV",{class:!0});var pr=v(de);De=R(pr,Ve),pr.forEach(f),Ue=D(os),$l&&$l.l(os),os.forEach(f),xe=D(el),Ke=_(el,"HR",{class:!0}),We=D(el),qe=_(el,"DIV",{class:!0});var Ms=v(qe);_e=_(Ms,"DIV",{class:!0});var vr=v(_e);ge=R(vr,ue),vr.forEach(f),ke=D(Ms),Ee=_(Ms,"DIV",{class:!0});var ca=v(Ee);Be=_(ca,"DIV",{class:!0});var mr=v(Be);oe=R(mr,rt),mr.forEach(f),Fe=D(ca),le=_(ca,"DIV",{class:!0});var gr=v(le);se=_(gr,"SELECT",{class:!0});var za=v(se);lt=_(za,"OPTION",{});var Ya=v(lt);nt=R(Ya,at),it=D(Ya),Ya.forEach(f),Ye=_(za,"OPTION",{});var br=v(Ye);ht=R(br,ze),br.forEach(f),za.forEach(f),gr.forEach(f),ca.forEach(f),bt=D(Ms),Ml&&Ml.l(Ms),Ms.forEach(f),Et=D(el),dt=_(el,"HR",{class:!0}),kt=D(el),st=_(el,"DIV",{class:!0});var us=v(st);Ae=_(us,"DIV",{class:!0});var Er=v(Ae);Ce=R(Er,Je),Er.forEach(f),Qe=D(us),Ie=_(us,"DIV",{class:!0});var da=v(Ie);Ge=_(da,"DIV",{class:!0});var _a=v(Ge);Mt=_(_a,"DIV",{class:!0});var wr=v(Mt);Rt=R(wr,Ot),wr.forEach(f),ut=D(_a),Te=_(_a,"DIV",{class:!0});var kr=v(Te);we=_(kr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),kr.forEach(f),_a.forEach(f),Dt=D(da),Nl&&Nl.l(da),da.forEach(f),Vt=D(us),Ol&&Ol.l(us),Ht=D(us),At=_(us,"DIV",{class:!0});var ha=v(At);Se=_(ha,"DIV",{class:!0});var Ir=v(Se);vt=R(Ir,ct),Ir.forEach(f),Pt=D(ha),pe(_t.$$.fragment,ha),ha.forEach(f),us.forEach(f),pt=D(el),Ft=_(el,"HR",{class:!0}),He=D(el),je=_(el,"DIV",{class:!0});var fs=v(je);$t=_(fs,"DIV",{class:!0});var yr=v($t);be=R(yr,Ne),yr.forEach(f),Xe=D(fs),ft=_(fs,"DIV",{class:!0});var pa=v(ft);ce=_(pa,"DIV",{class:!0});var Tr=v(ce);Nt=R(Tr,et),Tr.forEach(f),It=D(pa),Qt=_(pa,"DIV",{class:!0});var Ar=v(Qt);jt=_(Ar,"SELECT",{class:!0});var Qa=v(jt);qt=_(Qa,"OPTION",{});var qs=v(qt);mt=R(qs,xt),zt=R(qs," ("),rl=R(qs,_l),hl=R(qs,")"),qs.forEach(f),Jt=_(Qa,"OPTION",{});var Ws=v(Jt);nl=R(Ws,pl),gl=R(Ws," ("),Vl=R(Ws,ol),dl=R(Ws,")"),Ws.forEach(f),Qa.forEach(f),Ar.forEach(f),pa.forEach(f),Tl=D(fs),al=_(fs,"DIV",{class:!0});var va=v(al);vl=_(va,"DIV",{class:!0});var ma=v(vl);Al=_(ma,"DIV",{class:!0});var Dr=v(Al);Ll=R(Dr,Gl),Dr.forEach(f),Bl=D(ma),Hl=_(ma,"DIV",{class:!0});var Vr=v(Hl);bl=_(Vr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Vr.forEach(f),ma.forEach(f),Zl=D(va),il=_(va,"DIV",{class:!0});var ga=v(il);zl=_(ga,"DIV",{class:!0});var Sr=v(zl);Js=R(Sr,Ls),Sr.forEach(f),Ma=D(ga),gs=_(ga,"DIV",{class:!0});var $r=v(gs);Cl=_($r,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),$r.forEach(f),ga.forEach(f),va.forEach(f),Na=D(fs),bs=_(fs,"DIV",{class:!0});var Mr=v(bs);Xl=_(Mr,"DIV",{class:!0});var ba=v(Xl);Es=_(ba,"DIV",{class:!0});var Nr=v(Es);xs=R(Nr,Us),Nr.forEach(f),Oa=D(ba),Cs=_(ba,"DIV",{});var Or=v(Cs);pe(Jl.$$.fragment,Or),Or.forEach(f),ba.forEach(f),Mr.forEach(f),fs.forEach(f),La=D(el),ea=_(el,"HR",{class:!0}),Ua=D(el),xl=_(el,"DIV",{class:!0});var Ea=v(xl);ws=_(Ea,"DIV",{class:!0});var Pr=v(ws);ta=R(Pr,Rs),Pr.forEach(f),Ca=D(Ea),es=_(Ea,"DIV",{class:!0});var wa=v(es);ts=_(wa,"DIV",{class:!0});var ka=v(ts);ks=_(ka,"DIV",{class:!0});var Lr=v(ks);la=R(Lr,Bs),Lr.forEach(f),Ra=D(ka),Is=_(ka,"DIV",{class:!0});var Ur=v(Is);pe(ls.$$.fragment,Ur),Ur.forEach(f),ka.forEach(f),Ba=D(wa),ss=_(wa,"DIV",{class:!0});var Ia=v(ss);ys=_(Ia,"DIV",{class:!0});var Cr=v(ys);sa=R(Cr,Hs),Cr.forEach(f),Ha=D(Ia),Ts=_(Ia,"DIV",{class:!0});var Rr=v(Ts);pe(as.$$.fragment,Rr),Rr.forEach(f),Ia.forEach(f),wa.forEach(f),Ea.forEach(f),ja=D(el),aa=_(el,"HR",{class:!0}),Ga=D(el),_s=_(el,"DIV",{});var ya=v(_s);Yl=_(ya,"BUTTON",{class:!0,type:!0});var Ta=v(Yl);hs=_(Ta,"DIV",{class:!0,"data-svelte-h":!0}),Ct(hs)!=="svelte-1m6igha"&&(hs.innerHTML=xa),Za=D(Ta),As=_(Ta,"DIV",{class:!0});var Br=v(As);ra=R(Br,js),Br.forEach(f),Ta.forEach(f),Ka=D(ya),Ql=_(ya,"BUTTON",{class:!0,type:!0});var Aa=v(Ql);ps=_(Aa,"DIV",{class:!0,"data-svelte-h":!0}),Ct(ps)!=="svelte-16tyzd9"&&(ps.innerHTML=er),qa=D(Aa),Ds=_(Aa,"DIV",{class:!0});var Hr=v(Ds);na=R(Hr,Gs),Hr.forEach(f),Aa.forEach(f),ya.forEach(f),el.forEach(f),Wa=D(ot),Vs=_(ot,"DIV",{class:!0});var jr=v(Vs);vs=_(jr,"BUTTON",{class:!0,type:!0});var Gr=v(vs);ia=R(Gr,Zs),Gr.forEach(f),jr.forEach(f),ot.forEach(f),this.h()},h(){i(m,"class","mb-0.5 text-sm font-medium"),i(w,"class","self-center text-xs font-medium"),$.__value="",te($,$.__value),L.__value="ollama",te(L,L.__value),q.__value="openai",te(q,q.__value),i(V,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),i(V,"placeholder","Select an embedding model engine"),l[4]===void 0&&Il(()=>l[32].call(V)),i(y,"class","flex items-center relative"),i(E,"class","flex w-full justify-between"),i(F,"class","self-center text-xs font-medium"),i(ee,"class","p-1 px-3 text-xs flex rounded transition"),i(ee,"type","button"),i(J,"class","flex w-full justify-between"),i(h,"class","flex flex-col gap-0.5"),i(ie,"class","dark:border-gray-850"),i(Le,"class","space-y-2"),i(Me,"class","mb-2 text-sm font-medium"),i(de,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),i(Ke,"class","dark:border-gray-850"),i(_e,"class","text-sm font-medium mb-1"),i(Be,"class","self-center text-xs font-medium"),lt.__value="",te(lt,lt.__value),Ye.__value="tika",te(Ye,Ye.__value),i(se,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),l[10]===void 0&&Il(()=>l[46].call(se)),i(le,"class","flex items-center relative"),i(Ee,"class","flex w-full justify-between"),i(qe,"class",""),i(dt,"class","dark:border-gray-850"),i(Ae,"class","text-sm font-medium mb-1"),i(Mt,"class","text-xs font-medium w-full"),i(we,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(we,"type","number"),i(we,"placeholder",Bt=l[22].t("Enter Top K")),i(we,"autocomplete","off"),i(we,"min","0"),i(Te,"class","w-full"),i(Ge,"class","flex flex-col w-full gap-1"),i(Ie,"class","flex gap-1.5"),i(Se,"class","mb-1 text-xs font-medium"),i(At,"class","mt-2"),i(st,"class",""),i(Ft,"class","dark:border-gray-850"),i($t,"class","mb-1 text-sm font-medium"),i(ce,"class","self-center text-xs font-medium"),qt.__value="",te(qt,qt.__value),Jt.__value="token",te(Jt,Jt.__value),i(jt,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),l[13]===void 0&&Il(()=>l[52].call(jt)),i(Qt,"class","flex items-center relative"),i(ft,"class","flex w-full justify-between mb-1.5"),i(Al,"class","self-center text-xs font-medium min-w-fit mb-1"),i(bl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(bl,"type","number"),i(bl,"placeholder",Fl=l[22].t("Enter Chunk Size")),i(bl,"autocomplete","off"),i(bl,"min","0"),i(Hl,"class","self-center"),i(vl,"class","w-full justify-between"),i(zl,"class","self-center text-xs font-medium min-w-fit mb-1"),i(Cl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(Cl,"type","number"),i(Cl,"placeholder",Xs=l[22].t("Enter Chunk Overlap")),i(Cl,"autocomplete","off"),i(Cl,"min","0"),i(gs,"class","self-center"),i(il,"class","w-full"),i(al,"class","flex gap-1.5"),i(Es,"class","text-xs font-medium"),i(Xl,"class","flex justify-between items-center text-xs"),i(bs,"class","my-2"),i(je,"class",""),i(ea,"class","dark:border-gray-850"),i(ws,"class","text-sm font-medium mb-1"),i(ks,"class","self-center text-xs font-medium min-w-fit mb-1"),i(Is,"class","self-center"),i(ts,"class","w-full"),i(ys,"class","self-center text-xs font-medium min-w-fit mb-1"),i(Ts,"class","self-center"),i(ss,"class","w-full"),i(es,"class","flex gap-1.5"),i(xl,"class",""),i(aa,"class","dark:border-gray-850"),i(hs,"class","self-center mr-3"),i(As,"class","self-center text-sm font-medium"),i(Yl,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),i(Yl,"type","button"),i(ps,"class","self-center mr-3"),i(Ds,"class","self-center text-sm font-medium"),i(Ql,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),i(Ql,"type","button"),i(u,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),i(vs,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),i(vs,"type","submit"),i(Vs,"class","flex justify-end pt-3 text-sm font-medium"),i(c,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ye,ot){ve(e,ye,ot),B(ye,s,ot),ve(a,ye,ot),B(ye,n,ot),B(ye,c,ot),r(c,u),r(u,h),r(h,m),r(m,b),r(h,g),r(h,E),r(E,w),r(w,I),r(E,T),r(E,y),r(y,V),r(V,$),r($,S),r(V,L),r(L,N),r(V,q),r(q,O),Yt(V,l[4],!0),r(h,G),~Z&&rs[Z].m(h,null),r(h,U),Sl&&Sl.m(h,null),r(h,W),r(h,J),r(J,F),r(F,x),r(J,re),r(J,ee),Kl.m(ee,null),r(u,Q),r(u,ie),r(u,fe),r(u,Le),r(u,Re),r(u,$e),r($e,Me),r(Me,Pe),r($e,tt),ql.m($e,null),r($e,ne),r($e,de),r(de,De),r($e,Ue),$l&&$l.m($e,null),r(u,xe),r(u,Ke),r(u,We),r(u,qe),r(qe,_e),r(_e,ge),r(qe,ke),r(qe,Ee),r(Ee,Be),r(Be,oe),r(Ee,Fe),r(Ee,le),r(le,se),r(se,lt),r(lt,nt),r(lt,it),r(se,Ye),r(Ye,ht),Yt(se,l[10],!0),r(qe,bt),Ml&&Ml.m(qe,null),r(u,Et),r(u,dt),r(u,kt),r(u,st),r(st,Ae),r(Ae,Ce),r(st,Qe),r(st,Ie),r(Ie,Ge),r(Ge,Mt),r(Mt,Rt),r(Ge,ut),r(Ge,Te),r(Te,we),te(we,l[21].k),r(Ie,Dt),Nl&&Nl.m(Ie,null),r(st,Vt),Ol&&Ol.m(st,null),r(st,Ht),r(st,At),r(At,Se),r(Se,vt),r(At,Pt),ve(_t,At,null),r(u,pt),r(u,Ft),r(u,He),r(u,je),r(je,$t),r($t,be),r(je,Xe),r(je,ft),r(ft,ce),r(ce,Nt),r(ft,It),r(ft,Qt),r(Qt,jt),r(jt,qt),r(qt,mt),r(qt,zt),r(qt,rl),r(qt,hl),r(jt,Jt),r(Jt,nl),r(Jt,gl),r(Jt,Vl),r(Jt,dl),Yt(jt,l[13],!0),r(je,Tl),r(je,al),r(al,vl),r(vl,Al),r(Al,Ll),r(vl,Bl),r(vl,Hl),r(Hl,bl),te(bl,l[14]),r(al,Zl),r(al,il),r(il,zl),r(zl,Js),r(il,Ma),r(il,gs),r(gs,Cl),te(Cl,l[15]),r(je,Na),r(je,bs),r(bs,Xl),r(Xl,Es),r(Es,xs),r(Xl,Oa),r(Xl,Cs),ve(Jl,Cs,null),r(u,La),r(u,ea),r(u,Ua),r(u,xl),r(xl,ws),r(ws,ta),r(xl,Ca),r(xl,es),r(es,ts),r(ts,ks),r(ks,la),r(ts,Ra),r(ts,Is),ve(ls,Is,null),r(es,Ba),r(es,ss),r(ss,ys),r(ys,sa),r(ss,Ha),r(ss,Ts),ve(as,Ts,null),r(u,ja),r(u,aa),r(u,Ga),r(u,_s),r(_s,Yl),r(Yl,hs),r(Yl,Za),r(Yl,As),r(As,ra),r(_s,Ka),r(_s,Ql),r(Ql,ps),r(Ql,qa),r(Ql,Ds),r(Ds,na),r(c,Wa),r(c,Vs),r(Vs,vs),r(vs,ia),Wt=!0,Fa||(tr=[ae(V,"change",l[32]),ae(V,"change",l[33]),ae(ee,"click",l[40]),ae(se,"change",l[46]),ae(se,"change",l[47]),ae(we,"input",l[49]),ae(jt,"change",l[52]),ae(bl,"input",l[53]),ae(Cl,"input",l[54]),ae(Yl,"click",l[58]),ae(Ql,"click",l[59]),ae(c,"submit",jl(l[60]))],Fa=!0)},p(ye,ot){const el={};!t&&ot[0]&8&&(t=!0,el.show=ye[3],yt(()=>t=!1)),e.$set(el);const Rl={};!o&&ot[0]&4&&(o=!0,Rl.show=ye[2],yt(()=>o=!1)),a.$set(Rl),(!Wt||ot[0]&4194304)&&p!==(p=ye[22].t("General Settings")+"")&&K(b,p),(!Wt||ot[0]&4194304)&&k!==(k=ye[22].t("Embedding Model Engine")+"")&&K(I,k),(!Wt||ot[0]&4194304)&&M!==(M=ye[22].t("Default (SentenceTransformers)")+"")&&K(S,M),(!Wt||ot[0]&4194304)&&P!==(P=ye[22].t("Ollama")+"")&&K(N,P),(!Wt||ot[0]&4194304)&&j!==(j=ye[22].t("OpenAI")+"")&&K(O,j),ot[0]&16&&Yt(V,ye[4]);let Ss=Z;Z=rr(ye),Z===Ss?~Z&&rs[Z].p(ye,ot):(H&&(Lt(),X(rs[Ss],1,1,()=>{rs[Ss]=null}),Ut()),~Z?(H=rs[Z],H?H.p(ye,ot):(H=rs[Z]=ar[Z](ye),H.c()),Y(H,1),H.m(h,U)):H=null),ye[4]==="ollama"||ye[4]==="openai"?Sl?Sl.p(ye,ot):(Sl=Si(ye),Sl.c(),Sl.m(h,W)):Sl&&(Sl.d(1),Sl=null),(!Wt||ot[0]&4194304)&&z!==(z=ye[22].t("Hybrid Search")+"")&&K(x,z),oa===(oa=nr(ye))&&Kl?Kl.p(ye,ot):(Kl.d(1),Kl=oa(ye),Kl&&(Kl.c(),Kl.m(ee,null))),(!Wt||ot[0]&4194304)&&Oe!==(Oe=ye[22].t("Embedding Model")+"")&&K(Pe,Oe),ua===(ua=ir(ye))&&ql?ql.p(ye,ot):(ql.d(1),ql=ua(ye),ql&&(ql.c(),ql.m($e,ne))),(!Wt||ot[0]&4194304)&&Ve!==(Ve=ye[22].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&K(De,Ve),ye[21].hybrid===!0?$l?$l.p(ye,ot):($l=Mi(ye),$l.c(),$l.m($e,null)):$l&&($l.d(1),$l=null),(!Wt||ot[0]&4194304)&&ue!==(ue=ye[22].t("Content Extraction")+"")&&K(ge,ue),(!Wt||ot[0]&4194304)&&rt!==(rt=ye[22].t("Engine")+"")&&K(oe,rt),(!Wt||ot[0]&4194304)&&at!==(at=ye[22].t("Default")+"")&&K(nt,at),(!Wt||ot[0]&4194304)&&ze!==(ze=ye[22].t("Tika")+"")&&K(ht,ze),ot[0]&1024&&Yt(se,ye[10]),ye[12]?Ml?Ml.p(ye,ot):(Ml=Ni(ye),Ml.c(),Ml.m(qe,null)):Ml&&(Ml.d(1),Ml=null),(!Wt||ot[0]&4194304)&&Je!==(Je=ye[22].t("Query Params")+"")&&K(Ce,Je),(!Wt||ot[0]&4194304)&&Ot!==(Ot=ye[22].t("Top K")+"")&&K(Rt,Ot),(!Wt||ot[0]&4194304&&Bt!==(Bt=ye[22].t("Enter Top K")))&&i(we,"placeholder",Bt),ot[0]&2097152&&Dl(we.value)!==ye[21].k&&te(we,ye[21].k),ye[21].hybrid===!0?Nl?Nl.p(ye,ot):(Nl=Oi(ye),Nl.c(),Nl.m(Ie,null)):Nl&&(Nl.d(1),Nl=null),ye[21].hybrid===!0?Ol?Ol.p(ye,ot):(Ol=Pi(ye),Ol.c(),Ol.m(st,Ht)):Ol&&(Ol.d(1),Ol=null),(!Wt||ot[0]&4194304)&&ct!==(ct=ye[22].t("RAG Template")+"")&&K(vt,ct);const ns={};ot[0]&4194304&&(ns.content=ye[22].t("Leave empty to use the default prompt, or enter a custom prompt")),ot[0]&6291456|ot[2]&4&&(ns.$$scope={dirty:ot,ctx:ye}),_t.$set(ns),(!Wt||ot[0]&4194304)&&Ne!==(Ne=ye[22].t("Chunk Params")+"")&&K(be,Ne),(!Wt||ot[0]&4194304)&&et!==(et=ye[22].t("Text Splitter")+"")&&K(Nt,et),(!Wt||ot[0]&4194304)&&xt!==(xt=ye[22].t("Default")+"")&&K(mt,xt),(!Wt||ot[0]&4194304)&&_l!==(_l=ye[22].t("Character")+"")&&K(rl,_l),(!Wt||ot[0]&4194304)&&pl!==(pl=ye[22].t("Token")+"")&&K(nl,pl),(!Wt||ot[0]&4194304)&&ol!==(ol=ye[22].t("Tiktoken")+"")&&K(Vl,ol),ot[0]&8192&&Yt(jt,ye[13]),(!Wt||ot[0]&4194304)&&Gl!==(Gl=ye[22].t("Chunk Size")+"")&&K(Ll,Gl),(!Wt||ot[0]&4194304&&Fl!==(Fl=ye[22].t("Enter Chunk Size")))&&i(bl,"placeholder",Fl),ot[0]&16384&&Dl(bl.value)!==ye[14]&&te(bl,ye[14]),(!Wt||ot[0]&4194304)&&Ls!==(Ls=ye[22].t("Chunk Overlap")+"")&&K(Js,Ls),(!Wt||ot[0]&4194304&&Xs!==(Xs=ye[22].t("Enter Chunk Overlap")))&&i(Cl,"placeholder",Xs),ot[0]&32768&&Dl(Cl.value)!==ye[15]&&te(Cl,ye[15]),(!Wt||ot[0]&4194304)&&Us!==(Us=ye[22].t("PDF Extract Images (OCR)")+"")&&K(xs,Us);const Ks={};!Pa&&ot[0]&65536&&(Pa=!0,Ks.state=ye[16],yt(()=>Pa=!1)),Jl.$set(Ks),(!Wt||ot[0]&4194304)&&Rs!==(Rs=ye[22].t("Files")+"")&&K(ta,Rs),(!Wt||ot[0]&4194304)&&Bs!==(Bs=ye[22].t("Max Upload Size")+"")&&K(la,Bs);const $s={};ot[0]&4194304&&($s.content=ye[22].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),ot[0]&4194560|ot[2]&4&&($s.$$scope={dirty:ot,ctx:ye}),ls.$set($s),(!Wt||ot[0]&4194304)&&Hs!==(Hs=ye[22].t("Max Upload Count")+"")&&K(sa,Hs);const is={};ot[0]&4194304&&(is.content=ye[22].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),ot[0]&4194816|ot[2]&4&&(is.$$scope={dirty:ot,ctx:ye}),as.$set(is),(!Wt||ot[0]&4194304)&&js!==(js=ye[22].t("Reset Upload Directory")+"")&&K(ra,js),(!Wt||ot[0]&4194304)&&Gs!==(Gs=ye[22].t("Reset Vector Storage/Knowledge")+"")&&K(na,Gs),(!Wt||ot[0]&4194304)&&Zs!==(Zs=ye[22].t("Save")+"")&&K(ia,Zs)},i(ye){Wt||(Y(e.$$.fragment,ye),Y(a.$$.fragment,ye),Y(H),Y(_t.$$.fragment,ye),Y(Jl.$$.fragment,ye),Y(ls.$$.fragment,ye),Y(as.$$.fragment,ye),Wt=!0)},o(ye){X(e.$$.fragment,ye),X(a.$$.fragment,ye),X(H),X(_t.$$.fragment,ye),X(Jl.$$.fragment,ye),X(ls.$$.fragment,ye),X(as.$$.fragment,ye),Wt=!1},d(ye){ye&&(f(s),f(n),f(c)),me(e,ye),me(a,ye),~Z&&rs[Z].d(),Sl&&Sl.d(),Kl.d(),ql.d(),$l&&$l.d(),Ml&&Ml.d(),Nl&&Nl.d(),Ol&&Ol.d(),me(_t),me(Jl),me(ls),me(as),Fa=!1,Xt(tr)}}}function _d(l,e,t){let s;const a=ds(),o=yl("i18n");sl(l,o,oe=>t(22,s=oe));let n=!1,c=!1,u=!1,h=!1,m="",p="",b=1,g="",E=null,w=null,k="default",I="",T=!1,y="",V=0,$=0,M=!0,S="",L="",P="",N="",q={template:"",r:0,k:4,hybrid:!1};const j=async()=>{if(m===""&&p.split("/").length-1>1){Ze.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="ollama"&&p===""){Ze.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="openai"&&p===""){Ze.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="openai"&&L===""||S===""){Ze.error(s.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",p),t(0,n=!0);const oe=await uu(localStorage.token,{embedding_engine:m,embedding_model:p,embedding_batch_size:b,ollama_config:{key:N,url:P},openai_config:{key:L,url:S}}).catch(async Fe=>(Ze.error(Fe),await Z(),null));t(0,n=!1),oe&&(console.log("embeddingModelUpdateHandler:",oe),oe.status===!0&&Ze.success(s.t('Embedding model set to "{{embedding_model}}"',oe),{duration:1e3*10}))},O=async()=>{console.log("Update reranking model attempt:",g),t(1,c=!0);const oe=await ru(localStorage.token,{reranking_model:g}).catch(async Fe=>(Ze.error(Fe),await H(),null));t(1,c=!1),oe&&(console.log("rerankingModelUpdateHandler:",oe),oe.status===!0&&(g===""?Ze.success(s.t("Reranking model disabled",oe),{duration:1e3*10}):Ze.success(s.t('Reranking model set to "{{reranking_model}}"',oe),{duration:1e3*10})))},G=async()=>{if(await j(),q.hybrid&&await O(),k==="tika"&&I===""){Ze.error(s.t("Tika Server URL required."));return}await Xi(localStorage.token,{pdf_extract_images:M,file:{max_size:E===""?null:E,max_count:w===""?null:w},chunk:{text_splitter:y,chunk_overlap:$,chunk_size:V},content_extraction:{engine:k,tika_server_url:I}}),await Qr(localStorage.token,q),a("save")},Z=async()=>{const oe=await nu(localStorage.token);oe&&(t(4,m=oe.embedding_engine),t(5,p=oe.embedding_model),t(6,b=oe.embedding_batch_size??1),t(18,L=oe.openai_config.key),t(17,S=oe.openai_config.url),t(20,N=oe.ollama_config.key),t(19,P=oe.ollama_config.url))},H=async()=>{const oe=await iu(localStorage.token);oe&&t(7,g=oe.reranking_model)},U=async()=>{t(21,q.hybrid=!q.hybrid,q),t(21,q=await Qr(localStorage.token,q))};Ul(async()=>{await Z(),await H(),t(21,q=await au(localStorage.token));const oe=await Ji(localStorage.token);oe&&(t(16,M=oe.pdf_extract_images),t(13,y=oe.chunk.text_splitter),t(14,V=oe.chunk.chunk_size),t(15,$=oe.chunk.chunk_overlap),t(10,k=oe.content_extraction.engine),t(11,I=oe.content_extraction.tika_server_url),t(12,T=k==="tika"),t(8,E=(oe==null?void 0:oe.file.max_size)??""),t(9,w=(oe==null?void 0:oe.file.max_count)??""))});function W(oe){h=oe,t(3,h)}const J=async()=>{await fu(localStorage.token).catch(Fe=>(Ze.error(Fe),null))&&Ze.success(s.t("Success"))};function F(oe){u=oe,t(2,u)}const z=()=>{ou(localStorage.token).catch(Fe=>(Ze.error(Fe),null))&&Ze.success(s.t("Success"))};function x(){m=wl(this),t(4,m)}const re=oe=>{oe.target.value==="ollama"?t(5,p=""):oe.target.value==="openai"?t(5,p="text-embedding-3-small"):oe.target.value===""&&t(5,p="sentence-transformers/all-MiniLM-L6-v2")};function ee(){S=this.value,t(17,S)}function Q(oe){L=oe,t(18,L)}function ie(){P=this.value,t(19,P)}function fe(oe){N=oe,t(20,N)}function Le(){b=Dl(this.value),t(6,b)}function Re(){b=Dl(this.value),t(6,b)}const $e=()=>{U()};function Me(){p=this.value,t(5,p)}function Oe(){p=this.value,t(5,p)}const Pe=()=>{j()};function tt(){g=this.value,t(7,g)}const ne=()=>{O()};function de(){k=wl(this),t(10,k)}const Ve=oe=>{t(12,T=oe.target.value==="tika")};function De(){I=this.value,t(11,I)}function Ue(){q.k=Dl(this.value),t(21,q)}function xe(){q.r=Dl(this.value),t(21,q)}function Ke(oe){l.$$.not_equal(q.template,oe)&&(q.template=oe,t(21,q))}function We(){y=wl(this),t(13,y)}function qe(){V=Dl(this.value),t(14,V)}function _e(){$=Dl(this.value),t(15,$)}function ue(oe){M=oe,t(16,M)}function ge(){E=Dl(this.value),t(8,E)}function ke(){w=Dl(this.value),t(9,w)}return[n,c,u,h,m,p,b,g,E,w,k,I,T,y,V,$,M,S,L,P,N,q,s,o,j,O,G,U,W,J,F,z,x,re,ee,Q,ie,fe,Le,Re,$e,Me,Oe,Pe,tt,ne,de,Ve,De,Ue,xe,Ke,We,qe,_e,ue,ge,ke,()=>{t(3,h=!0)},()=>{t(2,u=!0)},()=>{G()}]}class hd extends fl{constructor(e){super(),cl(this,e,_d,dd,ul,{},null,[-1,-1,-1])}}function Li(l,e,t){const s=l.slice();return s[29]=e[t],s}function Ui(l){let e,t,s=l[3].t("Web Search")+"",a,o,n,c,u,h=l[3].t("Enable Web Search")+"",m,p,b,g,E,w,k,I=l[3].t("Web Search Engine")+"",T,y,V,$,M,S=l[3].t("Select a engine")+"",L,P,N,q,j,O,G,Z,H,U=l[3].t("Web Loader Settings")+"",W,J,F,z,x,re=l[3].t("Bypass SSL verification for Websites")+"",ee,Q,ie,fe,Le,Re=l[3].t("Youtube Loader Settings")+"",$e,Me,Oe,Pe,tt,ne=l[3].t("Language")+"",de,Ve,De,Ue,xe,Ke,We,qe;function _e(le){l[7](le)}let ue={};l[1].search.enabled!==void 0&&(ue.state=l[1].search.enabled),b=new ml({props:ue}),gt.push(()=>Tt(b,"state",_e));let ge=St(l[5]),ke=[];for(let le=0;le<ge.length;le+=1)ke[le]=Ci(Li(l,ge,le));let Ee=l[1].search.engine!==""&&Ri(l),Be=l[1].search.enabled&&Bi(l);function rt(le,se){return le[1].web_loader_ssl_verification===!1?Dd:Ad}let oe=rt(l),Fe=oe(l);return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("div"),m=C(h),p=A(),he(b.$$.fragment),E=A(),w=d("div"),k=d("div"),T=C(I),y=A(),V=d("div"),$=d("select"),M=d("option"),L=C(S);for(let le=0;le<ke.length;le+=1)ke[le].c();N=A(),Ee&&Ee.c(),q=A(),Be&&Be.c(),j=A(),O=d("hr"),G=A(),Z=d("div"),H=d("div"),W=C(U),J=A(),F=d("div"),z=d("div"),x=d("div"),ee=C(re),Q=A(),ie=d("button"),Fe.c(),fe=A(),Le=d("div"),$e=C(Re),Me=A(),Oe=d("div"),Pe=d("div"),tt=d("div"),de=C(ne),Ve=A(),De=d("div"),Ue=d("input"),this.h()},l(le){e=_(le,"DIV",{});var se=v(e);t=_(se,"DIV",{class:!0});var lt=v(t);a=R(lt,s),lt.forEach(f),o=D(se),n=_(se,"DIV",{});var at=v(n);c=_(at,"DIV",{class:!0});var nt=v(c);u=_(nt,"DIV",{class:!0});var it=v(u);m=R(it,h),it.forEach(f),p=D(nt),pe(b.$$.fragment,nt),nt.forEach(f),at.forEach(f),E=D(se),w=_(se,"DIV",{class:!0});var Ye=v(w);k=_(Ye,"DIV",{class:!0});var ze=v(k);T=R(ze,I),ze.forEach(f),y=D(Ye),V=_(Ye,"DIV",{class:!0});var ht=v(V);$=_(ht,"SELECT",{class:!0,placeholder:!0});var bt=v($);M=_(bt,"OPTION",{});var Et=v(M);L=R(Et,S),Et.forEach(f);for(let Rt=0;Rt<ke.length;Rt+=1)ke[Rt].l(bt);bt.forEach(f),ht.forEach(f),Ye.forEach(f),N=D(se),Ee&&Ee.l(se),q=D(se),Be&&Be.l(se),se.forEach(f),j=D(le),O=_(le,"HR",{class:!0}),G=D(le),Z=_(le,"DIV",{});var dt=v(Z);H=_(dt,"DIV",{class:!0});var kt=v(H);W=R(kt,U),kt.forEach(f),J=D(dt),F=_(dt,"DIV",{});var st=v(F);z=_(st,"DIV",{class:!0});var Ae=v(z);x=_(Ae,"DIV",{class:!0});var Je=v(x);ee=R(Je,re),Je.forEach(f),Q=D(Ae),ie=_(Ae,"BUTTON",{class:!0,type:!0});var Ce=v(ie);Fe.l(Ce),Ce.forEach(f),Ae.forEach(f),st.forEach(f),fe=D(dt),Le=_(dt,"DIV",{class:!0});var Qe=v(Le);$e=R(Qe,Re),Qe.forEach(f),Me=D(dt),Oe=_(dt,"DIV",{});var Ie=v(Oe);Pe=_(Ie,"DIV",{class:!0});var Ge=v(Pe);tt=_(Ge,"DIV",{class:!0});var Mt=v(tt);de=R(Mt,ne),Mt.forEach(f),Ve=D(Ge),De=_(Ge,"DIV",{class:!0});var Ot=v(De);Ue=_(Ot,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ot.forEach(f),Ge.forEach(f),Ie.forEach(f),dt.forEach(f),this.h()},h(){i(t,"class","mb-1 text-sm font-medium"),i(u,"class","self-center text-xs font-medium"),i(c,"class","py-0.5 flex w-full justify-between"),i(k,"class","self-center text-xs font-medium"),M.disabled=!0,M.selected=!0,M.__value="",te(M,M.__value),i($,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),i($,"placeholder",P=l[3].t("Select a engine")),$.required=!0,l[1].search.engine===void 0&&Il(()=>l[8].call($)),i(V,"class","flex items-center relative"),i(w,"class","py-0.5 flex w-full justify-between"),i(O,"class","dark:border-gray-850 my-2"),i(H,"class","mb-1 text-sm font-medium"),i(x,"class","self-center text-xs font-medium"),i(ie,"class","p-1 px-3 text-xs flex rounded transition"),i(ie,"type","button"),i(z,"class","py-0.5 flex w-full justify-between"),i(Le,"class","mt-2 mb-1 text-sm font-medium"),i(tt,"class","w-20 text-xs font-medium self-center"),i(Ue,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(Ue,"type","text"),i(Ue,"placeholder",xe=l[3].t("Enter language codes")),i(Ue,"autocomplete","off"),i(De,"class","flex-1 self-center"),i(Pe,"class","py-0.5 flex w-full justify-between")},m(le,se){B(le,e,se),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),r(u,m),r(c,p),ve(b,c,null),r(e,E),r(e,w),r(w,k),r(k,T),r(w,y),r(w,V),r(V,$),r($,M),r(M,L);for(let lt=0;lt<ke.length;lt+=1)ke[lt]&&ke[lt].m($,null);Yt($,l[1].search.engine,!0),r(e,N),Ee&&Ee.m(e,null),r(e,q),Be&&Be.m(e,null),B(le,j,se),B(le,O,se),B(le,G,se),B(le,Z,se),r(Z,H),r(H,W),r(Z,J),r(Z,F),r(F,z),r(z,x),r(x,ee),r(z,Q),r(z,ie),Fe.m(ie,null),r(Z,fe),r(Z,Le),r(Le,$e),r(Z,Me),r(Z,Oe),r(Oe,Pe),r(Pe,tt),r(tt,de),r(Pe,Ve),r(Pe,De),r(De,Ue),te(Ue,l[2]),Ke=!0,We||(qe=[ae($,"change",l[8]),ae(ie,"click",l[25]),ae(Ue,"input",l[26])],We=!0)},p(le,se){(!Ke||se[0]&8)&&s!==(s=le[3].t("Web Search")+"")&&K(a,s),(!Ke||se[0]&8)&&h!==(h=le[3].t("Enable Web Search")+"")&&K(m,h);const lt={};if(!g&&se[0]&2&&(g=!0,lt.state=le[1].search.enabled,yt(()=>g=!1)),b.$set(lt),(!Ke||se[0]&8)&&I!==(I=le[3].t("Web Search Engine")+"")&&K(T,I),(!Ke||se[0]&8)&&S!==(S=le[3].t("Select a engine")+"")&&K(L,S),se[0]&32){ge=St(le[5]);let at;for(at=0;at<ge.length;at+=1){const nt=Li(le,ge,at);ke[at]?ke[at].p(nt,se):(ke[at]=Ci(nt),ke[at].c(),ke[at].m($,null))}for(;at<ke.length;at+=1)ke[at].d(1);ke.length=ge.length}(!Ke||se[0]&8&&P!==(P=le[3].t("Select a engine")))&&i($,"placeholder",P),se[0]&34&&Yt($,le[1].search.engine),le[1].search.engine!==""?Ee?(Ee.p(le,se),se[0]&2&&Y(Ee,1)):(Ee=Ri(le),Ee.c(),Y(Ee,1),Ee.m(e,q)):Ee&&(Lt(),X(Ee,1,1,()=>{Ee=null}),Ut()),le[1].search.enabled?Be?Be.p(le,se):(Be=Bi(le),Be.c(),Be.m(e,null)):Be&&(Be.d(1),Be=null),(!Ke||se[0]&8)&&U!==(U=le[3].t("Web Loader Settings")+"")&&K(W,U),(!Ke||se[0]&8)&&re!==(re=le[3].t("Bypass SSL verification for Websites")+"")&&K(ee,re),oe===(oe=rt(le))&&Fe?Fe.p(le,se):(Fe.d(1),Fe=oe(le),Fe&&(Fe.c(),Fe.m(ie,null))),(!Ke||se[0]&8)&&Re!==(Re=le[3].t("Youtube Loader Settings")+"")&&K($e,Re),(!Ke||se[0]&8)&&ne!==(ne=le[3].t("Language")+"")&&K(de,ne),(!Ke||se[0]&8&&xe!==(xe=le[3].t("Enter language codes")))&&i(Ue,"placeholder",xe),se[0]&4&&Ue.value!==le[2]&&te(Ue,le[2])},i(le){Ke||(Y(b.$$.fragment,le),Y(Ee),Ke=!0)},o(le){X(b.$$.fragment,le),X(Ee),Ke=!1},d(le){le&&(f(e),f(j),f(O),f(G),f(Z)),me(b),ll(ke,le),Ee&&Ee.d(),Be&&Be.d(),Fe.d(),We=!1,Xt(qe)}}}function Ci(l){let e,t=l[29]+"",s;return{c(){e=d("option"),s=C(t),this.h()},l(a){e=_(a,"OPTION",{});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){e.__value=l[29],te(e,e.__value)},m(a,o){B(a,e,o),r(e,s)},p:wt,d(a){a&&f(e)}}}function Ri(l){let e,t,s,a;const o=[Td,yd,Id,kd,wd,Ed,bd,gd,md,vd,pd],n=[];function c(u,h){return u[1].search.engine==="searxng"?0:u[1].search.engine==="google_pse"?1:u[1].search.engine==="brave"?2:u[1].search.engine==="mojeek"?3:u[1].search.engine==="serpstack"?4:u[1].search.engine==="serper"?5:u[1].search.engine==="serply"?6:u[1].search.engine==="searchapi"?7:u[1].search.engine==="tavily"?8:u[1].search.engine==="jina"?9:u[1].search.engine==="bing"?10:-1}return~(t=c(l))&&(s=n[t]=o[t](l)),{c(){e=d("div"),s&&s.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);s&&s.l(h),h.forEach(f),this.h()},h(){i(e,"class","mt-1.5")},m(u,h){B(u,e,h),~t&&n[t].m(e,null),a=!0},p(u,h){let m=t;t=c(u),t===m?~t&&n[t].p(u,h):(s&&(Lt(),X(n[m],1,1,()=>{n[m]=null}),Ut()),~t?(s=n[t],s?s.p(u,h):(s=n[t]=o[t](u),s.c()),Y(s,1),s.m(e,null)):s=null)},i(u){a||(Y(s),a=!0)},o(u){X(s),a=!1},d(u){u&&f(e),~t&&n[t].d()}}}function pd(l){let e,t,s=l[3].t("Bing Search V7 Endpoint")+"",a,o,n,c,u,h,m,p,b,g=l[3].t("Bing Search V7 Subscription Key")+"",E,w,k,I,T,y,V;function $(S){l[22](S)}let M={placeholder:l[3].t("Enter Bing Search V7 Subscription Key")};return l[1].search.bing_search_v7_subscription_key!==void 0&&(M.value=l[1].search.bing_search_v7_subscription_key),k=new El({props:M}),gt.push(()=>Tt(k,"value",$)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("input"),m=A(),p=d("div"),b=d("div"),E=C(g),w=A(),he(k.$$.fragment),this.h()},l(S){e=_(S,"DIV",{});var L=v(e);t=_(L,"DIV",{class:!0});var P=v(t);a=R(P,s),P.forEach(f),o=D(L),n=_(L,"DIV",{class:!0});var N=v(n);c=_(N,"DIV",{class:!0});var q=v(c);u=_(q,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),q.forEach(f),N.forEach(f),L.forEach(f),m=D(S),p=_(S,"DIV",{class:!0});var j=v(p);b=_(j,"DIV",{class:!0});var O=v(b);E=R(O,g),O.forEach(f),w=D(j),pe(k.$$.fragment,j),j.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"type","text"),i(u,"placeholder",h=l[3].t("Enter Bing Search V7 Endpoint")),i(u,"autocomplete","off"),i(c,"class","flex-1"),i(n,"class","flex w-full"),i(b,"class","self-center text-xs font-medium mb-1"),i(p,"class","mt-2")},m(S,L){B(S,e,L),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),te(u,l[1].search.bing_search_v7_endpoint),B(S,m,L),B(S,p,L),r(p,b),r(b,E),r(p,w),ve(k,p,null),T=!0,y||(V=ae(u,"input",l[21]),y=!0)},p(S,L){(!T||L[0]&8)&&s!==(s=S[3].t("Bing Search V7 Endpoint")+"")&&K(a,s),(!T||L[0]&8&&h!==(h=S[3].t("Enter Bing Search V7 Endpoint")))&&i(u,"placeholder",h),L[0]&34&&u.value!==S[1].search.bing_search_v7_endpoint&&te(u,S[1].search.bing_search_v7_endpoint),(!T||L[0]&8)&&g!==(g=S[3].t("Bing Search V7 Subscription Key")+"")&&K(E,g);const P={};L[0]&8&&(P.placeholder=S[3].t("Enter Bing Search V7 Subscription Key")),!I&&L[0]&2&&(I=!0,P.value=S[1].search.bing_search_v7_subscription_key,yt(()=>I=!1)),k.$set(P)},i(S){T||(Y(k.$$.fragment,S),T=!0)},o(S){X(k.$$.fragment,S),T=!1},d(S){S&&(f(e),f(m),f(p)),me(k),y=!1,V()}}}function vd(l){let e,t,s=l[3].t("Jina API Key")+"",a,o,n,c,u;function h(p){l[20](p)}let m={placeholder:l[3].t("Enter Jina API Key")};return l[1].search.jina_api_key!==void 0&&(m.value=l[1].search.jina_api_key),n=new El({props:m}),gt.push(()=>Tt(n,"value",h)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var b=v(e);t=_(b,"DIV",{class:!0});var g=v(t);a=R(g,s),g.forEach(f),o=D(b),pe(n.$$.fragment,b),b.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1")},m(p,b){B(p,e,b),r(e,t),r(t,a),r(e,o),ve(n,e,null),u=!0},p(p,b){(!u||b[0]&8)&&s!==(s=p[3].t("Jina API Key")+"")&&K(a,s);const g={};b[0]&8&&(g.placeholder=p[3].t("Enter Jina API Key")),!c&&b[0]&2&&(c=!0,g.value=p[1].search.jina_api_key,yt(()=>c=!1)),n.$set(g)},i(p){u||(Y(n.$$.fragment,p),u=!0)},o(p){X(n.$$.fragment,p),u=!1},d(p){p&&f(e),me(n)}}}function md(l){let e,t,s=l[3].t("Tavily API Key")+"",a,o,n,c,u;function h(p){l[19](p)}let m={placeholder:l[3].t("Enter Tavily API Key")};return l[1].search.tavily_api_key!==void 0&&(m.value=l[1].search.tavily_api_key),n=new El({props:m}),gt.push(()=>Tt(n,"value",h)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var b=v(e);t=_(b,"DIV",{class:!0});var g=v(t);a=R(g,s),g.forEach(f),o=D(b),pe(n.$$.fragment,b),b.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1")},m(p,b){B(p,e,b),r(e,t),r(t,a),r(e,o),ve(n,e,null),u=!0},p(p,b){(!u||b[0]&8)&&s!==(s=p[3].t("Tavily API Key")+"")&&K(a,s);const g={};b[0]&8&&(g.placeholder=p[3].t("Enter Tavily API Key")),!c&&b[0]&2&&(c=!0,g.value=p[1].search.tavily_api_key,yt(()=>c=!1)),n.$set(g)},i(p){u||(Y(n.$$.fragment,p),u=!0)},o(p){X(n.$$.fragment,p),u=!1},d(p){p&&f(e),me(n)}}}function gd(l){let e,t,s=l[3].t("SearchApi API Key")+"",a,o,n,c,u,h,m,p=l[3].t("SearchApi Engine")+"",b,g,E,w,k,I,T,y,V;function $(S){l[17](S)}let M={placeholder:l[3].t("Enter SearchApi API Key")};return l[1].search.searchapi_api_key!==void 0&&(M.value=l[1].search.searchapi_api_key),n=new El({props:M}),gt.push(()=>Tt(n,"value",$)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),u=A(),h=d("div"),m=d("div"),b=C(p),g=A(),E=d("div"),w=d("div"),k=d("input"),this.h()},l(S){e=_(S,"DIV",{});var L=v(e);t=_(L,"DIV",{class:!0});var P=v(t);a=R(P,s),P.forEach(f),o=D(L),pe(n.$$.fragment,L),L.forEach(f),u=D(S),h=_(S,"DIV",{class:!0});var N=v(h);m=_(N,"DIV",{class:!0});var q=v(m);b=R(q,p),q.forEach(f),g=D(N),E=_(N,"DIV",{class:!0});var j=v(E);w=_(j,"DIV",{class:!0});var O=v(w);k=_(O,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),O.forEach(f),j.forEach(f),N.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1"),i(m,"class","self-center text-xs font-medium mb-1"),i(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(k,"type","text"),i(k,"placeholder",I=l[3].t("Enter SearchApi Engine")),i(k,"autocomplete","off"),i(w,"class","flex-1"),i(E,"class","flex w-full"),i(h,"class","mt-1.5")},m(S,L){B(S,e,L),r(e,t),r(t,a),r(e,o),ve(n,e,null),B(S,u,L),B(S,h,L),r(h,m),r(m,b),r(h,g),r(h,E),r(E,w),r(w,k),te(k,l[1].search.searchapi_engine),T=!0,y||(V=ae(k,"input",l[18]),y=!0)},p(S,L){(!T||L[0]&8)&&s!==(s=S[3].t("SearchApi API Key")+"")&&K(a,s);const P={};L[0]&8&&(P.placeholder=S[3].t("Enter SearchApi API Key")),!c&&L[0]&2&&(c=!0,P.value=S[1].search.searchapi_api_key,yt(()=>c=!1)),n.$set(P),(!T||L[0]&8)&&p!==(p=S[3].t("SearchApi Engine")+"")&&K(b,p),(!T||L[0]&8&&I!==(I=S[3].t("Enter SearchApi Engine")))&&i(k,"placeholder",I),L[0]&34&&k.value!==S[1].search.searchapi_engine&&te(k,S[1].search.searchapi_engine)},i(S){T||(Y(n.$$.fragment,S),T=!0)},o(S){X(n.$$.fragment,S),T=!1},d(S){S&&(f(e),f(u),f(h)),me(n),y=!1,V()}}}function bd(l){let e,t,s=l[3].t("Serply API Key")+"",a,o,n,c,u;function h(p){l[16](p)}let m={placeholder:l[3].t("Enter Serply API Key")};return l[1].search.serply_api_key!==void 0&&(m.value=l[1].search.serply_api_key),n=new El({props:m}),gt.push(()=>Tt(n,"value",h)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var b=v(e);t=_(b,"DIV",{class:!0});var g=v(t);a=R(g,s),g.forEach(f),o=D(b),pe(n.$$.fragment,b),b.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1")},m(p,b){B(p,e,b),r(e,t),r(t,a),r(e,o),ve(n,e,null),u=!0},p(p,b){(!u||b[0]&8)&&s!==(s=p[3].t("Serply API Key")+"")&&K(a,s);const g={};b[0]&8&&(g.placeholder=p[3].t("Enter Serply API Key")),!c&&b[0]&2&&(c=!0,g.value=p[1].search.serply_api_key,yt(()=>c=!1)),n.$set(g)},i(p){u||(Y(n.$$.fragment,p),u=!0)},o(p){X(n.$$.fragment,p),u=!1},d(p){p&&f(e),me(n)}}}function Ed(l){let e,t,s=l[3].t("Serper API Key")+"",a,o,n,c,u;function h(p){l[15](p)}let m={placeholder:l[3].t("Enter Serper API Key")};return l[1].search.serper_api_key!==void 0&&(m.value=l[1].search.serper_api_key),n=new El({props:m}),gt.push(()=>Tt(n,"value",h)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var b=v(e);t=_(b,"DIV",{class:!0});var g=v(t);a=R(g,s),g.forEach(f),o=D(b),pe(n.$$.fragment,b),b.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1")},m(p,b){B(p,e,b),r(e,t),r(t,a),r(e,o),ve(n,e,null),u=!0},p(p,b){(!u||b[0]&8)&&s!==(s=p[3].t("Serper API Key")+"")&&K(a,s);const g={};b[0]&8&&(g.placeholder=p[3].t("Enter Serper API Key")),!c&&b[0]&2&&(c=!0,g.value=p[1].search.serper_api_key,yt(()=>c=!1)),n.$set(g)},i(p){u||(Y(n.$$.fragment,p),u=!0)},o(p){X(n.$$.fragment,p),u=!1},d(p){p&&f(e),me(n)}}}function wd(l){let e,t,s=l[3].t("Serpstack API Key")+"",a,o,n,c,u;function h(p){l[14](p)}let m={placeholder:l[3].t("Enter Serpstack API Key")};return l[1].search.serpstack_api_key!==void 0&&(m.value=l[1].search.serpstack_api_key),n=new El({props:m}),gt.push(()=>Tt(n,"value",h)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var b=v(e);t=_(b,"DIV",{class:!0});var g=v(t);a=R(g,s),g.forEach(f),o=D(b),pe(n.$$.fragment,b),b.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1")},m(p,b){B(p,e,b),r(e,t),r(t,a),r(e,o),ve(n,e,null),u=!0},p(p,b){(!u||b[0]&8)&&s!==(s=p[3].t("Serpstack API Key")+"")&&K(a,s);const g={};b[0]&8&&(g.placeholder=p[3].t("Enter Serpstack API Key")),!c&&b[0]&2&&(c=!0,g.value=p[1].search.serpstack_api_key,yt(()=>c=!1)),n.$set(g)},i(p){u||(Y(n.$$.fragment,p),u=!0)},o(p){X(n.$$.fragment,p),u=!1},d(p){p&&f(e),me(n)}}}function kd(l){let e,t,s=l[3].t("Mojeek Search API Key")+"",a,o,n,c,u;function h(p){l[13](p)}let m={placeholder:l[3].t("Enter Mojeek Search API Key")};return l[1].search.mojeek_search_api_key!==void 0&&(m.value=l[1].search.mojeek_search_api_key),n=new El({props:m}),gt.push(()=>Tt(n,"value",h)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var b=v(e);t=_(b,"DIV",{class:!0});var g=v(t);a=R(g,s),g.forEach(f),o=D(b),pe(n.$$.fragment,b),b.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1")},m(p,b){B(p,e,b),r(e,t),r(t,a),r(e,o),ve(n,e,null),u=!0},p(p,b){(!u||b[0]&8)&&s!==(s=p[3].t("Mojeek Search API Key")+"")&&K(a,s);const g={};b[0]&8&&(g.placeholder=p[3].t("Enter Mojeek Search API Key")),!c&&b[0]&2&&(c=!0,g.value=p[1].search.mojeek_search_api_key,yt(()=>c=!1)),n.$set(g)},i(p){u||(Y(n.$$.fragment,p),u=!0)},o(p){X(n.$$.fragment,p),u=!1},d(p){p&&f(e),me(n)}}}function Id(l){let e,t,s=l[3].t("Brave Search API Key")+"",a,o,n,c,u;function h(p){l[12](p)}let m={placeholder:l[3].t("Enter Brave Search API Key")};return l[1].search.brave_search_api_key!==void 0&&(m.value=l[1].search.brave_search_api_key),n=new El({props:m}),gt.push(()=>Tt(n,"value",h)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var b=v(e);t=_(b,"DIV",{class:!0});var g=v(t);a=R(g,s),g.forEach(f),o=D(b),pe(n.$$.fragment,b),b.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1")},m(p,b){B(p,e,b),r(e,t),r(t,a),r(e,o),ve(n,e,null),u=!0},p(p,b){(!u||b[0]&8)&&s!==(s=p[3].t("Brave Search API Key")+"")&&K(a,s);const g={};b[0]&8&&(g.placeholder=p[3].t("Enter Brave Search API Key")),!c&&b[0]&2&&(c=!0,g.value=p[1].search.brave_search_api_key,yt(()=>c=!1)),n.$set(g)},i(p){u||(Y(n.$$.fragment,p),u=!0)},o(p){X(n.$$.fragment,p),u=!1},d(p){p&&f(e),me(n)}}}function yd(l){let e,t,s=l[3].t("Google PSE API Key")+"",a,o,n,c,u,h,m,p=l[3].t("Google PSE Engine Id")+"",b,g,E,w,k,I,T,y,V;function $(S){l[10](S)}let M={placeholder:l[3].t("Enter Google PSE API Key")};return l[1].search.google_pse_api_key!==void 0&&(M.value=l[1].search.google_pse_api_key),n=new El({props:M}),gt.push(()=>Tt(n,"value",$)),{c(){e=d("div"),t=d("div"),a=C(s),o=A(),he(n.$$.fragment),u=A(),h=d("div"),m=d("div"),b=C(p),g=A(),E=d("div"),w=d("div"),k=d("input"),this.h()},l(S){e=_(S,"DIV",{});var L=v(e);t=_(L,"DIV",{class:!0});var P=v(t);a=R(P,s),P.forEach(f),o=D(L),pe(n.$$.fragment,L),L.forEach(f),u=D(S),h=_(S,"DIV",{class:!0});var N=v(h);m=_(N,"DIV",{class:!0});var q=v(m);b=R(q,p),q.forEach(f),g=D(N),E=_(N,"DIV",{class:!0});var j=v(E);w=_(j,"DIV",{class:!0});var O=v(w);k=_(O,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),O.forEach(f),j.forEach(f),N.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1"),i(m,"class","self-center text-xs font-medium mb-1"),i(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(k,"type","text"),i(k,"placeholder",I=l[3].t("Enter Google PSE Engine Id")),i(k,"autocomplete","off"),i(w,"class","flex-1"),i(E,"class","flex w-full"),i(h,"class","mt-1.5")},m(S,L){B(S,e,L),r(e,t),r(t,a),r(e,o),ve(n,e,null),B(S,u,L),B(S,h,L),r(h,m),r(m,b),r(h,g),r(h,E),r(E,w),r(w,k),te(k,l[1].search.google_pse_engine_id),T=!0,y||(V=ae(k,"input",l[11]),y=!0)},p(S,L){(!T||L[0]&8)&&s!==(s=S[3].t("Google PSE API Key")+"")&&K(a,s);const P={};L[0]&8&&(P.placeholder=S[3].t("Enter Google PSE API Key")),!c&&L[0]&2&&(c=!0,P.value=S[1].search.google_pse_api_key,yt(()=>c=!1)),n.$set(P),(!T||L[0]&8)&&p!==(p=S[3].t("Google PSE Engine Id")+"")&&K(b,p),(!T||L[0]&8&&I!==(I=S[3].t("Enter Google PSE Engine Id")))&&i(k,"placeholder",I),L[0]&34&&k.value!==S[1].search.google_pse_engine_id&&te(k,S[1].search.google_pse_engine_id)},i(S){T||(Y(n.$$.fragment,S),T=!0)},o(S){X(n.$$.fragment,S),T=!1},d(S){S&&(f(e),f(u),f(h)),me(n),y=!1,V()}}}function Td(l){let e,t,s=l[3].t("Searxng Query URL")+"",a,o,n,c,u,h,m,p;return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("input"),this.h()},l(b){e=_(b,"DIV",{});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=R(E,s),E.forEach(f),o=D(g),n=_(g,"DIV",{class:!0});var w=v(n);c=_(w,"DIV",{class:!0});var k=v(c);u=_(k,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),k.forEach(f),w.forEach(f),g.forEach(f),this.h()},h(){i(t,"class","self-center text-xs font-medium mb-1"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"type","text"),i(u,"placeholder",h=l[3].t("Enter Searxng Query URL")),i(u,"autocomplete","off"),i(c,"class","flex-1"),i(n,"class","flex w-full")},m(b,g){B(b,e,g),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),te(u,l[1].search.searxng_query_url),m||(p=ae(u,"input",l[9]),m=!0)},p(b,g){g[0]&8&&s!==(s=b[3].t("Searxng Query URL")+"")&&K(a,s),g[0]&8&&h!==(h=b[3].t("Enter Searxng Query URL"))&&i(u,"placeholder",h),g[0]&34&&u.value!==b[1].search.searxng_query_url&&te(u,b[1].search.searxng_query_url)},i:wt,o:wt,d(b){b&&f(e),m=!1,p()}}}function Bi(l){let e,t,s,a=l[3].t("Search Result Count")+"",o,n,c,u,h,m,p,b=l[3].t("Concurrent Requests")+"",g,E,w,k,I,T;return{c(){e=d("div"),t=d("div"),s=d("div"),o=C(a),n=A(),c=d("input"),h=A(),m=d("div"),p=d("div"),g=C(b),E=A(),w=d("input"),this.h()},l(y){e=_(y,"DIV",{class:!0});var V=v(e);t=_(V,"DIV",{class:!0});var $=v(t);s=_($,"DIV",{class:!0});var M=v(s);o=R(M,a),M.forEach(f),n=D($),c=_($,"INPUT",{class:!0,placeholder:!0}),$.forEach(f),h=D(V),m=_(V,"DIV",{class:!0});var S=v(m);p=_(S,"DIV",{class:!0});var L=v(p);g=R(L,b),L.forEach(f),E=D(S),w=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(f),V.forEach(f),this.h()},h(){i(s,"class","self-center text-xs font-medium mb-1"),i(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(c,"placeholder",u=l[3].t("Search Result Count")),c.required=!0,i(t,"class","w-full"),i(p,"class","self-center text-xs font-medium mb-1"),i(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),i(w,"placeholder",k=l[3].t("Concurrent Requests")),w.required=!0,i(m,"class","w-full"),i(e,"class","mt-2 flex gap-2 mb-1")},m(y,V){B(y,e,V),r(e,t),r(t,s),r(s,o),r(t,n),r(t,c),te(c,l[1].search.result_count),r(e,h),r(e,m),r(m,p),r(p,g),r(m,E),r(m,w),te(w,l[1].search.concurrent_requests),I||(T=[ae(c,"input",l[23]),ae(w,"input",l[24])],I=!0)},p(y,V){V[0]&8&&a!==(a=y[3].t("Search Result Count")+"")&&K(o,a),V[0]&8&&u!==(u=y[3].t("Search Result Count"))&&i(c,"placeholder",u),V[0]&34&&c.value!==y[1].search.result_count&&te(c,y[1].search.result_count),V[0]&8&&b!==(b=y[3].t("Concurrent Requests")+"")&&K(g,b),V[0]&8&&k!==(k=y[3].t("Concurrent Requests"))&&i(w,"placeholder",k),V[0]&34&&w.value!==y[1].search.concurrent_requests&&te(w,y[1].search.concurrent_requests)},d(y){y&&f(e),I=!1,Xt(T)}}}function Ad(l){let e,t=l[3].t("Off")+"",s;return{c(){e=d("span"),s=C(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&8&&t!==(t=a[3].t("Off")+"")&&K(s,t)},d(a){a&&f(e)}}}function Dd(l){let e,t=l[3].t("On")+"",s;return{c(){e=d("span"),s=C(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","ml-2 self-center")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&8&&t!==(t=a[3].t("On")+"")&&K(s,t)},d(a){a&&f(e)}}}function Vd(l){let e,t,s,a,o,n=l[3].t("Save")+"",c,u,h,m,p=l[1]&&Ui(l);return{c(){e=d("form"),t=d("div"),p&&p.c(),s=A(),a=d("div"),o=d("button"),c=C(n),this.h()},l(b){e=_(b,"FORM",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);p&&p.l(E),E.forEach(f),s=D(g),a=_(g,"DIV",{class:!0});var w=v(a);o=_(w,"BUTTON",{class:!0,type:!0});var k=v(o);c=R(k,n),k.forEach(f),w.forEach(f),g.forEach(f),this.h()},h(){i(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),i(o,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),i(o,"type","submit"),i(a,"class","flex justify-end pt-3 text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(b,g){B(b,e,g),r(e,t),p&&p.m(t,null),r(e,s),r(e,a),r(a,o),r(o,c),u=!0,h||(m=ae(e,"submit",jl(l[27])),h=!0)},p(b,g){b[1]?p?(p.p(b,g),g[0]&2&&Y(p,1)):(p=Ui(b),p.c(),Y(p,1),p.m(t,null)):p&&(Lt(),X(p,1,1,()=>{p=null}),Ut()),(!u||g[0]&8)&&n!==(n=b[3].t("Save")+"")&&K(c,n)},i(b){u||(Y(p),u=!0)},o(b){X(p),u=!1},d(b){b&&f(e),p&&p.d(),h=!1,m()}}}function Sd(l,e,t){let s;const a=yl("i18n");sl(l,a,H=>t(3,s=H));let{saveHandler:o}=e,n=null,c=["searxng","google_pse","brave","mojeek","serpstack","serper","serply","searchapi","duckduckgo","tavily","jina","bing"],u="en",h=null;const m=async()=>{await Xi(localStorage.token,{web:n,youtube:{language:u.split(",").map(H=>H.trim()),translation:h}})};Ul(async()=>{const H=await Ji(localStorage.token);H&&(t(1,n=H.web),t(2,u=H.youtube.language.join(",")),h=H.youtube.translation)});function p(H){l.$$.not_equal(n.search.enabled,H)&&(n.search.enabled=H,t(1,n))}function b(){n.search.engine=wl(this),t(1,n),t(5,c)}function g(){n.search.searxng_query_url=this.value,t(1,n),t(5,c)}function E(H){l.$$.not_equal(n.search.google_pse_api_key,H)&&(n.search.google_pse_api_key=H,t(1,n))}function w(){n.search.google_pse_engine_id=this.value,t(1,n),t(5,c)}function k(H){l.$$.not_equal(n.search.brave_search_api_key,H)&&(n.search.brave_search_api_key=H,t(1,n))}function I(H){l.$$.not_equal(n.search.mojeek_search_api_key,H)&&(n.search.mojeek_search_api_key=H,t(1,n))}function T(H){l.$$.not_equal(n.search.serpstack_api_key,H)&&(n.search.serpstack_api_key=H,t(1,n))}function y(H){l.$$.not_equal(n.search.serper_api_key,H)&&(n.search.serper_api_key=H,t(1,n))}function V(H){l.$$.not_equal(n.search.serply_api_key,H)&&(n.search.serply_api_key=H,t(1,n))}function $(H){l.$$.not_equal(n.search.searchapi_api_key,H)&&(n.search.searchapi_api_key=H,t(1,n))}function M(){n.search.searchapi_engine=this.value,t(1,n),t(5,c)}function S(H){l.$$.not_equal(n.search.tavily_api_key,H)&&(n.search.tavily_api_key=H,t(1,n))}function L(H){l.$$.not_equal(n.search.jina_api_key,H)&&(n.search.jina_api_key=H,t(1,n))}function P(){n.search.bing_search_v7_endpoint=this.value,t(1,n),t(5,c)}function N(H){l.$$.not_equal(n.search.bing_search_v7_subscription_key,H)&&(n.search.bing_search_v7_subscription_key=H,t(1,n))}function q(){n.search.result_count=this.value,t(1,n),t(5,c)}function j(){n.search.concurrent_requests=this.value,t(1,n),t(5,c)}const O=()=>{t(1,n.web_loader_ssl_verification=!n.web_loader_ssl_verification,n),m()};function G(){u=this.value,t(2,u)}const Z=async()=>{await m(),o()};return l.$$set=H=>{"saveHandler"in H&&t(0,o=H.saveHandler)},[o,n,u,s,a,c,m,p,b,g,E,w,k,I,T,y,V,$,M,S,L,P,N,q,j,O,G,Z]}class $d extends fl{constructor(e){super(),cl(this,e,Sd,Vd,ul,{saveHandler:0},null,[-1,-1])}}function Md(l){let e,t,s;return{c(){e=Gt("svg"),t=Gt("path"),s=Gt("path"),this.h()},l(a){e=Zt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=v(e);t=Zt(o,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(f),s=Zt(o,"path",{d:!0}),v(s).forEach(f),o.forEach(f),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z"),i(t,"clip-rule","evenodd"),i(s,"d","M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class",l[0])},m(a,o){B(a,e,o),r(e,t),r(e,s)},p(a,[o]){o&1&&i(e,"class",a[0])},i:wt,o:wt,d(a){a&&f(e)}}}function Nd(l,e,t){let{className:s="size-4"}=e,{strokeWidth:a="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,s=o.className),"strokeWidth"in o&&t(1,a=o.strokeWidth)},[s,a]}class Od extends fl{constructor(e){super(),cl(this,e,Nd,Md,ul,{className:0,strokeWidth:1})}}function Hi(l,e,t){const s=l.slice();return s[2]=e[t],s}function ji(l,e,t){const s=l.slice();return s[39]=e[t],s[41]=t,s}function Pd(l){let e=l[14].t("Add Arena Model")+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Add Arena Model")+"")&&K(t,e)},d(s){s&&f(t)}}}function Ld(l){let e=l[14].t("Edit Arena Model")+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Edit Arena Model")+"")&&K(t,e)},d(s){s&&f(t)}}}function Ud(l){let e=l[14].t("Exclude")+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Exclude")+"")&&K(t,e)},d(s){s&&f(t)}}}function Cd(l){let e=l[14].t("Include")+"",t;return{c(){t=C(e)},l(s){t=R(s,e)},m(s,a){B(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Include")+"")&&K(t,e)},d(s){s&&f(t)}}}function Rd(l){let e,t=l[14].t("Leave empty to include all models or select specific models")+"",s;return{c(){e=d("div"),s=C(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","text-gray-500 text-xs text-center py-2")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o[0]&16384&&t!==(t=a[14].t("Leave empty to include all models or select specific models")+"")&&K(s,t)},i:wt,o:wt,d(a){a&&f(e)}}}function Bd(l){let e,t,s=St(l[8]),a=[];for(let n=0;n<s.length;n+=1)a[n]=Gi(ji(l,s,n));const o=n=>X(a[n],1,1,()=>{a[n]=null});return{c(){e=d("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=_(n,"DIV",{class:!0});var c=v(e);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(f),this.h()},h(){i(e,"class","flex flex-col")},m(n,c){B(n,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(n,c){if(c[0]&8448){s=St(n[8]);let u;for(u=0;u<s.length;u+=1){const h=ji(n,s,u);a[u]?(a[u].p(h,c),Y(a[u],1)):(a[u]=Gi(h),a[u].c(),Y(a[u],1),a[u].m(e,null))}for(Lt(),u=s.length;u<a.length;u+=1)o(u);Ut()}},i(n){if(!t){for(let c=0;c<s.length;c+=1)Y(a[c]);t=!0}},o(n){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)X(a[c]);t=!1},d(n){n&&f(e),ll(a,n)}}}function Gi(l){var w;let e,t,s=((w=l[13].find(g))==null?void 0:w.name)+"",a,o,n,c,u,h,m,p,b;function g(...k){return l[28](l[39],...k)}u=new xi({props:{strokeWidth:"2",className:"size-3.5"}});function E(){return l[29](l[41])}return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("button"),he(u.$$.fragment),h=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var T=v(t);a=R(T,s),T.forEach(f),o=D(I),n=_(I,"DIV",{class:!0});var y=v(n);c=_(y,"BUTTON",{type:!0});var V=v(c);pe(u.$$.fragment,V),V.forEach(f),y.forEach(f),h=D(I),I.forEach(f),this.h()},h(){i(t,"class","text-sm flex-1 py-1 rounded-lg"),i(c,"type","button"),i(n,"class","flex-shrink-0"),i(e,"class","flex gap-2 w-full justify-between items-center")},m(k,I){B(k,e,I),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),ve(u,c,null),r(e,h),m=!0,p||(b=ae(c,"click",E),p=!0)},p(k,I){var T;l=k,(!m||I[0]&8448)&&s!==(s=((T=l[13].find(g))==null?void 0:T.name)+"")&&K(a,s)},i(k){m||(Y(u.$$.fragment,k),m=!0)},o(k){X(u.$$.fragment,k),m=!1},d(k){k&&f(e),me(u),p=!1,b()}}}function Zi(l){let e,t=l[2].name+"",s,a;return{c(){e=d("option"),s=C(t),this.h()},l(o){e=_(o,"OPTION",{class:!0});var n=v(e);s=R(n,t),n.forEach(f),this.h()},h(){e.__value=a=l[2].id,te(e,e.__value),i(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,n){B(o,e,n),r(e,s)},p(o,n){n[0]&8192&&t!==(t=o[2].name+"")&&K(s,t),n[0]&8192&&a!==(a=o[2].id)&&(e.__value=a,te(e,e.__value))},d(o){o&&f(e)}}}function Ki(l){let e,t=l[14].t("Delete")+"",s,a,o;return{c(){e=d("button"),s=C(t),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var c=v(e);s=R(c,t),c.forEach(f),this.h()},h(){i(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),i(e,"type","button")},m(n,c){B(n,e,c),r(e,s),a||(o=ae(e,"click",l[32]),a=!0)},p(n,c){c[0]&16384&&t!==(t=n[14].t("Delete")+"")&&K(s,t)},d(n){n&&f(e),a=!1,o()}}}function qi(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-2 self-center")},m(s,a){B(s,e,a)},d(s){s&&f(e)}}}function Hd(l){let e,t,s,a,o,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,u,h,m,p,b,g,E,w,k,I,T,y,V,$,M,S,L,P,N=l[14].t("Name")+"",q,j,O,G,Z,H,U,W,J=l[14].t("ID")+"",F,z,x,re,ee,Q,ie,fe,Le=l[14].t("Description")+"",Re,$e,Me,Oe,Pe,tt,ne,de,Ve,De,Ue,xe,Ke,We,qe,_e,ue,ge,ke=l[14].t("Models")+"",Ee,Be,rt,oe,Fe,le,se,lt,at,nt,it,Ye,ze,ht=l[14].t("Select a model")+"",bt,Et,dt,kt,st,Ae,Je,Ce,Qe,Ie,Ge=l[14].t("Save")+"",Mt,Ot,Rt,ut,Te,we;function Bt(Ne,be){return Ne[1]?Ld:Pd}let Dt=Bt(l),Vt=Dt(l);$=new Jf({props:{className:"size-4"}});function Ht(Ne){l[26](Ne)}let At={};l[10]!==void 0&&(At.accessControl=l[10]),Ue=new cu({props:At}),gt.push(()=>Tt(Ue,"accessControl",Ht));function Se(Ne,be){return Ne[9]==="include"?Cd:Ud}let ct=Se(l),vt=ct(l);const Pt=[Bd,Rd],_t=[];function pt(Ne,be){return Ne[8].length>0?0:1}le=pt(l),se=_t[le]=Pt[le](l);let Ft=St(l[13].filter(Wi)),He=[];for(let Ne=0;Ne<Ft.length;Ne+=1)He[Ne]=Zi(Hi(l,Ft,Ne));Ae=new Qs({props:{className:"size-3.5",strokeWidth:"2"}});let je=l[1]&&Ki(l),$t=l[12]&&qi();return{c(){e=d("div"),t=d("div"),s=d("div"),Vt.c(),a=A(),o=d("button"),o.innerHTML=n,c=A(),u=d("div"),h=d("div"),m=d("form"),p=d("div"),b=d("div"),g=d("input"),E=A(),w=d("button"),k=d("img"),T=A(),y=d("div"),V=d("div"),he($.$$.fragment),M=A(),S=d("div"),L=d("div"),P=d("div"),q=C(N),j=A(),O=d("div"),G=d("input"),H=A(),U=d("div"),W=d("div"),F=C(J),z=A(),x=d("div"),re=d("input"),Q=A(),ie=d("div"),fe=d("div"),Re=C(Le),$e=A(),Me=d("div"),Oe=d("input"),tt=A(),ne=d("hr"),de=A(),Ve=d("div"),De=d("div"),he(Ue.$$.fragment),Ke=A(),We=d("hr"),qe=A(),_e=d("div"),ue=d("div"),ge=d("div"),Ee=C(ke),Be=A(),rt=d("div"),oe=d("button"),vt.c(),Fe=A(),se.c(),lt=A(),at=d("hr"),nt=A(),it=d("div"),Ye=d("select"),ze=d("option"),bt=C(ht);for(let Ne=0;Ne<He.length;Ne+=1)He[Ne].c();dt=A(),kt=d("div"),st=d("button"),he(Ae.$$.fragment),Je=A(),Ce=d("div"),je&&je.c(),Qe=A(),Ie=d("button"),Mt=C(Ge),Ot=A(),$t&&$t.c(),this.h()},l(Ne){e=_(Ne,"DIV",{});var be=v(e);t=_(be,"DIV",{class:!0});var Xe=v(t);s=_(Xe,"DIV",{class:!0});var ft=v(s);Vt.l(ft),ft.forEach(f),a=D(Xe),o=_(Xe,"BUTTON",{class:!0,"data-svelte-h":!0}),Ct(o)!=="svelte-745w2y"&&(o.innerHTML=n),Xe.forEach(f),c=D(be),u=_(be,"DIV",{class:!0});var ce=v(u);h=_(ce,"DIV",{class:!0});var et=v(h);m=_(et,"FORM",{class:!0});var Nt=v(m);p=_(Nt,"DIV",{class:!0});var It=v(p);b=_(It,"DIV",{class:!0});var Qt=v(b);g=_(Qt,"INPUT",{type:!0,accept:!0}),E=D(Qt),w=_(Qt,"BUTTON",{class:!0,type:!0});var jt=v(w);k=_(jt,"IMG",{src:!0,class:!0,alt:!0}),T=D(jt),y=_(jt,"DIV",{class:!0});var qt=v(y);V=_(qt,"DIV",{class:!0});var xt=v(V);pe($.$$.fragment,xt),xt.forEach(f),qt.forEach(f),jt.forEach(f),Qt.forEach(f),M=D(It),S=_(It,"DIV",{class:!0});var mt=v(S);L=_(mt,"DIV",{class:!0});var zt=v(L);P=_(zt,"DIV",{class:!0});var _l=v(P);q=R(_l,N),_l.forEach(f),j=D(zt),O=_(zt,"DIV",{class:!0});var rl=v(O);G=_(rl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),rl.forEach(f),zt.forEach(f),H=D(mt),U=_(mt,"DIV",{class:!0});var hl=v(U);W=_(hl,"DIV",{class:!0});var Jt=v(W);F=R(Jt,J),Jt.forEach(f),z=D(hl),x=_(hl,"DIV",{class:!0});var pl=v(x);re=_(pl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),pl.forEach(f),hl.forEach(f),mt.forEach(f),Q=D(It),ie=_(It,"DIV",{class:!0});var nl=v(ie);fe=_(nl,"DIV",{class:!0});var gl=v(fe);Re=R(gl,Le),gl.forEach(f),$e=D(nl),Me=_(nl,"DIV",{class:!0});var ol=v(Me);Oe=_(ol,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),ol.forEach(f),nl.forEach(f),tt=D(It),ne=_(It,"HR",{class:!0}),de=D(It),Ve=_(It,"DIV",{class:!0});var Vl=v(Ve);De=_(Vl,"DIV",{class:!0});var dl=v(De);pe(Ue.$$.fragment,dl),dl.forEach(f),Vl.forEach(f),Ke=D(It),We=_(It,"HR",{class:!0}),qe=D(It),_e=_(It,"DIV",{class:!0});var Tl=v(_e);ue=_(Tl,"DIV",{class:!0});var al=v(ue);ge=_(al,"DIV",{class:!0});var vl=v(ge);Ee=R(vl,ke),vl.forEach(f),Be=D(al),rt=_(al,"DIV",{});var Al=v(rt);oe=_(Al,"BUTTON",{class:!0,type:!0});var Gl=v(oe);vt.l(Gl),Gl.forEach(f),Al.forEach(f),al.forEach(f),Fe=D(Tl),se.l(Tl),Tl.forEach(f),lt=D(It),at=_(It,"HR",{class:!0}),nt=D(It),it=_(It,"DIV",{class:!0});var Ll=v(it);Ye=_(Ll,"SELECT",{class:!0});var Bl=v(Ye);ze=_(Bl,"OPTION",{});var Hl=v(ze);bt=R(Hl,ht),Hl.forEach(f);for(let zl=0;zl<He.length;zl+=1)He[zl].l(Bl);Bl.forEach(f),dt=D(Ll),kt=_(Ll,"DIV",{});var bl=v(kt);st=_(bl,"BUTTON",{type:!0});var Fl=v(st);pe(Ae.$$.fragment,Fl),Fl.forEach(f),bl.forEach(f),Ll.forEach(f),It.forEach(f),Je=D(Nt),Ce=_(Nt,"DIV",{class:!0});var Zl=v(Ce);je&&je.l(Zl),Qe=D(Zl),Ie=_(Zl,"BUTTON",{class:!0,type:!0});var il=v(Ie);Mt=R(il,Ge),Ot=D(il),$t&&$t.l(il),il.forEach(f),Zl.forEach(f),Nt.forEach(f),et.forEach(f),ce.forEach(f),be.forEach(f),this.h()},h(){i(s,"class","text-lg font-medium self-center font-primary"),i(o,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),i(g,"type","file"),g.hidden=!0,i(g,"accept","image/*"),Ps(k.src,I=l[5])||i(k,"src",I),i(k,"class","size-16 rounded-full object-cover shrink-0"),i(k,"alt","Profile"),i(V,"class","my-auto text-white"),i(y,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),i(w,"class","relative rounded-full w-fit h-fit shrink-0"),i(w,"type","button"),i(b,"class","flex justify-center pb-3"),i(P,"class","mb-0.5 text-xs text-gray-500"),i(G,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),i(G,"type","text"),i(G,"placeholder",Z=l[14].t("Model Name")),i(G,"autocomplete","off"),G.required=!0,i(O,"class","flex-1"),i(L,"class","flex flex-col w-full"),i(W,"class","mb-0.5 text-xs text-gray-500"),i(re,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),i(re,"type","text"),i(re,"placeholder",ee=l[14].t("Model ID")),i(re,"autocomplete","off"),re.required=!0,re.disabled=l[1],i(x,"class","flex-1"),i(U,"class","flex flex-col w-full"),i(S,"class","flex gap-2"),i(fe,"class","mb-1 text-xs text-gray-500"),i(Oe,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),i(Oe,"type","text"),i(Oe,"placeholder",Pe=l[14].t("Enter description")),i(Oe,"autocomplete","off"),i(Me,"class","flex-1"),i(ie,"class","flex flex-col w-full mt-2"),i(ne,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),i(De,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),i(Ve,"class","my-2 -mx-2"),i(We,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),i(ge,"class","text-xs text-gray-500"),i(oe,"class","text-xs text-gray-500"),i(oe,"type","button"),i(ue,"class","mb-1 flex justify-between"),i(_e,"class","flex flex-col w-full"),i(at,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),ze.__value="",te(ze,ze.__value),i(Ye,"class",Et="w-full py-1 text-sm rounded-lg bg-transparent "+(l[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),l[7]===void 0&&Il(()=>l[30].call(Ye)),i(st,"type","button"),i(it,"class","flex items-center"),i(p,"class","px-1"),i(Ie,"class",Rt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[12]?" cursor-not-allowed":"")),i(Ie,"type","submit"),Ie.disabled=l[12],i(Ce,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),i(m,"class","flex flex-col w-full"),i(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(Ne,be){B(Ne,e,be),r(e,t),r(t,s),Vt.m(s,null),r(t,a),r(t,o),r(e,c),r(e,u),r(u,h),r(h,m),r(m,p),r(p,b),r(b,g),l[20](g),r(b,E),r(b,w),r(w,k),r(w,T),r(w,y),r(y,V),ve($,V,null),r(p,M),r(p,S),r(S,L),r(L,P),r(P,q),r(L,j),r(L,O),r(O,G),te(G,l[3]),r(S,H),r(S,U),r(U,W),r(W,F),r(U,z),r(U,x),r(x,re),te(re,l[4]),r(p,Q),r(p,ie),r(ie,fe),r(fe,Re),r(ie,$e),r(ie,Me),r(Me,Oe),te(Oe,l[6]),r(p,tt),r(p,ne),r(p,de),r(p,Ve),r(Ve,De),ve(Ue,De,null),r(p,Ke),r(p,We),r(p,qe),r(p,_e),r(_e,ue),r(ue,ge),r(ge,Ee),r(ue,Be),r(ue,rt),r(rt,oe),vt.m(oe,null),r(_e,Fe),_t[le].m(_e,null),r(p,lt),r(p,at),r(p,nt),r(p,it),r(it,Ye),r(Ye,ze),r(ze,bt);for(let Xe=0;Xe<He.length;Xe+=1)He[Xe]&&He[Xe].m(Ye,null);Yt(Ye,l[7],!0),r(it,dt),r(it,kt),r(kt,st),ve(Ae,st,null),r(m,Je),r(m,Ce),je&&je.m(Ce,null),r(Ce,Qe),r(Ce,Ie),r(Ie,Mt),r(Ie,Ot),$t&&$t.m(Ie,null),ut=!0,Te||(we=[ae(o,"click",l[19]),ae(g,"change",l[21]),ae(w,"click",l[22]),ae(G,"input",l[23]),ae(re,"input",l[24]),ae(Oe,"input",l[25]),ae(oe,"click",l[27]),ae(Ye,"change",l[30]),ae(st,"click",l[31]),ae(m,"submit",jl(l[33]))],Te=!0)},p(Ne,be){Dt===(Dt=Bt(Ne))&&Vt?Vt.p(Ne,be):(Vt.d(1),Vt=Dt(Ne),Vt&&(Vt.c(),Vt.m(s,null))),(!ut||be[0]&32&&!Ps(k.src,I=Ne[5]))&&i(k,"src",I),(!ut||be[0]&16384)&&N!==(N=Ne[14].t("Name")+"")&&K(q,N),(!ut||be[0]&16384&&Z!==(Z=Ne[14].t("Model Name")))&&i(G,"placeholder",Z),be[0]&8&&G.value!==Ne[3]&&te(G,Ne[3]),(!ut||be[0]&16384)&&J!==(J=Ne[14].t("ID")+"")&&K(F,J),(!ut||be[0]&16384&&ee!==(ee=Ne[14].t("Model ID")))&&i(re,"placeholder",ee),(!ut||be[0]&2)&&(re.disabled=Ne[1]),be[0]&16&&re.value!==Ne[4]&&te(re,Ne[4]),(!ut||be[0]&16384)&&Le!==(Le=Ne[14].t("Description")+"")&&K(Re,Le),(!ut||be[0]&16384&&Pe!==(Pe=Ne[14].t("Enter description")))&&i(Oe,"placeholder",Pe),be[0]&64&&Oe.value!==Ne[6]&&te(Oe,Ne[6]);const Xe={};!xe&&be[0]&1024&&(xe=!0,Xe.accessControl=Ne[10],yt(()=>xe=!1)),Ue.$set(Xe),(!ut||be[0]&16384)&&ke!==(ke=Ne[14].t("Models")+"")&&K(Ee,ke),ct===(ct=Se(Ne))&&vt?vt.p(Ne,be):(vt.d(1),vt=ct(Ne),vt&&(vt.c(),vt.m(oe,null)));let ft=le;if(le=pt(Ne),le===ft?_t[le].p(Ne,be):(Lt(),X(_t[ft],1,1,()=>{_t[ft]=null}),Ut(),se=_t[le],se?se.p(Ne,be):(se=_t[le]=Pt[le](Ne),se.c()),Y(se,1),se.m(_e,null)),(!ut||be[0]&16384)&&ht!==(ht=Ne[14].t("Select a model")+"")&&K(bt,ht),be[0]&8192){Ft=St(Ne[13].filter(Wi));let ce;for(ce=0;ce<Ft.length;ce+=1){const et=Hi(Ne,Ft,ce);He[ce]?He[ce].p(et,be):(He[ce]=Zi(et),He[ce].c(),He[ce].m(Ye,null))}for(;ce<He.length;ce+=1)He[ce].d(1);He.length=Ft.length}(!ut||be[0]&8320&&Et!==(Et="w-full py-1 text-sm rounded-lg bg-transparent "+(Ne[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"))&&i(Ye,"class",Et),be[0]&8320&&Yt(Ye,Ne[7]),Ne[1]?je?je.p(Ne,be):(je=Ki(Ne),je.c(),je.m(Ce,Qe)):je&&(je.d(1),je=null),(!ut||be[0]&16384)&&Ge!==(Ge=Ne[14].t("Save")+"")&&K(Mt,Ge),Ne[12]?$t||($t=qi(),$t.c(),$t.m(Ie,null)):$t&&($t.d(1),$t=null),(!ut||be[0]&4096&&Rt!==(Rt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(Ne[12]?" cursor-not-allowed":"")))&&i(Ie,"class",Rt),(!ut||be[0]&4096)&&(Ie.disabled=Ne[12])},i(Ne){ut||(Y($.$$.fragment,Ne),Y(Ue.$$.fragment,Ne),Y(se),Y(Ae.$$.fragment,Ne),ut=!0)},o(Ne){X($.$$.fragment,Ne),X(Ue.$$.fragment,Ne),X(se),X(Ae.$$.fragment,Ne),ut=!1},d(Ne){Ne&&f(e),Vt.d(),l[20](null),me($),me(Ue),vt.d(),_t[le].d(),ll(He,Ne),me(Ae),je&&je.d(),$t&&$t.d(),Te=!1,Xt(we)}}}function jd(l){let e,t,s;function a(n){l[34](n)}let o={size:"sm",$$slots:{default:[Hd]},$$scope:{ctx:l}};return l[0]!==void 0&&(o.show=l[0]),e=new Xa({props:o}),gt.push(()=>Tt(e,"show",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){const u={};c[0]&32767|c[1]&2048&&(u.$$scope={dirty:c,ctx:n}),!t&&c[0]&1&&(t=!0,u.show=n[0],yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}const Wi=l=>(l==null?void 0:l.owned_by)!=="arena";function Gd(l,e,t){let s,a;sl(l,kl,ee=>t(13,s=ee));const o=yl("i18n");sl(l,o,ee=>t(14,a=ee));const n=ds();let{show:c=!1}=e,{edit:u=!1}=e,{model:h=null}=e,m="",p="";const b=()=>{u||t(4,p=m.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};let g="/favicon.png",E="",w="",k=[],I="include",T={},y,V=!1;const $=()=>{w&&(t(8,k=[...k,w]),t(7,w=""))},M=()=>{if(t(12,V=!0),!m||!p){t(12,V=!1),Ze.error("Name and ID are required, please fill them out");return}if(!u&&s.find(Q=>Q.name===m)){t(12,V=!1),t(3,m=""),Ze.error("Model name already exists, please choose a different one");return}const ee={id:p,name:m,meta:{profile_image_url:g,description:E||null,model_ids:k.length>0?k:null,filter_mode:k.length>0&&I||null,access_control:T}};n("submit",ee),t(12,V=!1),t(0,c=!1),t(3,m=""),t(4,p=""),t(5,g="/favicon.png"),t(6,E=""),t(8,k=[]),t(7,w="")},S=()=>{var ee;h&&(t(3,m=h.name),t(4,p=h.id),t(5,g=h.meta.profile_image_url),t(6,E=h.meta.description),t(8,k=h.meta.model_ids||[]),t(9,I=((ee=h.meta)==null?void 0:ee.filter_mode)??"include"),t(10,T="access_control"in h.meta?h.meta.access_control:{}))};Ul(()=>{S()});const L=()=>{t(0,c=!1)};function P(ee){gt[ee?"unshift":"push"](()=>{y=ee,t(11,y)})}const N=ee=>{const Q=ee.target.files??[];let ie=new FileReader;ie.onload=fe=>{let Le=`${fe.target.result}`;const Re=new Image;Re.src=Le,Re.onload=function(){const $e=document.createElement("canvas"),Me=$e.getContext("2d"),Oe=Re.width/Re.height;let Pe,tt;Oe>1?(Pe=250*Oe,tt=250):(Pe=250,tt=250/Oe),$e.width=250,$e.height=250;const ne=(250-Pe)/2,de=(250-tt)/2;Me.drawImage(Re,ne,de,Pe,tt);const Ve=$e.toDataURL("image/jpeg");t(5,g=Ve),ee.target.files=null}},Q.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(Q[0].type)&&ie.readAsDataURL(Q[0])},q=()=>{y.click()};function j(){m=this.value,t(3,m)}function O(){p=this.value,t(4,p)}function G(){E=this.value,t(6,E)}function Z(ee){T=ee,t(10,T)}const H=()=>{t(9,I=I==="include"?"exclude":"include")},U=(ee,Q)=>Q.id===ee,W=ee=>{t(8,k=k.filter((Q,ie)=>ie!==ee))};function J(){w=wl(this),t(7,w)}const F=()=>{$()},z=()=>{n("delete",h),t(0,c=!1)},x=()=>{M()};function re(ee){c=ee,t(0,c)}return l.$$set=ee=>{"show"in ee&&t(0,c=ee.show),"edit"in ee&&t(1,u=ee.edit),"model"in ee&&t(2,h=ee.model)},l.$$.update=()=>{l.$$.dirty[0]&8&&m&&b(),l.$$.dirty[0]&1&&c&&S()},[c,u,h,m,p,g,E,w,k,I,T,y,V,s,a,o,n,$,M,L,P,N,q,j,O,G,Z,H,U,W,J,F,z,x,re]}class eo extends fl{constructor(e){super(),cl(this,e,Gd,jd,ul,{show:0,edit:1,model:2},null,[-1,-1])}}function Zd(l){var Z,H;let e,t,s,a,o,n,c,u,h,m,p,b,g,E,w=l[0].name+"",k,I,T,y,V=(((H=(Z=l[0])==null?void 0:Z.meta)==null?void 0:H.description)??l[0].id)+"",$,M,S,L,P,N,q,j;function O(U){l[3](U)}let G={edit:!0,model:l[0]};return l[1]!==void 0&&(G.show=l[1]),e=new eo({props:G}),gt.push(()=>Tt(e,"show",O)),e.$on("submit",l[4]),e.$on("delete",l[5]),P=new Ja({}),{c(){he(e.$$.fragment),s=A(),a=d("div"),o=d("div"),n=d("div"),c=d("div"),u=d("img"),p=A(),b=d("div"),g=d("div"),E=d("div"),k=C(w),I=A(),T=d("div"),y=d("div"),$=C(V),M=A(),S=d("div"),L=d("button"),he(P.$$.fragment),this.h()},l(U){pe(e.$$.fragment,U),s=D(U),a=_(U,"DIV",{class:!0});var W=v(a);o=_(W,"DIV",{class:!0});var J=v(o);n=_(J,"DIV",{class:!0});var F=v(n);c=_(F,"DIV",{class:!0});var z=v(c);u=_(z,"IMG",{src:!0,alt:!0,class:!0}),p=D(z),b=_(z,"DIV",{class:!0});var x=v(b);g=_(x,"DIV",{class:!0});var re=v(g);E=_(re,"DIV",{class:!0});var ee=v(E);k=R(ee,w),ee.forEach(f),re.forEach(f),I=D(x),T=_(x,"DIV",{class:!0});var Q=v(T);y=_(Q,"DIV",{class:!0});var ie=v(y);$=R(ie,V),ie.forEach(f),Q.forEach(f),x.forEach(f),z.forEach(f),F.forEach(f),M=D(J),S=_(J,"DIV",{class:!0});var fe=v(S);L=_(fe,"BUTTON",{class:!0,type:!0});var Le=v(L);pe(P.$$.fragment,Le),Le.forEach(f),fe.forEach(f),J.forEach(f),W.forEach(f),this.h()},h(){Ps(u.src,h=l[0].meta.profile_image_url)||i(u,"src",h),i(u,"alt",m=l[0].name),i(u,"class","size-8 rounded-full object-cover shrink-0"),i(E,"class","flex-shrink-0 line-clamp-1"),i(g,"class","flex items-center gap-1"),i(y,"class","text-xs w-full text-gray-500 bg-transparent line-clamp-1"),i(T,"class","flex items-center gap-1"),i(b,"class","w-full flex flex-col"),i(c,"class","flex gap-2.5 items-center"),i(n,"class","flex flex-col flex-1"),i(L,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),i(L,"type","button"),i(S,"class","flex items-center"),i(o,"class","flex justify-between items-center mb-1"),i(a,"class","py-0.5")},m(U,W){ve(e,U,W),B(U,s,W),B(U,a,W),r(a,o),r(o,n),r(n,c),r(c,u),r(c,p),r(c,b),r(b,g),r(g,E),r(E,k),r(b,I),r(b,T),r(T,y),r(y,$),r(o,M),r(o,S),r(S,L),ve(P,L,null),N=!0,q||(j=ae(L,"click",l[6]),q=!0)},p(U,[W]){var F,z;const J={};W&1&&(J.model=U[0]),!t&&W&2&&(t=!0,J.show=U[1],yt(()=>t=!1)),e.$set(J),(!N||W&1&&!Ps(u.src,h=U[0].meta.profile_image_url))&&i(u,"src",h),(!N||W&1&&m!==(m=U[0].name))&&i(u,"alt",m),(!N||W&1)&&w!==(w=U[0].name+"")&&K(k,w),(!N||W&1)&&V!==(V=(((z=(F=U[0])==null?void 0:F.meta)==null?void 0:z.description)??U[0].id)+"")&&K($,V)},i(U){N||(Y(e.$$.fragment,U),Y(P.$$.fragment,U),N=!0)},o(U){X(e.$$.fragment,U),X(P.$$.fragment,U),N=!1},d(U){U&&(f(s),f(a)),me(e,U),me(P),q=!1,j()}}}function Kd(l,e,t){const s=ds();yl("i18n");let{model:a}=e,o=!1;function n(m){o=m,t(1,o)}const c=async m=>{s("edit",m.detail)},u=async()=>{s("delete")},h=()=>{t(1,o=!0)};return l.$$set=m=>{"model"in m&&t(0,a=m.model)},[a,o,s,n,c,u,h]}class qd extends fl{constructor(e){super(),cl(this,e,Kd,Zd,ul,{model:0})}}function Fi(l,e,t){const s=l.slice();return s[17]=e[t],s[19]=t,s}function Wd(l){let e,t,s,a;return s=new ms({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),he(s.$$.fragment),this.h()},l(o){e=_(o,"DIV",{class:!0});var n=v(e);t=_(n,"DIV",{class:!0});var c=v(t);pe(s.$$.fragment,c),c.forEach(f),n.forEach(f),this.h()},h(){i(t,"class","my-auto"),i(e,"class","flex h-full justify-center")},m(o,n){B(o,e,n),r(e,t),ve(s,t,null),a=!0},p:wt,i(o){a||(Y(s.$$.fragment,o),a=!0)},o(o){X(s.$$.fragment,o),a=!1},d(o){o&&f(e),me(s)}}}function Fd(l){let e,t,s=l[2].t("General Settings")+"",a,o,n,c,u,h=l[2].t("Arena Models")+"",m,p,b,g,E;b=new Kt({props:{content:l[2].t("Message rating should be enabled to use this feature"),$$slots:{default:[zd]},$$scope:{ctx:l}}});let w=l[0].ENABLE_EVALUATION_ARENA_MODELS&&zi(l);return{c(){e=d("div"),t=d("div"),a=C(s),o=A(),n=d("div"),c=d("div"),u=d("div"),m=C(h),p=A(),he(b.$$.fragment),g=A(),w&&w.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var T=v(t);a=R(T,s),T.forEach(f),o=D(I),n=_(I,"DIV",{class:!0});var y=v(n);c=_(y,"DIV",{class:!0});var V=v(c);u=_(V,"DIV",{class:!0});var $=v(u);m=R($,h),$.forEach(f),p=D(V),pe(b.$$.fragment,V),V.forEach(f),y.forEach(f),g=D(I),w&&w.l(I),I.forEach(f),this.h()},h(){i(t,"class","text-sm font-medium mb-2"),i(u,"class","text-xs font-medium"),i(c,"class","flex justify-between items-center text-xs"),i(n,"class","mb-2"),i(e,"class","")},m(k,I){B(k,e,I),r(e,t),r(t,a),r(e,o),r(e,n),r(n,c),r(c,u),r(u,m),r(c,p),ve(b,c,null),r(e,g),w&&w.m(e,null),E=!0},p(k,I){(!E||I&4)&&s!==(s=k[2].t("General Settings")+"")&&K(a,s),(!E||I&4)&&h!==(h=k[2].t("Arena Models")+"")&&K(m,h);const T={};I&4&&(T.content=k[2].t("Message rating should be enabled to use this feature")),I&1048577&&(T.$$scope={dirty:I,ctx:k}),b.$set(T),k[0].ENABLE_EVALUATION_ARENA_MODELS?w?(w.p(k,I),I&1&&Y(w,1)):(w=zi(k),w.c(),Y(w,1),w.m(e,null)):w&&(Lt(),X(w,1,1,()=>{w=null}),Ut())},i(k){E||(Y(b.$$.fragment,k),Y(w),E=!0)},o(k){X(b.$$.fragment,k),X(w),E=!1},d(k){k&&f(e),me(b),w&&w.d()}}}function zd(l){let e,t,s;function a(n){l[11](n)}let o={};return l[0].ENABLE_EVALUATION_ARENA_MODELS!==void 0&&(o.state=l[0].ENABLE_EVALUATION_ARENA_MODELS),e=new ml({props:o}),gt.push(()=>Tt(e,"state",a)),{c(){he(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,c){ve(e,n,c),s=!0},p(n,c){const u={};!t&&c&1&&(t=!0,u.state=n[0].ENABLE_EVALUATION_ARENA_MODELS,yt(()=>t=!1)),e.$set(u)},i(n){s||(Y(e.$$.fragment,n),s=!0)},o(n){X(e.$$.fragment,n),s=!1},d(n){me(e,n)}}}function zi(l){let e,t,s,a,o=l[2].t("Manage Arena Models")+"",n,c,u,h,m,p,b,g,E;h=new Kt({props:{content:l[2].t("Add Arena Model"),$$slots:{default:[Yd]},$$scope:{ctx:l}}});const w=[Jd,Qd],k=[];function I(T,y){var V;return(((V=T[0])==null?void 0:V.EVALUATION_ARENA_MODELS)??[]).length>0?0:1}return b=I(l),g=k[b]=w[b](l),{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),n=C(o),c=A(),u=d("div"),he(h.$$.fragment),m=A(),p=d("div"),g.c(),this.h()},l(T){e=_(T,"HR",{class:!0}),t=D(T),s=_(T,"DIV",{class:!0});var y=v(s);a=_(y,"DIV",{class:!0});var V=v(a);n=R(V,o),V.forEach(f),c=D(y),u=_(y,"DIV",{});var $=v(u);pe(h.$$.fragment,$),$.forEach(f),y.forEach(f),m=D(T),p=_(T,"DIV",{class:!0});var M=v(p);g.l(M),M.forEach(f),this.h()},h(){i(e,"class","border-gray-50 dark:border-gray-700/10 my-2"),i(a,"class","text-sm font-medium"),i(s,"class","flex justify-between items-center mb-2"),i(p,"class","flex flex-col gap-2")},m(T,y){B(T,e,y),B(T,t,y),B(T,s,y),r(s,a),r(a,n),r(s,c),r(s,u),ve(h,u,null),B(T,m,y),B(T,p,y),k[b].m(p,null),E=!0},p(T,y){(!E||y&4)&&o!==(o=T[2].t("Manage Arena Models")+"")&&K(n,o);const V={};y&4&&(V.content=T[2].t("Add Arena Model")),y&1048578&&(V.$$scope={dirty:y,ctx:T}),h.$set(V);let $=b;b=I(T),b===$?k[b].p(T,y):(Lt(),X(k[$],1,1,()=>{k[$]=null}),Ut(),g=k[b],g?g.p(T,y):(g=k[b]=w[b](T),g.c()),Y(g,1),g.m(p,null))},i(T){E||(Y(h.$$.fragment,T),Y(g),E=!0)},o(T){X(h.$$.fragment,T),X(g),E=!1},d(T){T&&(f(e),f(t),f(s),f(m),f(p)),me(h),k[b].d()}}}function Yd(l){let e,t,s,a,o;return t=new Qs({}),{c(){e=d("button"),he(t.$$.fragment),this.h()},l(n){e=_(n,"BUTTON",{class:!0,type:!0});var c=v(e);pe(t.$$.fragment,c),c.forEach(f),this.h()},h(){i(e,"class","p-1"),i(e,"type","button")},m(n,c){B(n,e,c),ve(t,e,null),s=!0,a||(o=ae(e,"click",l[12]),a=!0)},p:wt,i(n){s||(Y(t.$$.fragment,n),s=!0)},o(n){X(t.$$.fragment,n),s=!1},d(n){n&&f(e),me(t),a=!1,o()}}}function Qd(l){let e,t=l[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"",s;return{c(){e=d("div"),s=C(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var o=v(e);s=R(o,t),o.forEach(f),this.h()},h(){i(e,"class","text-center text-xs text-gray-500")},m(a,o){B(a,e,o),r(e,s)},p(a,o){o&4&&t!==(t=a[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"")&&K(s,t)},i:wt,o:wt,d(a){a&&f(e)}}}function Jd(l){let e,t,s=St(l[0].EVALUATION_ARENA_MODELS),a=[];for(let n=0;n<s.length;n+=1)a[n]=Yi(Fi(l,s,n));const o=n=>X(a[n],1,1,()=>{a[n]=null});return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=tl()},l(n){for(let c=0;c<a.length;c+=1)a[c].l(n);e=tl()},m(n,c){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(n,c);B(n,e,c),t=!0},p(n,c){if(c&385){s=St(n[0].EVALUATION_ARENA_MODELS);let u;for(u=0;u<s.length;u+=1){const h=Fi(n,s,u);a[u]?(a[u].p(h,c),Y(a[u],1)):(a[u]=Yi(h),a[u].c(),Y(a[u],1),a[u].m(e.parentNode,e))}for(Lt(),u=s.length;u<a.length;u+=1)o(u);Ut()}},i(n){if(!t){for(let c=0;c<s.length;c+=1)Y(a[c]);t=!0}},o(n){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)X(a[c]);t=!1},d(n){n&&f(e),ll(a,n)}}}function Yi(l){let e,t;function s(...o){return l[13](l[19],...o)}function a(...o){return l[14](l[19],...o)}return e=new qd({props:{model:l[17]}}),e.$on("edit",s),e.$on("delete",a),{c(){he(e.$$.fragment)},l(o){pe(e.$$.fragment,o)},m(o,n){ve(e,o,n),t=!0},p(o,n){l=o;const c={};n&1&&(c.model=l[17]),e.$set(c)},i(o){t||(Y(e.$$.fragment,o),t=!0)},o(o){X(e.$$.fragment,o),t=!1},d(o){me(e,o)}}}function Xd(l){let e,t,s,a,o,n,c,u,h,m,p=l[2].t("Save")+"",b,g,E,w;function k($){l[9]($)}let I={};l[1]!==void 0&&(I.show=l[1]),e=new eo({props:I}),gt.push(()=>Tt(e,"show",k)),e.$on("submit",l[10]);const T=[Fd,Wd],y=[];function V($,M){return $[0]!==null?0:1}return n=V(l),c=y[n]=T[n](l),{c(){he(e.$$.fragment),s=A(),a=d("form"),o=d("div"),c.c(),u=A(),h=d("div"),m=d("button"),b=C(p),this.h()},l($){pe(e.$$.fragment,$),s=D($),a=_($,"FORM",{class:!0});var M=v(a);o=_(M,"DIV",{class:!0});var S=v(o);c.l(S),S.forEach(f),u=D(M),h=_(M,"DIV",{class:!0});var L=v(h);m=_(L,"BUTTON",{class:!0,type:!0});var P=v(m);b=R(P,p),P.forEach(f),L.forEach(f),M.forEach(f),this.h()},h(){i(o,"class","overflow-y-scroll scrollbar-hidden h-full"),i(m,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),i(m,"type","submit"),i(h,"class","flex justify-end pt-3 text-sm font-medium"),i(a,"class","flex flex-col h-full justify-between text-sm")},m($,M){ve(e,$,M),B($,s,M),B($,a,M),r(a,o),y[n].m(o,null),r(a,u),r(a,h),r(h,m),r(m,b),g=!0,E||(w=ae(a,"submit",jl(l[15])),E=!0)},p($,[M]){const S={};!t&&M&2&&(t=!0,S.show=$[1],yt(()=>t=!1)),e.$set(S);let L=n;n=V($),n===L?y[n].p($,M):(Lt(),X(y[L],1,1,()=>{y[L]=null}),Ut(),c=y[n],c?c.p($,M):(c=y[n]=T[n]($),c.c()),Y(c,1),c.m(o,null)),(!g||M&4)&&p!==(p=$[2].t("Save")+"")&&K(b,p)},i($){g||(Y(e.$$.fragment,$),Y(c),g=!0)},o($){X(e.$$.fragment,$),X(c),g=!1},d($){$&&(f(s),f(a)),me(e,$),y[n].d(),E=!1,w()}}}function xd(l,e,t){let s,a;sl(l,Ys,V=>t(16,s=V));const o=ds(),n=yl("i18n");sl(l,n,V=>t(2,a=V));let c=null,u=!1;const h=async()=>{t(0,c=await _u(localStorage.token,c).catch(V=>(Ze.error(V),null))),c&&Ze.success("Settings saved successfully")},m=async V=>{c.EVALUATION_ARENA_MODELS.push(V),t(0,c.EVALUATION_ARENA_MODELS=[...c.EVALUATION_ARENA_MODELS],c),await h(),kl.set(await Pl(localStorage.token))},p=async(V,$)=>{t(0,c.EVALUATION_ARENA_MODELS[$]=V,c),t(0,c.EVALUATION_ARENA_MODELS=[...c.EVALUATION_ARENA_MODELS],c),await h(),kl.set(await Pl(localStorage.token))},b=async V=>{t(0,c.EVALUATION_ARENA_MODELS=c.EVALUATION_ARENA_MODELS.filter(($,M)=>M!==V),c),await h(),kl.set(await Pl(localStorage.token))};Ul(async()=>{s.role==="admin"&&t(0,c=await du(localStorage.token).catch(V=>(Ze.error(V),null)))});function g(V){u=V,t(1,u)}const E=async V=>{m(V.detail)};function w(V){l.$$.not_equal(c.ENABLE_EVALUATION_ARENA_MODELS,V)&&(c.ENABLE_EVALUATION_ARENA_MODELS=V,t(0,c))}return[c,u,a,o,n,h,m,p,b,g,E,w,()=>{t(1,u=!0)},(V,$)=>{p($.detail,V)},(V,$)=>{b(V)},()=>{h(),o("save")}]}class e1 extends fl{constructor(e){super(),cl(this,e,xd,Xd,ul,{})}}function t1(l){let e,t;return e=new Qu({props:{saveHandler:l[22]}}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p(s,a){const o={};a&2&&(o.saveHandler=s[22]),e.$set(o)},i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function l1(l){let e,t;return e=new vu({props:{saveHandler:l[21]}}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p(s,a){const o={};a&2&&(o.saveHandler=s[21]),e.$set(o)},i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function s1(l){let e,t;return e=new Af({}),e.$on("save",l[20]),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function a1(l){let e,t;return e=new df({props:{saveHandler:l[19]}}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p(s,a){const o={};a&2&&(o.saveHandler=s[19]),e.$set(o)},i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function r1(l){let e,t;return e=new Pf({}),e.$on("save",l[18]),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function n1(l){let e,t;return e=new $d({props:{saveHandler:l[17]}}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p(s,a){const o={};a&2&&(o.saveHandler=s[17]),e.$set(o)},i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function i1(l){let e,t;return e=new hd({}),e.$on("save",l[16]),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function o1(l){let e,t;return e=new e1({}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function u1(l){let e,t;return e=new Wf({}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function f1(l){let e,t;return e=new Xc({}),e.$on("save",l[15]),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function c1(l){let e,t;return e=new yu({props:{saveHandler:l[14]}}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p(s,a){const o={};a&2&&(o.saveHandler=s[14]),e.$set(o)},i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function d1(l){let e,t,s,a,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',n,c,u=l[1].t("General")+"",h,m,p,b,g,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',w,k,I=l[1].t("Connections")+"",T,y,V,$,M,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',L,P,N=l[1].t("Models")+"",q,j,O,G,Z,H,U,W,J=l[1].t("Evaluations")+"",F,z,x,re,ee,Q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ie,fe,Le=l[1].t("Documents")+"",Re,$e,Me,Oe,Pe,tt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',ne,de,Ve=l[1].t("Web Search")+"",De,Ue,xe,Ke,We,qe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',_e,ue,ge=l[1].t("Interface")+"",ke,Ee,Be,rt,oe,Fe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',le,se,lt=l[1].t("Audio")+"",at,nt,it,Ye,ze,ht='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',bt,Et,dt=l[1].t("Images")+"",kt,st,Ae,Je,Ce,Qe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',Ie,Ge,Mt=l[1].t("Pipelines")+"",Ot,Rt,ut,Te,we,Bt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Dt,Vt,Ht=l[1].t("Database")+"",At,Se,ct,vt,Pt,_t,pt,Ft,He;H=new Od({});const je=[c1,f1,u1,o1,i1,n1,r1,a1,s1,l1,t1],$t=[];function Ne(be,Xe){return be[0]==="general"?0:be[0]==="connections"?1:be[0]==="models"?2:be[0]==="evaluations"?3:be[0]==="documents"?4:be[0]==="web"?5:be[0]==="interface"?6:be[0]==="audio"?7:be[0]==="images"?8:be[0]==="db"?9:be[0]==="pipelines"?10:-1}return~(Pt=Ne(l))&&(_t=$t[Pt]=je[Pt](l)),{c(){e=d("div"),t=d("div"),s=d("button"),a=d("div"),a.innerHTML=o,n=A(),c=d("div"),h=C(u),p=A(),b=d("button"),g=d("div"),g.innerHTML=E,w=A(),k=d("div"),T=C(I),V=A(),$=d("button"),M=d("div"),M.innerHTML=S,L=A(),P=d("div"),q=C(N),O=A(),G=d("button"),Z=d("div"),he(H.$$.fragment),U=A(),W=d("div"),F=C(J),x=A(),re=d("button"),ee=d("div"),ee.innerHTML=Q,ie=A(),fe=d("div"),Re=C(Le),Me=A(),Oe=d("button"),Pe=d("div"),Pe.innerHTML=tt,ne=A(),de=d("div"),De=C(Ve),xe=A(),Ke=d("button"),We=d("div"),We.innerHTML=qe,_e=A(),ue=d("div"),ke=C(ge),Be=A(),rt=d("button"),oe=d("div"),oe.innerHTML=Fe,le=A(),se=d("div"),at=C(lt),it=A(),Ye=d("button"),ze=d("div"),ze.innerHTML=ht,bt=A(),Et=d("div"),kt=C(dt),Ae=A(),Je=d("button"),Ce=d("div"),Ce.innerHTML=Qe,Ie=A(),Ge=d("div"),Ot=C(Mt),ut=A(),Te=d("button"),we=d("div"),we.innerHTML=Bt,Dt=A(),Vt=d("div"),At=C(Ht),ct=A(),vt=d("div"),_t&&_t.c(),this.h()},l(be){e=_(be,"DIV",{class:!0});var Xe=v(e);t=_(Xe,"DIV",{id:!0,class:!0});var ft=v(t);s=_(ft,"BUTTON",{class:!0});var ce=v(s);a=_(ce,"DIV",{class:!0,"data-svelte-h":!0}),Ct(a)!=="svelte-1e9u9pw"&&(a.innerHTML=o),n=D(ce),c=_(ce,"DIV",{class:!0});var et=v(c);h=R(et,u),et.forEach(f),ce.forEach(f),p=D(ft),b=_(ft,"BUTTON",{class:!0});var Nt=v(b);g=_(Nt,"DIV",{class:!0,"data-svelte-h":!0}),Ct(g)!=="svelte-1xixjje"&&(g.innerHTML=E),w=D(Nt),k=_(Nt,"DIV",{class:!0});var It=v(k);T=R(It,I),It.forEach(f),Nt.forEach(f),V=D(ft),$=_(ft,"BUTTON",{class:!0});var Qt=v($);M=_(Qt,"DIV",{class:!0,"data-svelte-h":!0}),Ct(M)!=="svelte-17kkxfv"&&(M.innerHTML=S),L=D(Qt),P=_(Qt,"DIV",{class:!0});var jt=v(P);q=R(jt,N),jt.forEach(f),Qt.forEach(f),O=D(ft),G=_(ft,"BUTTON",{class:!0});var qt=v(G);Z=_(qt,"DIV",{class:!0});var xt=v(Z);pe(H.$$.fragment,xt),xt.forEach(f),U=D(qt),W=_(qt,"DIV",{class:!0});var mt=v(W);F=R(mt,J),mt.forEach(f),qt.forEach(f),x=D(ft),re=_(ft,"BUTTON",{class:!0});var zt=v(re);ee=_(zt,"DIV",{class:!0,"data-svelte-h":!0}),Ct(ee)!=="svelte-ofbvgh"&&(ee.innerHTML=Q),ie=D(zt),fe=_(zt,"DIV",{class:!0});var _l=v(fe);Re=R(_l,Le),_l.forEach(f),zt.forEach(f),Me=D(ft),Oe=_(ft,"BUTTON",{class:!0});var rl=v(Oe);Pe=_(rl,"DIV",{class:!0,"data-svelte-h":!0}),Ct(Pe)!=="svelte-1t9ru36"&&(Pe.innerHTML=tt),ne=D(rl),de=_(rl,"DIV",{class:!0});var hl=v(de);De=R(hl,Ve),hl.forEach(f),rl.forEach(f),xe=D(ft),Ke=_(ft,"BUTTON",{class:!0});var Jt=v(Ke);We=_(Jt,"DIV",{class:!0,"data-svelte-h":!0}),Ct(We)!=="svelte-1i52rm6"&&(We.innerHTML=qe),_e=D(Jt),ue=_(Jt,"DIV",{class:!0});var pl=v(ue);ke=R(pl,ge),pl.forEach(f),Jt.forEach(f),Be=D(ft),rt=_(ft,"BUTTON",{class:!0});var nl=v(rt);oe=_(nl,"DIV",{class:!0,"data-svelte-h":!0}),Ct(oe)!=="svelte-sf0iba"&&(oe.innerHTML=Fe),le=D(nl),se=_(nl,"DIV",{class:!0});var gl=v(se);at=R(gl,lt),gl.forEach(f),nl.forEach(f),it=D(ft),Ye=_(ft,"BUTTON",{class:!0});var ol=v(Ye);ze=_(ol,"DIV",{class:!0,"data-svelte-h":!0}),Ct(ze)!=="svelte-1gc3odz"&&(ze.innerHTML=ht),bt=D(ol),Et=_(ol,"DIV",{class:!0});var Vl=v(Et);kt=R(Vl,dt),Vl.forEach(f),ol.forEach(f),Ae=D(ft),Je=_(ft,"BUTTON",{class:!0});var dl=v(Je);Ce=_(dl,"DIV",{class:!0,"data-svelte-h":!0}),Ct(Ce)!=="svelte-1q46caf"&&(Ce.innerHTML=Qe),Ie=D(dl),Ge=_(dl,"DIV",{class:!0});var Tl=v(Ge);Ot=R(Tl,Mt),Tl.forEach(f),dl.forEach(f),ut=D(ft),Te=_(ft,"BUTTON",{class:!0});var al=v(Te);we=_(al,"DIV",{class:!0,"data-svelte-h":!0}),Ct(we)!=="svelte-35c53k"&&(we.innerHTML=Bt),Dt=D(al),Vt=_(al,"DIV",{class:!0});var vl=v(Vt);At=R(vl,Ht),vl.forEach(f),al.forEach(f),ft.forEach(f),ct=D(Xe),vt=_(Xe,"DIV",{class:!0});var Al=v(vt);_t&&_t.l(Al),Al.forEach(f),Xe.forEach(f),this.h()},h(){i(a,"class","self-center mr-2"),i(c,"class","self-center"),i(s,"class",m="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(l[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(g,"class","self-center mr-2"),i(k,"class","self-center"),i(b,"class",y="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(M,"class","self-center mr-2"),i(P,"class","self-center"),i($,"class",j="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(Z,"class","self-center mr-2"),i(W,"class","self-center"),i(G,"class",z="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(ee,"class","self-center mr-2"),i(fe,"class","self-center"),i(re,"class",$e="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(Pe,"class","self-center mr-2"),i(de,"class","self-center"),i(Oe,"class",Ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(We,"class","self-center mr-2"),i(ue,"class","self-center"),i(Ke,"class",Ee="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(oe,"class","self-center mr-2"),i(se,"class","self-center"),i(rt,"class",nt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(ze,"class","self-center mr-2"),i(Et,"class","self-center"),i(Ye,"class",st="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(Ce,"class","self-center mr-2"),i(Ge,"class","self-center"),i(Je,"class",Rt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(we,"class","self-center mr-2"),i(Vt,"class","self-center"),i(Te,"class",Se="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(t,"id","admin-settings-tabs-container"),i(t,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),i(vt,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll pr-1 scrollbar-hidden"),i(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(be,Xe){B(be,e,Xe),r(e,t),r(t,s),r(s,a),r(s,n),r(s,c),r(c,h),r(t,p),r(t,b),r(b,g),r(b,w),r(b,k),r(k,T),r(t,V),r(t,$),r($,M),r($,L),r($,P),r(P,q),r(t,O),r(t,G),r(G,Z),ve(H,Z,null),r(G,U),r(G,W),r(W,F),r(t,x),r(t,re),r(re,ee),r(re,ie),r(re,fe),r(fe,Re),r(t,Me),r(t,Oe),r(Oe,Pe),r(Oe,ne),r(Oe,de),r(de,De),r(t,xe),r(t,Ke),r(Ke,We),r(Ke,_e),r(Ke,ue),r(ue,ke),r(t,Be),r(t,rt),r(rt,oe),r(rt,le),r(rt,se),r(se,at),r(t,it),r(t,Ye),r(Ye,ze),r(Ye,bt),r(Ye,Et),r(Et,kt),r(t,Ae),r(t,Je),r(Je,Ce),r(Je,Ie),r(Je,Ge),r(Ge,Ot),r(t,ut),r(t,Te),r(Te,we),r(Te,Dt),r(Te,Vt),r(Vt,At),r(e,ct),r(e,vt),~Pt&&$t[Pt].m(vt,null),pt=!0,Ft||(He=[ae(s,"click",l[3]),ae(b,"click",l[4]),ae($,"click",l[5]),ae(G,"click",l[6]),ae(re,"click",l[7]),ae(Oe,"click",l[8]),ae(Ke,"click",l[9]),ae(rt,"click",l[10]),ae(Ye,"click",l[11]),ae(Je,"click",l[12]),ae(Te,"click",l[13])],Ft=!0)},p(be,[Xe]){(!pt||Xe&2)&&u!==(u=be[1].t("General")+"")&&K(h,u),(!pt||Xe&1&&m!==(m="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(be[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(s,"class",m),(!pt||Xe&2)&&I!==(I=be[1].t("Connections")+"")&&K(T,I),(!pt||Xe&1&&y!==(y="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(b,"class",y),(!pt||Xe&2)&&N!==(N=be[1].t("Models")+"")&&K(q,N),(!pt||Xe&1&&j!==(j="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i($,"class",j),(!pt||Xe&2)&&J!==(J=be[1].t("Evaluations")+"")&&K(F,J),(!pt||Xe&1&&z!==(z="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(G,"class",z),(!pt||Xe&2)&&Le!==(Le=be[1].t("Documents")+"")&&K(Re,Le),(!pt||Xe&1&&$e!==($e="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(re,"class",$e),(!pt||Xe&2)&&Ve!==(Ve=be[1].t("Web Search")+"")&&K(De,Ve),(!pt||Xe&1&&Ue!==(Ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(Oe,"class",Ue),(!pt||Xe&2)&&ge!==(ge=be[1].t("Interface")+"")&&K(ke,ge),(!pt||Xe&1&&Ee!==(Ee="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(Ke,"class",Ee),(!pt||Xe&2)&&lt!==(lt=be[1].t("Audio")+"")&&K(at,lt),(!pt||Xe&1&&nt!==(nt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(rt,"class",nt),(!pt||Xe&2)&&dt!==(dt=be[1].t("Images")+"")&&K(kt,dt),(!pt||Xe&1&&st!==(st="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(Ye,"class",st),(!pt||Xe&2)&&Mt!==(Mt=be[1].t("Pipelines")+"")&&K(Ot,Mt),(!pt||Xe&1&&Rt!==(Rt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(Je,"class",Rt),(!pt||Xe&2)&&Ht!==(Ht=be[1].t("Database")+"")&&K(At,Ht),(!pt||Xe&1&&Se!==(Se="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(Te,"class",Se);let ft=Pt;Pt=Ne(be),Pt===ft?~Pt&&$t[Pt].p(be,Xe):(_t&&(Lt(),X($t[ft],1,1,()=>{$t[ft]=null}),Ut()),~Pt?(_t=$t[Pt],_t?_t.p(be,Xe):(_t=$t[Pt]=je[Pt](be),_t.c()),Y(_t,1),_t.m(vt,null)):_t=null)},i(be){pt||(Y(H.$$.fragment,be),Y(_t),pt=!0)},o(be){X(H.$$.fragment,be),X(_t),pt=!1},d(be){be&&f(e),me(H),~Pt&&$t[Pt].d(),Ft=!1,Xt(He)}}}function _1(l,e,t){let s;const a=yl("i18n");sl(l,a,N=>t(1,s=N));let o="general";return Ul(()=>{const N=document.getElementById("admin-settings-tabs-container");N&&N.addEventListener("wheel",function(q){q.deltaY!==0&&(N.scrollLeft+=q.deltaY)})}),[o,s,a,()=>{t(0,o="general")},()=>{t(0,o="connections")},()=>{t(0,o="models")},()=>{t(0,o="evaluations")},()=>{t(0,o="documents")},()=>{t(0,o="web")},()=>{t(0,o="interface")},()=>{t(0,o="audio")},()=>{t(0,o="images")},()=>{t(0,o="pipelines")},()=>{t(0,o="db")},async()=>{Ze.success(s.t("Settings saved successfully!")),await zs(),await cs.set(await Os())},()=>{Ze.success(s.t("Settings saved successfully!"))},async()=>{Ze.success(s.t("Settings saved successfully!")),await zs(),await cs.set(await Os())},async()=>{Ze.success(s.t("Settings saved successfully!")),await zs(),await cs.set(await Os())},()=>{Ze.success(s.t("Settings saved successfully!"))},()=>{Ze.success(s.t("Settings saved successfully!"))},()=>{Ze.success(s.t("Settings saved successfully!"))},()=>{Ze.success(s.t("Settings saved successfully!"))},()=>{Ze.success(s.t("Settings saved successfully!"))}]}class h1 extends fl{constructor(e){super(),cl(this,e,_1,d1,ul,{})}}function p1(l){let e,t;return e=new h1({}),{c(){he(e.$$.fragment)},l(s){pe(e.$$.fragment,s)},m(s,a){ve(e,s,a),t=!0},p:wt,i(s){t||(Y(e.$$.fragment,s),t=!0)},o(s){X(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}class Y1 extends fl{constructor(e){super(),cl(this,e,null,p1,ul,{})}}export{Y1 as component};
//# sourceMappingURL=12.fhWhNBKu.js.map
