import{s as nt,y as lt,k as V,o as A,i as O,A as mt,d as f,B as Dt,p as gt,j as Ve,e as h,t as U,c as m,a as v,b as P,I as xe,f as u,g as c,C as Re,u as te,h as j,H as it,n as ye,Q as Ct,E as _t,F as vt,r as Zl,v as Yl,w as Jl,x as Kl,l as ft,Z as ht,q as $t,N as ql,D as Fl,X as ii,O as Ml,a0 as Lo,aj as ci,ak as fi,S as sr,z as Gl,P as cl,R as cs,al as Wl}from"../chunks/scheduler.CvZYoJ9P.js";import{S as at,i as ot,f as pt,b as re,d as ne,m as ae,t as W,a as K,e as oe,g as qe,c as Ge,j as Mo}from"../chunks/index.C1N8d1hw.js";import{t as Ue}from"../chunks/Toaster.svelte_svelte_type_style_lang.ChidyyUD.js";import{f as hs}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as Ol}from"../chunks/entry.BsJDnQad.js";import{p as ui}from"../chunks/stores.DXlpsfYI.js";import{f as Oo}from"../chunks/index.Cudv6G18.js";import{c as Xl,g as $r,w as nl,i as Tr,x as di,y as rl,z as rr,l as ds,s as Ot,B as br,u as Bl,j as Bo,C as fs,d as hi,e as ms,D as mi,W as Uo,a as fl,E as tr,h as al,r as pi,m as Po,q as wr,v as _i,t as vi}from"../chunks/index.Dh8PXriy.js";import{n as Ho,g as xo,o as gi}from"../chunks/index.CusVmKHs.js";import{b as ra,v as bi,k as us,o as wi,l as na,c as Vr,g as ki,p as yi,q as Ei}from"../chunks/index.C-Yl_4Dq.js";import{g as Ii}from"../chunks/index.mJpT6BTA.js";import{S as jo,g as Di}from"../chunks/SensitiveInput.DPgbJTlr.js";import{f as $i,h as zo,i as Ti}from"../chunks/index.BfIxVW2M.js";import{e as Xe,u as or,o as ir}from"../chunks/each.BAtknz4E.js";import{k as Qs,l as Ar,i as Ro,m as Vi,t as Cr,e as Nl,n as Ai,u as Ci,o as Ll,p as Sr,q as Si,c as nr,r as Ni,v as lr,w as Nr,x as kr,y as Li,z as Mi,A as Oi,B as aa}from"../chunks/index.C1FCzb-X.js";import{d as ar}from"../chunks/dayjs.min.CnqrW7zs.js";import{M as Ql}from"../chunks/Modal.DHNRbNDK.js";import{T as At,p as oa}from"../chunks/Tooltip.DE9EGTmQ.js";import{C as Or}from"../chunks/ConfirmDialog.BlzuV8fX.js";import{M as Bi,T as Ui,A as Wo,a as Pi,b as Hi,S as xi,U as ji,c as zi,u as Ri,g as er,d as Wi,e as Fi}from"../chunks/index.Uvr8tUJM.js";import"../chunks/updater.iOEUNrP6.js";import{D as Fo,M as Bt}from"../chunks/Dropdown.Dbsi7U2M.js";import{b as Zo}from"../chunks/menu-trigger.BIDVZcLU.js";import{f as Br}from"../chunks/index.DyIcjikr.js";import{G as Ur}from"../chunks/GarbageBin.Dh_RelJn.js";import{P as Yo}from"../chunks/Pencil.DFi5hT5Y.js";import{D as Zi,S as Yi}from"../chunks/DocumentDuplicate.CysMweA3.js";import{a as Ji,g as Ki}from"../chunks/index.BnGSMWXY.js";import{C as qi}from"../chunks/Check.CrANiTlO.js";import{X as Jo}from"../chunks/XMark.CMt8xzLL.js";import{S as Ko}from"../chunks/Spinner.D_9sd18Y.js";import{L as Gi}from"../chunks/Loader.gGN2zG_j.js";import{C as qo}from"../chunks/ChevronDown.DwRauoxi.js";import{C as Go}from"../chunks/ChevronRight.C-GBQiGE.js";import{C as Xo}from"../chunks/Collapsible.DXtiMlxc.js";import{P as Qo}from"../chunks/Plus.BJxySHW6.js";import{F as Xi}from"../chunks/FolderOpen.gEyAFisj.js";import{E as Qi}from"../chunks/EllipsisHorizontal.BO29rO-c.js";import{k as ec,m as tc,n as lc,o as sc,p as rc}from"../chunks/index.C5iONN2C.js";import{g as nc}from"../chunks/index.BAcob18o.js";import{g as ac}from"../chunks/index.Ckuli5QV.js";import{A as oc}from"../chunks/AdvancedParams.B15erOux.js";import{b as ic}from"../chunks/index.VLQ7Yb5F.js";import{S as ei}from"../chunks/Switch.BWN5EyxE.js";import{U as cc}from"../chunks/User.7QkUHSo4.js";import"../chunks/index.DQfRr7yB.js";import{S as fc}from"../chunks/Search.DWLaJ4Hf.js";const uc=(r,e)=>e.some(t=>r instanceof t);let ia,ca;function dc(){return ia||(ia=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hc(){return ca||(ca=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ti=new WeakMap,Lr=new WeakMap,li=new WeakMap,yr=new WeakMap,Pr=new WeakMap;function mc(r){const e=new Promise((t,l)=>{const s=()=>{r.removeEventListener("success",n),r.removeEventListener("error",o)},n=()=>{t(vl(r.result)),s()},o=()=>{l(r.error),s()};r.addEventListener("success",n),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ti.set(t,r)}).catch(()=>{}),Pr.set(e,r),e}function pc(r){if(Lr.has(r))return;const e=new Promise((t,l)=>{const s=()=>{r.removeEventListener("complete",n),r.removeEventListener("error",o),r.removeEventListener("abort",o)},n=()=>{t(),s()},o=()=>{l(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",n),r.addEventListener("error",o),r.addEventListener("abort",o)});Lr.set(r,e)}let Mr={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Lr.get(r);if(e==="objectStoreNames")return r.objectStoreNames||li.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _c(r){Mr=r(Mr)}function vc(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=r.call(Er(this),e,...t);return li.set(l,e.sort?e.sort():[e]),vl(l)}:hc().includes(r)?function(...e){return r.apply(Er(this),e),vl(ti.get(this))}:function(...e){return vl(r.apply(Er(this),e))}}function gc(r){return typeof r=="function"?vc(r):(r instanceof IDBTransaction&&pc(r),uc(r,dc())?new Proxy(r,Mr):r)}function vl(r){if(r instanceof IDBRequest)return mc(r);if(yr.has(r))return yr.get(r);const e=gc(r);return e!==r&&(yr.set(r,e),Pr.set(e,r)),e}const Er=r=>Pr.get(r);function bc(r,e,{blocked:t,upgrade:l,blocking:s,terminated:n}={}){const o=indexedDB.open(r,e),a=vl(o);return l&&o.addEventListener("upgradeneeded",i=>{l(vl(o.result),i.oldVersion,i.newVersion,vl(o.transaction),i)}),t&&o.addEventListener("blocked",i=>t(i.oldVersion,i.newVersion,i)),a.then(i=>{n&&i.addEventListener("close",()=>n()),s&&i.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}function fa(r,{blocked:e}={}){const t=indexedDB.deleteDatabase(r);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),vl(t).then(()=>{})}const wc=["get","getKey","getAll","getAllKeys","count"],kc=["put","add","delete","clear"],Ir=new Map;function ua(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ir.get(e))return Ir.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,s=kc.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(s||wc.includes(t)))return;const n=async function(o,...a){const i=this.transaction(o,s?"readwrite":"readonly");let d=i.store;return l&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),s&&i.done]))[0]};return Ir.set(e,n),n}_c(r=>({...r,get:(e,t,l)=>ua(e,t)||r.get(e,t,l),has:(e,t)=>!!ua(e,t)||r.has(e,t)}));const yc=async(r,e)=>{let t=null;const l=await fetch(`${Xl}/folders/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${r}`},body:JSON.stringify({name:e})}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).catch(s=>(t=s.detail,null));if(t)throw t;return l},Ec=async(r="")=>{let e=null;const t=await fetch(`${Xl}/folders/`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${r}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).then(l=>l).catch(l=>(e=l.detail,console.log(l),null));if(e)throw e;return t},Ic=async(r,e,t)=>{let l=null;const s=await fetch(`${Xl}/folders/${e}/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${r}`},body:JSON.stringify({name:t})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).then(n=>n).catch(n=>(l=n.detail,console.log(n),null));if(l)throw l;return s},Dc=async(r,e,t)=>{let l=null;const s=await fetch(`${Xl}/folders/${e}/update/expanded`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${r}`},body:JSON.stringify({is_expanded:t})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).then(n=>n).catch(n=>(l=n.detail,console.log(n),null));if(l)throw l;return s},si=async(r,e,t)=>{let l=null;const s=await fetch(`${Xl}/folders/${e}/update/parent`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${r}`},body:JSON.stringify({parent_id:t})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).then(n=>n).catch(n=>(l=n.detail,console.log(n),null));if(l)throw l;return s},$c=async(r,e)=>{let t=null;const l=await fetch(`${Xl}/folders/${e}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${r}`}}).then(async s=>{if(!s.ok)throw await s.json();return s.json()}).then(s=>s).catch(s=>(t=s.detail,console.log(s),null));if(t)throw t;return l};function da(r,e,t){const l=r.slice();return l[22]=e[t],l[24]=t,l}function Tc(r){let e,t=r[4].t("You have no archived conversations.")+"",l;return{c(){e=h("div"),l=U(t),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","text-left text-sm w-full mb-8")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n&16&&t!==(t=s[4].t("You have no archived conversations.")+"")&&j(l,t)},i:ye,o:ye,d(s){s&&f(e)}}}function Vc(r){let e,t,l,s,n,o,a,i=r[4].t("Name")+"",d,p,b,_=r[4].t("Created At")+"",g,w,I,k,$,B,y,E,D=r[4].t("Unarchive All Archived Chats")+"",T,C,M,S=r[4].t("Export All Archived Chats")+"",H,q,X,N,L=Xe(r[1].filter(r[14])),Y=[];for(let F=0;F<L.length;F+=1)Y[F]=ha(da(r,L,F));const Z=F=>K(Y[F],1,1,()=>{Y[F]=null});return{c(){e=h("div"),t=h("div"),l=h("div"),s=h("table"),n=h("thead"),o=h("tr"),a=h("th"),d=U(i),p=V(),b=h("th"),g=U(_),w=V(),I=h("th"),k=V(),$=h("tbody");for(let F=0;F<Y.length;F+=1)Y[F].c();B=V(),y=h("div"),E=h("button"),T=U(D),C=V(),M=h("button"),H=U(S),this.h()},l(F){e=m(F,"DIV",{class:!0});var R=v(e);t=m(R,"DIV",{class:!0});var x=v(t);l=m(x,"DIV",{class:!0});var z=v(l);s=m(z,"TABLE",{class:!0});var Q=v(s);n=m(Q,"THEAD",{class:!0});var J=v(n);o=m(J,"TR",{});var ee=v(o);a=m(ee,"TH",{scope:!0,class:!0});var ce=v(a);d=P(ce,i),ce.forEach(f),p=A(ee),b=m(ee,"TH",{scope:!0,class:!0});var fe=v(b);g=P(fe,_),fe.forEach(f),w=A(ee),I=m(ee,"TH",{scope:!0,class:!0}),v(I).forEach(f),ee.forEach(f),J.forEach(f),k=A(Q),$=m(Q,"TBODY",{});var he=v($);for(let Ae=0;Ae<Y.length;Ae+=1)Y[Ae].l(he);he.forEach(f),Q.forEach(f),z.forEach(f),x.forEach(f),B=A(R),y=m(R,"DIV",{class:!0});var ge=v(y);E=m(ge,"BUTTON",{class:!0});var ke=v(E);T=P(ke,D),ke.forEach(f),C=A(ge),M=m(ge,"BUTTON",{class:!0});var Ne=v(M);H=P(Ne,S),Ne.forEach(f),ge.forEach(f),R.forEach(f),this.h()},h(){u(a,"scope","col"),u(a,"class","px-3 py-2"),u(b,"scope","col"),u(b,"class","px-3 py-2 hidden md:flex"),u(I,"scope","col"),u(I,"class","px-3 py-2 text-right"),u(n,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),u(s,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(l,"class","relative overflow-x-auto"),u(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),u(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(M,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(y,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1 justify-end w-full"),u(e,"class","w-full")},m(F,R){O(F,e,R),c(e,t),c(t,l),c(l,s),c(s,n),c(n,o),c(o,a),c(a,d),c(o,p),c(o,b),c(b,g),c(o,w),c(o,I),c(s,k),c(s,$);for(let x=0;x<Y.length;x+=1)Y[x]&&Y[x].m($,null);c(e,B),c(e,y),c(y,E),c(E,T),c(y,C),c(y,M),c(M,H),q=!0,X||(N=[te(E,"click",r[17]),te(M,"click",r[18])],X=!0)},p(F,R){if((!q||R&16)&&i!==(i=F[4].t("Name")+"")&&j(d,i),(!q||R&16)&&_!==(_=F[4].t("Created At")+"")&&j(g,_),R&214){L=Xe(F[1].filter(F[14]));let x;for(x=0;x<L.length;x+=1){const z=da(F,L,x);Y[x]?(Y[x].p(z,R),W(Y[x],1)):(Y[x]=ha(z),Y[x].c(),W(Y[x],1),Y[x].m($,null))}for(qe(),x=L.length;x<Y.length;x+=1)Z(x);Ge()}(!q||R&16)&&D!==(D=F[4].t("Unarchive All Archived Chats")+"")&&j(T,D),(!q||R&16)&&S!==(S=F[4].t("Export All Archived Chats")+"")&&j(H,S)},i(F){if(!q){for(let R=0;R<L.length;R+=1)W(Y[R]);q=!0}},o(F){Y=Y.filter(Boolean);for(let R=0;R<Y.length;R+=1)K(Y[R]);q=!1},d(F){F&&f(e),Ct(Y,F),X=!1,it(N)}}}function Ac(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,s;function n(){return r[15](r[22])}return{c(){e=h("button"),e.innerHTML=t,this.h()},l(o){e=m(o,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){O(o,e,a),l||(s=te(e,"click",n),l=!0)},p(o,a){r=o},d(o){o&&f(e),l=!1,s()}}}function Cc(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,s;function n(){return r[16](r[22])}return{c(){e=h("button"),e.innerHTML=t,this.h()},l(o){e=m(o,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){O(o,e,a),l||(s=te(e,"click",n),l=!0)},p(o,a){r=o},d(o){o&&f(e),l=!1,s()}}}function ha(r){let e,t,l,s,n=r[22].title+"",o,a,i,d,p,b=ar(r[22].created_at*1e3).format(r[4].t("MMMM DD, YYYY HH:mm"))+"",_,g,w,I,k,$,B,y,E,D;return k=new At({props:{content:r[4].t("Unarchive Chat"),$$slots:{default:[Ac]},$$scope:{ctx:r}}}),B=new At({props:{content:r[4].t("Delete Chat"),$$slots:{default:[Cc]},$$scope:{ctx:r}}}),{c(){e=h("tr"),t=h("td"),l=h("a"),s=h("div"),o=U(n),i=V(),d=h("td"),p=h("div"),_=U(b),g=V(),w=h("td"),I=h("div"),re(k.$$.fragment),$=V(),re(B.$$.fragment),y=V(),this.h()},l(T){e=m(T,"TR",{class:!0});var C=v(e);t=m(C,"TD",{class:!0});var M=v(t);l=m(M,"A",{href:!0,target:!0});var S=v(l);s=m(S,"DIV",{class:!0});var H=v(s);o=P(H,n),H.forEach(f),S.forEach(f),M.forEach(f),i=A(C),d=m(C,"TD",{class:!0});var q=v(d);p=m(q,"DIV",{class:!0});var X=v(p);_=P(X,b),X.forEach(f),q.forEach(f),g=A(C),w=m(C,"TD",{class:!0});var N=v(w);I=m(N,"DIV",{class:!0});var L=v(I);ne(k.$$.fragment,L),$=A(L),ne(B.$$.fragment,L),L.forEach(f),N.forEach(f),y=A(C),C.forEach(f),this.h()},h(){u(s,"class","underline line-clamp-1"),u(l,"href",a="/c/"+r[22].id),u(l,"target","_blank"),u(t,"class","px-3 py-1 w-2/3"),u(p,"class","my-auto"),u(d,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),u(I,"class","flex justify-end w-full"),u(w,"class","px-3 py-1 text-right"),u(e,"class",E="bg-transparent "+(r[24]!==r[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(T,C){O(T,e,C),c(e,t),c(t,l),c(l,s),c(s,o),c(e,i),c(e,d),c(d,p),c(p,_),c(e,g),c(e,w),c(w,I),ae(k,I,null),c(I,$),ae(B,I,null),c(e,y),D=!0},p(T,C){(!D||C&6)&&n!==(n=T[22].title+"")&&j(o,n),(!D||C&6&&a!==(a="/c/"+T[22].id))&&u(l,"href",a),(!D||C&22)&&b!==(b=ar(T[22].created_at*1e3).format(T[4].t("MMMM DD, YYYY HH:mm"))+"")&&j(_,b);const M={};C&16&&(M.content=T[4].t("Unarchive Chat")),C&33554438&&(M.$$scope={dirty:C,ctx:T}),k.$set(M);const S={};C&16&&(S.content=T[4].t("Delete Chat")),C&33554438&&(S.$$scope={dirty:C,ctx:T}),B.$set(S),(!D||C&2&&E!==(E="bg-transparent "+(T[24]!==T[1].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&u(e,"class",E)},i(T){D||(W(k.$$.fragment,T),W(B.$$.fragment,T),D=!0)},o(T){K(k.$$.fragment,T),K(B.$$.fragment,T),D=!1},d(T){T&&f(e),oe(k),oe(B)}}}function Sc(r){let e,t,l,s=r[4].t("Archived Chats")+"",n,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" clip-rule="evenodd"></path></svg>',d,p,b,_,g,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',I,k,$,B,y,E,D,T,C,M,S,H;const q=[Vc,Tc],X=[];function N(L,Y){return L[1].length>0?0:1}return T=N(r),C=X[T]=q[T](r),{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("button"),a.innerHTML=i,d=V(),p=h("div"),b=h("div"),_=h("div"),g=h("div"),g.innerHTML=w,I=V(),k=h("input"),B=V(),y=h("hr"),E=V(),D=h("div"),C.c(),this.h()},l(L){e=m(L,"DIV",{});var Y=v(e);t=m(Y,"DIV",{class:!0});var Z=v(t);l=m(Z,"DIV",{class:!0});var F=v(l);n=P(F,s),F.forEach(f),o=A(Z),a=m(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(a)!=="svelte-i7w487"&&(a.innerHTML=i),Z.forEach(f),d=A(Y),p=m(Y,"DIV",{class:!0});var R=v(p);b=m(R,"DIV",{class:!0});var x=v(b);_=m(x,"DIV",{class:!0});var z=v(_);g=m(z,"DIV",{class:!0,"data-svelte-h":!0}),xe(g)!=="svelte-kinl2y"&&(g.innerHTML=w),I=A(z),k=m(z,"INPUT",{class:!0,placeholder:!0}),z.forEach(f),x.forEach(f),B=A(R),y=m(R,"HR",{class:!0}),E=A(R),D=m(R,"DIV",{class:!0});var Q=v(D);C.l(Q),Q.forEach(f),R.forEach(f),Y.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(g,"class","self-center ml-1 mr-3"),u(k,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),u(k,"placeholder",$=r[4].t("Search Chats")),u(_,"class","flex flex-1"),u(b,"class","flex w-full mt-2 space-x-2"),u(y,"class","dark:border-gray-850 my-2"),u(D,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(p,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(L,Y){O(L,e,Y),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),c(e,d),c(e,p),c(p,b),c(b,_),c(_,g),c(_,I),c(_,k),Re(k,r[2]),c(p,B),c(p,y),c(p,E),c(p,D),X[T].m(D,null),M=!0,S||(H=[te(a,"click",r[12]),te(k,"input",r[13])],S=!0)},p(L,Y){(!M||Y&16)&&s!==(s=L[4].t("Archived Chats")+"")&&j(n,s),(!M||Y&16&&$!==($=L[4].t("Search Chats")))&&u(k,"placeholder",$),Y&4&&k.value!==L[2]&&Re(k,L[2]);let Z=T;T=N(L),T===Z?X[T].p(L,Y):(qe(),K(X[Z],1,1,()=>{X[Z]=null}),Ge(),C=X[T],C?C.p(L,Y):(C=X[T]=q[T](L),C.c()),W(C,1),C.m(D,null))},i(L){M||(W(C),M=!0)},o(L){K(C),M=!1},d(L){L&&f(e),X[T].d(),S=!1,it(H)}}}function Nc(r){let e,t,l,s,n,o;function a(b){r[10](b)}let i={message:r[4].t("Are you sure you want to unarchive all archived chats?"),confirmLabel:r[4].t("Unarchive All")};r[3]!==void 0&&(i.show=r[3]),e=new Or({props:i}),lt.push(()=>pt(e,"show",a)),e.$on("confirm",r[11]);function d(b){r[19](b)}let p={size:"lg",$$slots:{default:[Sc]},$$scope:{ctx:r}};return r[0]!==void 0&&(p.show=r[0]),s=new Ql({props:p}),lt.push(()=>pt(s,"show",d)),{c(){re(e.$$.fragment),l=V(),re(s.$$.fragment)},l(b){ne(e.$$.fragment,b),l=A(b),ne(s.$$.fragment,b)},m(b,_){ae(e,b,_),O(b,l,_),ae(s,b,_),o=!0},p(b,[_]){const g={};_&16&&(g.message=b[4].t("Are you sure you want to unarchive all archived chats?")),_&16&&(g.confirmLabel=b[4].t("Unarchive All")),!t&&_&8&&(t=!0,g.show=b[3],mt(()=>t=!1)),e.$set(g);const w={};_&33554463&&(w.$$scope={dirty:_,ctx:b}),!n&&_&1&&(n=!0,w.show=b[0],mt(()=>n=!1)),s.$set(w)},i(b){o||(W(e.$$.fragment,b),W(s.$$.fragment,b),o=!0)},o(b){K(e.$$.fragment,b),K(s.$$.fragment,b),o=!1},d(b){b&&f(l),oe(e,b),oe(s,b)}}}function Lc(r,e,t){let l;const{saveAs:s}=hs,n=Dt(),o=gt("i18n");Ve(r,o,S=>t(4,l=S));let{show:a=!1}=e,i=[],d="",p=!1;const b=async S=>{await Ar(localStorage.token,S).catch(H=>{Ue.error(H)}),t(1,i=await Qs(localStorage.token)),n("change")},_=async S=>{await Ro(localStorage.token,S).catch(H=>{Ue.error(H)}),t(1,i=await Qs(localStorage.token))},g=async()=>{const S=await Vi(localStorage.token);let H=new Blob([JSON.stringify(S)],{type:"application/json"});s(H,`${l.t("archived-chat-export")}-${Date.now()}.json`)},w=async()=>{for(const S of i)await Ar(localStorage.token,S.id);t(1,i=await Qs(localStorage.token))};function I(S){p=S,t(3,p)}const k=()=>{w()},$=()=>{t(0,a=!1)};function B(){d=this.value,t(2,d)}const y=S=>d===""||S.title.toLowerCase().includes(d.toLowerCase()),E=async S=>{b(S.id)},D=async S=>{_(S.id)},T=()=>{t(3,p=!0)},C=()=>{g()};function M(S){a=S,t(0,a)}return r.$$set=S=>{"show"in S&&t(0,a=S.show)},r.$$.update=()=>{r.$$.dirty&1&&a&&(async()=>t(1,i=await Qs(localStorage.token)))()},[a,i,d,p,l,o,b,_,g,w,I,k,$,B,y,E,D,T,C,M]}class Mc extends at{constructor(e){super(),ot(this,e,Lc,Nc,nt,{show:0})}}function Oc(r){let e,t;return{c(){e=_t("svg"),t=_t("path"),this.h()},l(l){e=vt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=v(e);t=vt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",r[1]),u(e,"stroke","currentColor"),u(e,"class",r[0])},m(l,s){O(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:ye,o:ye,d(l){l&&f(e)}}}function Bc(r,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,s=n.strokeWidth)},[l,s]}class Uc extends at{constructor(e){super(),ot(this,e,Bc,Oc,nt,{className:0,strokeWidth:1})}}function Pc(r){let e,t;return{c(){e=_t("svg"),t=_t("path"),this.h()},l(l){e=vt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=v(e);t=vt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",r[1]),u(e,"stroke","currentColor"),u(e,"class",r[0])},m(l,s){O(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:ye,o:ye,d(l){l&&f(e)}}}function Hc(r,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,s=n.strokeWidth)},[l,s]}class xc extends at{constructor(e){super(),ot(this,e,Hc,Pc,nt,{className:0,strokeWidth:1})}}function jc(r){let e,t;return{c(){e=_t("svg"),t=_t("path"),this.h()},l(l){e=vt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=v(e);t=vt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",r[1]),u(e,"stroke","currentColor"),u(e,"class",r[0])},m(l,s){O(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:ye,o:ye,d(l){l&&f(e)}}}function zc(r,e,t){let{className:l="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,s=n.strokeWidth)},[l,s]}class ri extends at{constructor(e){super(),ot(this,e,zc,jc,nt,{className:0,strokeWidth:1})}}function Rc(r){let e;const t=r[16].default,l=Zl(t,r,r[31],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,n){l&&l.m(s,n),e=!0},p(s,n){l&&l.p&&(!e||n[1]&1)&&Yl(l,t,s,s[31],e?Kl(t,s[31],n,null):Jl(s[31]),null)},i(s){e||(W(l,s),e=!0)},o(s){K(l,s),e=!1},d(s){l&&l.d(s)}}}function Wc(r){let e,t;return e=new At({props:{content:r[9].t("More"),$$slots:{default:[Rc]},$$scope:{ctx:r}}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const n={};s[0]&512&&(n.content=l[9].t("More")),s[1]&1&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Fc(r){let e,t,l,s=r[9].t("Pin")+"",n,o;return e=new Uc({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Pin")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Zc(r){let e,t,l,s=r[9].t("Unpin")+"",n,o;return e=new xc({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Unpin")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Yc(r){let e,t,l,s;const n=[Zc,Fc],o=[];function a(i,d){return i[8]?0:1}return e=a(r),t=o[e]=n[e](r),{c(){t.c(),l=ft()},l(i){t.l(i),l=ft()},m(i,d){o[e].m(i,d),O(i,l,d),s=!0},p(i,d){let p=e;e=a(i),e===p?o[e].p(i,d):(qe(),K(o[p],1,1,()=>{o[p]=null}),Ge(),t=o[e],t?t.p(i,d):(t=o[e]=n[e](i),t.c()),W(t,1),t.m(l.parentNode,l))},i(i){s||(W(t),s=!0)},o(i){K(t),s=!1},d(i){i&&f(l),o[e].d(i)}}}function Jc(r){let e,t,l,s=r[9].t("Rename")+"",n,o;return e=new Yo({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Rename")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Kc(r){let e,t,l,s=r[9].t("Clone")+"",n,o;return e=new Zi({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Clone")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function qc(r){let e,t,l,s=r[9].t("Archive")+"",n,o;return e=new Wo({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Archive")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Gc(r){let e,t,l,s=r[9].t("Share")+"",n,o;return e=new Yi({}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Share")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Xc(r){let e,t,l,s=r[9].t("Download")+"",n,o;return e=new ri({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Download")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Qc(r){let e,t=r[9].t("Export chat (.json)")+"",l;return{c(){e=h("div"),l=U(t),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&512&&t!==(t=s[9].t("Export chat (.json)")+"")&&j(l,t)},d(s){s&&f(e)}}}function ef(r){let e,t=r[9].t("Plain text (.txt)")+"",l;return{c(){e=h("div"),l=U(t),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&512&&t!==(t=s[9].t("Plain text (.txt)")+"")&&j(l,t)},d(s){s&&f(e)}}}function tf(r){let e,t=r[9].t("PDF document (.pdf)")+"",l;return{c(){e=h("div"),l=U(t),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","flex items-center line-clamp-1")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&512&&t!==(t=s[9].t("PDF document (.pdf)")+"")&&j(l,t)},d(s){s&&f(e)}}}function lf(r){let e,t,l,s,n,o;return e=new Bt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Qc]},$$scope:{ctx:r}}}),e.$on("click",r[22]),l=new Bt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[ef]},$$scope:{ctx:r}}}),l.$on("click",r[23]),n=new Bt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[tf]},$$scope:{ctx:r}}}),n.$on("click",r[24]),{c(){re(e.$$.fragment),t=V(),re(l.$$.fragment),s=V(),re(n.$$.fragment)},l(a){ne(e.$$.fragment,a),t=A(a),ne(l.$$.fragment,a),s=A(a),ne(n.$$.fragment,a)},m(a,i){ae(e,a,i),O(a,t,i),ae(l,a,i),O(a,s,i),ae(n,a,i),o=!0},p(a,i){const d={};i[0]&512|i[1]&1&&(d.$$scope={dirty:i,ctx:a}),e.$set(d);const p={};i[0]&512|i[1]&1&&(p.$$scope={dirty:i,ctx:a}),l.$set(p);const b={};i[0]&512|i[1]&1&&(b.$$scope={dirty:i,ctx:a}),n.$set(b)},i(a){o||(W(e.$$.fragment,a),W(l.$$.fragment,a),W(n.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),K(l.$$.fragment,a),K(n.$$.fragment,a),o=!1},d(a){a&&(f(t),f(s)),oe(e,a),oe(l,a),oe(n,a)}}}function sf(r){let e,t,l,s;return e=new Pi({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Xc]},$$scope:{ctx:r}}}),l=new Hi({props:{class:"w-full rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",transition:Br,sideOffset:8,$$slots:{default:[lf]},$$scope:{ctx:r}}}),{c(){re(e.$$.fragment),t=V(),re(l.$$.fragment)},l(n){ne(e.$$.fragment,n),t=A(n),ne(l.$$.fragment,n)},m(n,o){ae(e,n,o),O(n,t,o),ae(l,n,o),s=!0},p(n,o){const a={};o[0]&512|o[1]&1&&(a.$$scope={dirty:o,ctx:n}),e.$set(a);const i={};o[0]&512|o[1]&1&&(i.$$scope={dirty:o,ctx:n}),l.$set(i)},i(n){s||(W(e.$$.fragment,n),W(l.$$.fragment,n),s=!0)},o(n){K(e.$$.fragment,n),K(l.$$.fragment,n),s=!1},d(n){n&&f(t),oe(e,n),oe(l,n)}}}function rf(r){let e,t,l,s=r[9].t("Delete")+"",n,o;return e=new Ur({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i[0]&512)&&s!==(s=a[9].t("Delete")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function nf(r){let e,t,l,s,n,o,a,i,d,p,b,_,g,w,I,k,$,B,y;return e=new Bt({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Yc]},$$scope:{ctx:r}}}),e.$on("click",r[17]),l=new Bt({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Jc]},$$scope:{ctx:r}}}),l.$on("click",r[18]),n=new Bt({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Kc]},$$scope:{ctx:r}}}),n.$on("click",r[19]),a=new Bt({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[qc]},$$scope:{ctx:r}}}),a.$on("click",r[20]),d=new Bt({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Gc]},$$scope:{ctx:r}}}),d.$on("click",r[21]),b=new Bi({props:{$$slots:{default:[sf]},$$scope:{ctx:r}}}),g=new Bt({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[rf]},$$scope:{ctx:r}}}),g.$on("click",r[25]),B=new Ui({props:{chatId:r[6]}}),B.$on("add",r[26]),B.$on("delete",r[27]),B.$on("close",r[28]),{c(){re(e.$$.fragment),t=V(),re(l.$$.fragment),s=V(),re(n.$$.fragment),o=V(),re(a.$$.fragment),i=V(),re(d.$$.fragment),p=V(),re(b.$$.fragment),_=V(),re(g.$$.fragment),w=V(),I=h("hr"),k=V(),$=h("div"),re(B.$$.fragment),this.h()},l(E){ne(e.$$.fragment,E),t=A(E),ne(l.$$.fragment,E),s=A(E),ne(n.$$.fragment,E),o=A(E),ne(a.$$.fragment,E),i=A(E),ne(d.$$.fragment,E),p=A(E),ne(b.$$.fragment,E),_=A(E),ne(g.$$.fragment,E),w=A(E),I=m(E,"HR",{class:!0}),k=A(E),$=m(E,"DIV",{class:!0});var D=v($);ne(B.$$.fragment,D),D.forEach(f),this.h()},h(){u(I,"class","border-gray-50 dark:border-gray-850 my-0.5"),u($,"class","flex p-1")},m(E,D){ae(e,E,D),O(E,t,D),ae(l,E,D),O(E,s,D),ae(n,E,D),O(E,o,D),ae(a,E,D),O(E,i,D),ae(d,E,D),O(E,p,D),ae(b,E,D),O(E,_,D),ae(g,E,D),O(E,w,D),O(E,I,D),O(E,k,D),O(E,$,D),ae(B,$,null),y=!0},p(E,D){const T={};D[0]&768|D[1]&1&&(T.$$scope={dirty:D,ctx:E}),e.$set(T);const C={};D[0]&512|D[1]&1&&(C.$$scope={dirty:D,ctx:E}),l.$set(C);const M={};D[0]&512|D[1]&1&&(M.$$scope={dirty:D,ctx:E}),n.$set(M);const S={};D[0]&512|D[1]&1&&(S.$$scope={dirty:D,ctx:E}),a.$set(S);const H={};D[0]&512|D[1]&1&&(H.$$scope={dirty:D,ctx:E}),d.$set(H);const q={};D[0]&512|D[1]&1&&(q.$$scope={dirty:D,ctx:E}),b.$set(q);const X={};D[0]&512|D[1]&1&&(X.$$scope={dirty:D,ctx:E}),g.$set(X);const N={};D[0]&64&&(N.chatId=E[6]),B.$set(N)},i(E){y||(W(e.$$.fragment,E),W(l.$$.fragment,E),W(n.$$.fragment,E),W(a.$$.fragment,E),W(d.$$.fragment,E),W(b.$$.fragment,E),W(g.$$.fragment,E),W(B.$$.fragment,E),y=!0)},o(E){K(e.$$.fragment,E),K(l.$$.fragment,E),K(n.$$.fragment,E),K(a.$$.fragment,E),K(d.$$.fragment,E),K(b.$$.fragment,E),K(g.$$.fragment,E),K(B.$$.fragment,E),y=!1},d(E){E&&(f(t),f(s),f(o),f(i),f(p),f(_),f(w),f(I),f(k),f($)),oe(e,E),oe(l,E),oe(n,E),oe(a,E),oe(d,E),oe(b,E),oe(g,E),oe(B)}}}function af(r){let e,t,l;return t=new Zo({props:{class:"w-full max-w-[200px] rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",transition:Br,$$slots:{default:[nf]},$$scope:{ctx:r}}}),{c(){e=h("div"),re(t.$$.fragment),this.h()},l(s){e=m(s,"DIV",{slot:!0});var n=v(e);ne(t.$$.fragment,n),n.forEach(f),this.h()},h(){u(e,"slot","content")},m(s,n){O(s,e,n),ae(t,e,null),l=!0},p(s,n){const o={};n[0]&1023|n[1]&1&&(o.$$scope={dirty:n,ctx:s}),t.$set(o)},i(s){l||(W(t.$$.fragment,s),l=!0)},o(s){K(t.$$.fragment,s),l=!1},d(s){s&&f(e),oe(t)}}}function of(r){let e,t,l;function s(o){r[29](o)}let n={$$slots:{content:[af],default:[Wc]},$$scope:{ctx:r}};return r[7]!==void 0&&(n.show=r[7]),e=new Fo({props:n}),lt.push(()=>pt(e,"show",s)),e.$on("change",r[30]),{c(){re(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){ae(e,o,a),l=!0},p(o,a){const i={};a[0]&1023|a[1]&1&&(i.$$scope={dirty:a,ctx:o}),!t&&a[0]&128&&(t=!0,i.show=o[7],mt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){K(e.$$.fragment,o),l=!1},d(o){oe(e,o)}}}function cf(r,e,t){let l,{$$slots:s={},$$scope:n}=e;const{saveAs:o}=hs,a=Dt(),i=gt("i18n");Ve(r,i,J=>t(9,l=J));let{shareHandler:d}=e,{cloneChatHandler:p}=e,{archiveChatHandler:b}=e,{renameHandler:_}=e,{deleteHandler:g}=e,{onClose:w}=e,{chatId:I=""}=e,k=!1,$=!1;const B=async()=>{await Cr(localStorage.token,I),a("change")},y=async()=>{t(8,$=await Ai(localStorage.token,I))},E=async J=>{const ee=J.chat.history;return ra(ee,ee.currentId).reduce((he,ge,ke,Ne)=>`${he}### ${ge.role.toUpperCase()}
${ge.content}

`,"").trim()},D=async()=>{const J=await Nl(localStorage.token,I);if(!J)return;const ee=await E(J);let ce=new Blob([ee],{type:"text/plain"});o(ce,`chat-${J.chat.title}.txt`)},T=async()=>{const J=await Nl(localStorage.token,I);if(!J)return;const ee=J.chat.history,ce=ra(ee,ee.currentId),fe=await Ji(J.chat.title,ce),he=window.URL.createObjectURL(fe),ge=document.createElement("a");ge.href=he,ge.download=`chat-${J.chat.title}.pdf`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),window.URL.revokeObjectURL(he)},C=async()=>{const J=await Nl(localStorage.token,I);if(J){let ee=new Blob([JSON.stringify([J])],{type:"application/json"});o(ee,`chat-export-${Date.now()}.json`)}},M=()=>{B()},S=()=>{_()},H=()=>{p()},q=()=>{b()},X=()=>{d()},N=()=>{C()},L=()=>{D()},Y=()=>{T()},Z=()=>{g()},F=J=>{a("tag",{type:"add",name:J.detail.name}),t(7,k=!1)},R=J=>{a("tag",{type:"delete",name:J.detail.name}),t(7,k=!1)},x=()=>{t(7,k=!1),w()};function z(J){k=J,t(7,k)}const Q=J=>{J.detail===!1&&w()};return r.$$set=J=>{"shareHandler"in J&&t(0,d=J.shareHandler),"cloneChatHandler"in J&&t(1,p=J.cloneChatHandler),"archiveChatHandler"in J&&t(2,b=J.archiveChatHandler),"renameHandler"in J&&t(3,_=J.renameHandler),"deleteHandler"in J&&t(4,g=J.deleteHandler),"onClose"in J&&t(5,w=J.onClose),"chatId"in J&&t(6,I=J.chatId),"$$scope"in J&&t(31,n=J.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&128&&k&&y()},[d,p,b,_,g,w,I,k,$,l,a,i,B,D,T,C,s,M,S,H,q,X,N,L,Y,Z,F,R,x,z,Q,n]}class ff extends at{constructor(e){super(),ot(this,e,cf,of,nt,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6},null,[-1,-1])}}function uf(r){let e,t,l;const s=r[4].default,n=Zl(s,r,r[3],null);return{c(){e=h("div"),t=h("div"),n&&n.c(),this.h()},l(o){e=m(o,"DIV",{class:!0});var a=v(e);t=m(a,"DIV",{class:!0,style:!0});var i=v(t);n&&n.l(i),i.forEach(f),a.forEach(f),this.h()},h(){u(t,"class","absolute text-white z-[99999]"),ht(t,"top",r[1]+10+"px"),ht(t,"left",r[0]+10+"px"),u(e,"class","fixed top-0 left-0 w-screen h-[100dvh] z-50 touch-none pointer-events-none")},m(o,a){O(o,e,a),c(e,t),n&&n.m(t,null),r[5](e),l=!0},p(o,[a]){n&&n.p&&(!l||a&8)&&Yl(n,s,o,o[3],l?Kl(s,o[3],a,null):Jl(o[3]),null),(!l||a&2)&&ht(t,"top",o[1]+10+"px"),(!l||a&1)&&ht(t,"left",o[0]+10+"px")},i(o){l||(W(n,o),l=!0)},o(o){K(n,o),l=!1},d(o){o&&f(e),n&&n.d(o),r[5](null)}}}function df(r,e,t){let{$$slots:l={},$$scope:s}=e,{x:n}=e,{y:o}=e,a=null;$t(()=>{document.body.appendChild(a),document.body.style.overflow="hidden"}),ql(()=>{document.body.removeChild(a),document.body.style.overflow="unset"});function i(d){lt[d?"unshift":"push"](()=>{a=d,t(2,a)})}return r.$$set=d=>{"x"in d&&t(0,n=d.x),"y"in d&&t(1,o=d.y),"$$scope"in d&&t(3,s=d.$$scope)},[n,o,a,s,l,i]}class ni extends at{constructor(e){super(),ot(this,e,df,uf,nt,{x:0,y:1})}}function hf(r){let e,t;return{c(){e=_t("svg"),t=_t("path"),this.h()},l(l){e=vt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=v(e);t=vt(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",r[1]),u(e,"stroke","currentColor"),u(e,"class",r[0])},m(l,s){O(l,e,s),c(e,t)},p(l,[s]){s&2&&u(e,"stroke-width",l[1]),s&1&&u(e,"class",l[0])},i:ye,o:ye,d(l){l&&f(e)}}}function mf(r,e,t){let{className:l="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,s=n.strokeWidth)},[l,s]}class pf extends at{constructor(e){super(),ot(this,e,mf,hf,nt,{className:0,strokeWidth:1})}}function _f(r){let e,t=r[16].t("This will delete")+"",l,s,n,o,a;return{c(){e=h("div"),l=U(t),s=V(),n=h("span"),o=U(r[2]),a=U("."),this.h()},l(i){e=m(i,"DIV",{class:!0});var d=v(e);l=P(d,t),s=A(d),n=m(d,"SPAN",{class:!0});var p=v(n);o=P(p,r[2]),p.forEach(f),a=P(d,"."),d.forEach(f),this.h()},h(){u(n,"class","font-semibold"),u(e,"class","text-sm text-gray-500 flex-1 line-clamp-3")},m(i,d){O(i,e,d),c(e,l),c(e,s),c(e,n),c(n,o),c(e,a)},p(i,d){d[0]&65536&&t!==(t=i[16].t("This will delete")+"")&&j(l,t),d[0]&4&&j(o,i[2])},d(i){i&&f(e)}}}function ma(r){let e,t;return e=new ni({props:{x:r[12],y:r[13],$$slots:{default:[vf]},$$scope:{ctx:r}}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const n={};s[0]&4096&&(n.x=l[12]),s[0]&8192&&(n.y=l[13]),s[0]&4|s[1]&67108864&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function vf(r){let e,t,l,s,n,o,a;return l=new pf({props:{className:" size-[18px]",strokeWidth:"2"}}),{c(){e=h("div"),t=h("div"),re(l.$$.fragment),s=V(),n=h("div"),o=U(r[2]),this.h()},l(i){e=m(i,"DIV",{class:!0});var d=v(e);t=m(d,"DIV",{class:!0});var p=v(t);ne(l.$$.fragment,p),s=A(p),n=m(p,"DIV",{class:!0});var b=v(n);o=P(b,r[2]),b.forEach(f),p.forEach(f),d.forEach(f),this.h()},h(){u(n,"class","text-xs text-white line-clamp-1"),u(t,"class","flex items-center gap-1"),u(e,"class","bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40")},m(i,d){O(i,e,d),c(e,t),ae(l,t,null),c(t,s),c(t,n),c(n,o),a=!0},p(i,d){(!a||d[0]&4)&&j(o,i[2])},i(i){a||(W(l.$$.fragment,i),a=!0)},o(i){K(l.$$.fragment,i),a=!1},d(i){i&&f(e),oe(l)}}}function gf(r){let e,t,l,s,n,o,a,i;return{c(){e=h("a"),t=h("div"),l=h("div"),s=U(r[2]),this.h()},l(d){e=m(d,"A",{class:!0,href:!0,draggable:!0});var p=v(e);t=m(p,"DIV",{class:!0});var b=v(t);l=m(b,"DIV",{class:!0});var _=v(l);s=P(_,r[2]),_.forEach(f),b.forEach(f),p.forEach(f),this.h()},h(){u(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),u(t,"class","flex self-center flex-1 w-full"),u(e,"class",n="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(r[1]===r[15]||r[8]?"bg-gray-200 dark:bg-gray-900":r[3]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),u(e,"href",o="/c/"+r[1]),u(e,"draggable","false")},m(d,p){O(d,e,p),c(e,t),c(t,l),c(l,s),a||(i=[te(e,"click",r[29]),te(e,"dblclick",r[30]),te(e,"mouseenter",r[31]),te(e,"mouseleave",r[32]),te(e,"focus",Af)],a=!0)},p(d,p){p[0]&4&&j(s,d[2]),p[0]&33034&&n!==(n="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(d[1]===d[15]||d[8]?"bg-gray-200 dark:bg-gray-900":d[3]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&u(e,"class",n),p[0]&2&&o!==(o="/c/"+d[1])&&u(e,"href",o)},d(d){d&&f(e),a=!1,it(i)}}}function bf(r){let e,t,l,s,n;return{c(){e=h("div"),t=h("input"),this.h()},l(o){e=m(o,"DIV",{class:!0});var a=v(e);t=m(a,"INPUT",{class:!0}),a.forEach(f),this.h()},h(){u(t,"class","bg-transparent w-full outline-none mr-10"),u(e,"class",l="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(r[1]===r[15]||r[8]?"bg-gray-200 dark:bg-gray-900":r[3]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(o,a){O(o,e,a),c(e,t),Re(t,r[9]),s||(n=[ii(r[24].call(null,t)),te(t,"input",r[28])],s=!0)},p(o,a){a[0]&512&&t.value!==o[9]&&Re(t,o[9]),a[0]&33034&&l!==(l="w-full flex justify-between rounded-lg px-[11px] py-[6px] "+(o[1]===o[15]||o[8]?"bg-gray-200 dark:bg-gray-900":o[3]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&u(e,"class",l)},d(o){o&&f(e),s=!1,it(n)}}}function wf(r){let e,t,l,s;t=new ff({props:{chatId:r[1],cloneChatHandler:r[38],shareHandler:r[39],archiveChatHandler:r[40],renameHandler:r[41],deleteHandler:r[42],onClose:r[43],$$slots:{default:[Ef]},$$scope:{ctx:r}}}),t.$on("change",r[44]),t.$on("tag",r[45]);let n=r[1]===r[15]&&pa(r);return{c(){e=h("div"),re(t.$$.fragment),l=V(),n&&n.c(),this.h()},l(o){e=m(o,"DIV",{class:!0});var a=v(e);ne(t.$$.fragment,a),l=A(a),n&&n.l(a),a.forEach(f),this.h()},h(){u(e,"class","flex self-center space-x-1 z-10")},m(o,a){O(o,e,a),ae(t,e,null),c(e,l),n&&n.m(e,null),s=!0},p(o,a){const i={};a[0]&2&&(i.chatId=o[1]),a[0]&2&&(i.cloneChatHandler=o[38]),a[0]&128&&(i.shareHandler=o[39]),a[0]&2&&(i.archiveChatHandler=o[40]),a[0]&772&&(i.renameHandler=o[41]),a[0]&16384&&(i.deleteHandler=o[42]),a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i),o[1]===o[15]?n?n.p(o,a):(n=pa(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i(o){s||(W(t.$$.fragment,o),s=!0)},o(o){K(t.$$.fragment,o),s=!1},d(o){o&&f(e),oe(t),n&&n.d()}}}function kf(r){let e,t,l,s,n;return t=new At({props:{content:r[16].t("Archive"),className:"flex items-center",$$slots:{default:[If]},$$scope:{ctx:r}}}),s=new At({props:{content:r[16].t("Delete"),$$slots:{default:[Df]},$$scope:{ctx:r}}}),{c(){e=h("div"),re(t.$$.fragment),l=V(),re(s.$$.fragment),this.h()},l(o){e=m(o,"DIV",{class:!0});var a=v(e);ne(t.$$.fragment,a),l=A(a),ne(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","flex items-center self-center space-x-1.5")},m(o,a){O(o,e,a),ae(t,e,null),c(e,l),ae(s,e,null),n=!0},p(o,a){const i={};a[0]&65536&&(i.content=o[16].t("Archive")),a[0]&2|a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i);const d={};a[0]&65536&&(d.content=o[16].t("Delete")),a[0]&2|a[1]&67108864&&(d.$$scope={dirty:a,ctx:o}),s.$set(d)},i(o){n||(W(t.$$.fragment,o),W(s.$$.fragment,o),n=!0)},o(o){K(t.$$.fragment,o),K(s.$$.fragment,o),n=!1},d(o){o&&f(e),oe(t),oe(s)}}}function yf(r){let e,t,l,s,n;return t=new At({props:{content:r[16].t("Confirm"),$$slots:{default:[$f]},$$scope:{ctx:r}}}),s=new At({props:{content:r[16].t("Cancel"),$$slots:{default:[Tf]},$$scope:{ctx:r}}}),{c(){e=h("div"),re(t.$$.fragment),l=V(),re(s.$$.fragment),this.h()},l(o){e=m(o,"DIV",{class:!0});var a=v(e);ne(t.$$.fragment,a),l=A(a),ne(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","flex self-center items-center space-x-1.5 z-10 translate-y-[0.5px] -translate-x-[0.5px]")},m(o,a){O(o,e,a),ae(t,e,null),c(e,l),ae(s,e,null),n=!0},p(o,a){const i={};a[0]&65536&&(i.content=o[16].t("Confirm")),a[0]&770|a[1]&67108864&&(i.$$scope={dirty:a,ctx:o}),t.$set(i);const d={};a[0]&65536&&(d.content=o[16].t("Cancel")),a[0]&768|a[1]&67108864&&(d.$$scope={dirty:a,ctx:o}),s.$set(d)},i(o){n||(W(t.$$.fragment,o),W(s.$$.fragment,o),n=!0)},o(o){K(t.$$.fragment,o),K(s.$$.fragment,o),n=!1},d(o){o&&f(e),oe(t),oe(s)}}}function Ef(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,s;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=m(n,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-1nmly1h"&&(e.innerHTML=t),this.h()},h(){u(e,"aria-label","Chat Menu"),u(e,"class","self-center dark:hover:text-white transition")},m(n,o){O(n,e,o),l||(s=te(e,"click",r[37]),l=!0)},p:ye,d(n){n&&f(e),l=!1,s()}}}function pa(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,s;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=m(n,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-1gozylk"&&(e.innerHTML=t),this.h()},h(){u(e,"id","delete-chat-button"),u(e,"class","hidden")},m(n,o){O(n,e,o),l||(s=te(e,"click",r[46]),l=!0)},p:ye,d(n){n&&f(e),l=!1,s()}}}function If(r){let e,t,l,s,n;return t=new Wo({props:{className:"size-4  translate-y-[0.5px]",strokeWidth:"2"}}),{c(){e=h("button"),re(t.$$.fragment),this.h()},l(o){e=m(o,"BUTTON",{class:!0,type:!0});var a=v(e);ne(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition"),u(e,"type","button")},m(o,a){O(o,e,a),ae(t,e,null),l=!0,s||(n=te(e,"click",r[35]),s=!0)},p:ye,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){K(t.$$.fragment,o),l=!1},d(o){o&&f(e),oe(t),s=!1,n()}}}function Df(r){let e,t,l,s,n;return t=new Ur({props:{strokeWidth:"2"}}),{c(){e=h("button"),re(t.$$.fragment),this.h()},l(o){e=m(o,"BUTTON",{class:!0,type:!0});var a=v(e);ne(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition"),u(e,"type","button")},m(o,a){O(o,e,a),ae(t,e,null),l=!0,s||(n=te(e,"click",r[36]),s=!0)},p:ye,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){K(t.$$.fragment,o),l=!1},d(o){o&&f(e),oe(t),s=!1,n()}}}function $f(r){let e,t,l,s,n;return t=new qi({props:{className:" size-3.5",strokeWidth:"2.5"}}),{c(){e=h("button"),re(t.$$.fragment),this.h()},l(o){e=m(o,"BUTTON",{class:!0});var a=v(e);ne(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition")},m(o,a){O(o,e,a),ae(t,e,null),l=!0,s||(n=te(e,"click",r[33]),s=!0)},p:ye,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){K(t.$$.fragment,o),l=!1},d(o){o&&f(e),oe(t),s=!1,n()}}}function Tf(r){let e,t,l,s,n;return t=new Jo({props:{strokeWidth:"2.5"}}),{c(){e=h("button"),re(t.$$.fragment),this.h()},l(o){e=m(o,"BUTTON",{class:!0});var a=v(e);ne(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","self-center dark:hover:text-white transition")},m(o,a){O(o,e,a),ae(t,e,null),l=!0,s||(n=te(e,"click",r[34]),s=!0)},p:ye,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){K(t.$$.fragment,o),l=!1},d(o){o&&f(e),oe(t),s=!1,n()}}}function Vf(r){let e,t,l,s,n,o,a,i,d,p,b,_,g,w,I,k,$;function B(N){r[25](N)}let y={chatId:r[1]};r[7]!==void 0&&(y.show=r[7]),e=new xi({props:y}),lt.push(()=>pt(e,"show",B));function E(N){r[26](N)}let D={title:r[16].t("Delete chat?"),$$slots:{default:[_f]},$$scope:{ctx:r}};r[14]!==void 0&&(D.show=r[14]),s=new Or({props:D}),lt.push(()=>pt(s,"show",E)),s.$on("confirm",r[27]);let T=r[11]&&r[12]&&r[13]&&ma(r);function C(N,L){return N[8]?bf:gf}let M=C(r),S=M(r);const H=[yf,kf,wf],q=[];function X(N,L){return N[8]?0:N[4]&&N[5]?1:2}return b=X(r),_=q[b]=H[b](r),{c(){re(e.$$.fragment),l=V(),re(s.$$.fragment),o=V(),T&&T.c(),a=V(),i=h("div"),S.c(),d=V(),p=h("div"),_.c(),this.h()},l(N){ne(e.$$.fragment,N),l=A(N),ne(s.$$.fragment,N),o=A(N),T&&T.l(N),a=A(N),i=m(N,"DIV",{class:!0,draggable:!0});var L=v(i);S.l(L),d=A(L),p=m(L,"DIV",{class:!0});var Y=v(p);_.l(Y),Y.forEach(f),L.forEach(f),this.h()},h(){u(p,"class",g=(r[1]===r[15]||r[8]?"from-gray-200 dark:from-gray-900":r[3]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute "+(r[0]==="pr-2"?"right-[8px]":"right-0")+" top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-gradient-to-l from-80% to-transparent"),u(i,"class",w="w-full "+r[0]+" relative group"),u(i,"draggable",r[6])},m(N,L){ae(e,N,L),O(N,l,L),ae(s,N,L),O(N,o,L),T&&T.m(N,L),O(N,a,L),O(N,i,L),S.m(i,null),c(i,d),c(i,p),q[b].m(p,null),r[49](i),I=!0,k||($=[te(p,"mouseenter",r[47]),te(p,"mouseleave",r[48])],k=!0)},p(N,L){const Y={};L[0]&2&&(Y.chatId=N[1]),!t&&L[0]&128&&(t=!0,Y.show=N[7],mt(()=>t=!1)),e.$set(Y);const Z={};L[0]&65536&&(Z.title=N[16].t("Delete chat?")),L[0]&65540|L[1]&67108864&&(Z.$$scope={dirty:L,ctx:N}),!n&&L[0]&16384&&(n=!0,Z.show=N[14],mt(()=>n=!1)),s.$set(Z),N[11]&&N[12]&&N[13]?T?(T.p(N,L),L[0]&14336&&W(T,1)):(T=ma(N),T.c(),W(T,1),T.m(a.parentNode,a)):T&&(qe(),K(T,1,1,()=>{T=null}),Ge()),M===(M=C(N))&&S?S.p(N,L):(S.d(1),S=M(N),S&&(S.c(),S.m(i,d)));let F=b;b=X(N),b===F?q[b].p(N,L):(qe(),K(q[F],1,1,()=>{q[F]=null}),Ge(),_=q[b],_?_.p(N,L):(_=q[b]=H[b](N),_.c()),W(_,1),_.m(p,null)),(!I||L[0]&33035&&g!==(g=(N[1]===N[15]||N[8]?"from-gray-200 dark:from-gray-900":N[3]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute "+(N[0]==="pr-2"?"right-[8px]":"right-0")+" top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-gradient-to-l from-80% to-transparent"))&&u(p,"class",g),(!I||L[0]&1&&w!==(w="w-full "+N[0]+" relative group"))&&u(i,"class",w),(!I||L[0]&64)&&u(i,"draggable",N[6])},i(N){I||(W(e.$$.fragment,N),W(s.$$.fragment,N),W(T),W(_),I=!0)},o(N){K(e.$$.fragment,N),K(s.$$.fragment,N),K(T),K(_),I=!1},d(N){N&&(f(l),f(o),f(a),f(i)),oe(e,N),oe(s,N),T&&T.d(N),S.d(),q[b].d(),r[49](null),k=!1,it($)}}}const Af=r=>{};function Cf(r,e,t){let l,s,n,o;Ve(r,$r,le=>t(15,l=le)),Ve(r,nl,le=>t(52,s=le)),Ve(r,Tr,le=>t(17,o=le));const a=gt("i18n");Ve(r,a,le=>t(16,n=le));const i=Dt();let{className:d=""}=e,{id:p}=e,{title:b}=e,{selected:_=!1}=e,{shiftKey:g=!1}=e,w=null,I=!1,k=!1;const $=async()=>{w||(t(6,k=!1),w=await Nl(localStorage.token,p),t(6,k=!0))};let B=!1,y=!1,E=b;const D=async(le,Te)=>{Te===""?Ue.error(n.t("Title cannot be an empty string.")):(await Ci(localStorage.token,le,{title:Te}),le===l&&di.set(Te),nl.set(1),await rl.set(await Ll(localStorage.token,s)),await rr.set(await Sr(localStorage.token)))},T=async le=>{const Te=await Si(localStorage.token,le).catch(be=>(Ue.error(be),null));Te&&(Ol(`/c/${Te.id}`),nl.set(1),await rl.set(await Ll(localStorage.token,s)),await rr.set(await Sr(localStorage.token)))},C=async le=>{await Ro(localStorage.token,le).catch(be=>(Ue.error(be),null))&&(ds.set(await nr(localStorage.token)),l===le&&(await $r.set(""),await Fl(),Ol("/")),i("change"))},M=async le=>{await Ar(localStorage.token,le),i("change")},S=async le=>{le.focus()};let H,q=!1,X=0,N=0;const L=new Image;L.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";const Y=le=>{le.stopPropagation(),le.dataTransfer.setDragImage(L,0,0),le.dataTransfer.setData("text/plain",JSON.stringify({type:"chat",id:p,item:w})),t(11,q=!0),t(10,H.style.opacity="0.5",H)},Z=le=>{le.stopPropagation(),t(12,X=le.clientX),t(13,N=le.clientY)},F=le=>{le.stopPropagation(),t(10,H.style.opacity="1",H),t(11,q=!1)};$t(()=>{H&&(H.addEventListener("dragstart",Y),H.addEventListener("drag",Z),H.addEventListener("dragend",F))}),ql(()=>{H&&(H.removeEventListener("dragstart",Y),H.removeEventListener("drag",Z),H.removeEventListener("dragend",F))});let R=!1;function x(le){B=le,t(7,B)}function z(le){R=le,t(14,R)}const Q=()=>{C(p)};function J(){E=this.value,t(9,E)}const ee=()=>{i("select"),o&&Ot.set(!1)},ce=()=>{t(9,E=b),t(8,y=!0)},fe=le=>{t(5,I=!0)},he=le=>{t(5,I=!1)},ge=()=>{D(p,E),t(8,y=!1),t(9,E="")},ke=()=>{t(8,y=!1),t(9,E="")},Ne=()=>{M(p)},Ae=()=>{C(p)},Ie=()=>{i("select")},me=()=>{T(p)},pe=()=>{t(7,B=!0)},se=()=>{M(p)},_e=()=>{t(9,E=b),t(8,y=!0)},Ce=()=>{t(14,R=!0)},De=()=>{i("unselect")},ve=async()=>{i("change")},ze=le=>{i("tag",le.detail)},Oe=()=>{t(14,R=!0)},Ke=le=>{t(5,I=!0)},Pe=le=>{t(5,I=!1)};function Qe(le){lt[le?"unshift":"push"](()=>{H=le,t(10,H)})}return r.$$set=le=>{"className"in le&&t(0,d=le.className),"id"in le&&t(1,p=le.id),"title"in le&&t(2,b=le.title),"selected"in le&&t(3,_=le.selected),"shiftKey"in le&&t(4,g=le.shiftKey)},r.$$.update=()=>{r.$$.dirty[0]&32&&I&&$()},[d,p,b,_,g,I,k,B,y,E,H,q,X,N,R,l,n,o,a,i,D,T,C,M,S,x,z,Q,J,ee,ce,fe,he,ge,ke,Ne,Ae,Ie,me,pe,se,_e,Ce,De,ve,ze,Oe,Ke,Pe,Qe]}class Hr extends at{constructor(e){super(),ot(this,e,Cf,Vf,nt,{className:0,id:1,title:2,selected:3,shiftKey:4},null,[-1,-1])}}function _a(r,e,t){const l=r.slice();return l[26]=e[t],l[28]=t,l}function va(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function ga(r){let e,t,l,s,n;function o(d,p){if(d[6].length>0)return Nf;if(d[5].length>0)return Sf}let a=o(r),i=a&&a(r);return{c(){e=h("div"),t=h("div"),i&&i.c(),this.h()},l(d){e=m(d,"DIV",{class:!0});var p=v(e);t=m(p,"DIV",{class:!0});var b=v(t);i&&i.l(b),b.forEach(f),p.forEach(f),this.h()},h(){u(t,"class","px-2 py-2 text-xs group"),u(e,"class","absolute top-0 mt-8 left-0 right-1 border dark:border-gray-900 bg-gray-50 dark:bg-gray-950 rounded-lg z-10 shadow-lg")},m(d,p){O(d,e,p),c(e,t),i&&i.m(t,null),s||(n=[te(e,"mouseenter",r[18]),te(e,"mouseleave",r[19])],s=!0)},p(d,p){a===(a=o(d))&&i?i.p(d,p):(i&&i.d(1),i=a&&a(d),i&&(i.c(),i.m(t,null)))},i(d){d&&(l||Ml(()=>{l=Mo(e,Oo,{duration:50}),l.start()}))},o:ye,d(d){d&&f(e),i&&i.d(),s=!1,it(n)}}}function Sf(r){let e,t=r[2].t("Search options")+"",l,s,n,o=Xe(r[5]),a=[];for(let i=0;i<o.length;i+=1)a[i]=ba(_a(r,o,i));return{c(){e=h("div"),l=U(t),s=V(),n=h("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=m(i,"DIV",{class:!0});var d=v(e);l=P(d,t),d.forEach(f),s=A(i),n=m(i,"DIV",{class:!0});var p=v(n);for(let b=0;b<a.length;b+=1)a[b].l(p);p.forEach(f),this.h()},h(){u(e,"class","px-1 font-medium dark:text-gray-300 text-gray-700 mb-1"),u(n,"class","max-h-60 overflow-auto")},m(i,d){O(i,e,d),c(e,l),O(i,s,d),O(i,n,d);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(n,null)},p(i,d){if(d&4&&t!==(t=i[2].t("Search options")+"")&&j(l,t),d&169){o=Xe(i[5]);let p;for(p=0;p<o.length;p+=1){const b=_a(i,o,p);a[p]?a[p].p(b,d):(a[p]=ba(b),a[p].c(),a[p].m(n,null))}for(;p<a.length;p+=1)a[p].d(1);a.length=o.length}},d(i){i&&(f(e),f(s),f(n)),Ct(a,i)}}}function Nf(r){let e,t="Tags",l,s,n=Xe(r[6]),o=[];for(let a=0;a<n.length;a+=1)o[a]=wa(va(r,n,a));return{c(){e=h("div"),e.textContent=t,l=V(),s=h("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=m(a,"DIV",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-16um22k"&&(e.textContent=t),l=A(a),s=m(a,"DIV",{class:!0});var i=v(s);for(let d=0;d<o.length;d+=1)o[d].l(i);i.forEach(f),this.h()},h(){u(e,"class","px-1 font-medium dark:text-gray-300 text-gray-700 mb-1"),u(s,"class","max-h-60 overflow-auto")},m(a,i){O(a,e,i),O(a,l,i),O(a,s,i);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(s,null)},p(a,i){if(i&201){n=Xe(a[6]);let d;for(d=0;d<n.length;d+=1){const p=va(a,n,d);o[d]?o[d].p(p,i):(o[d]=wa(p),o[d].c(),o[d].m(s,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=n.length}},d(a){a&&(f(e),f(l),f(s)),Ct(o,a)}}}function ba(r){let e,t,l=r[26].name+"",s,n,o,a=r[26].description+"",i,d,p,b,_;return{c(){e=h("button"),t=h("div"),s=U(l),n=V(),o=h("div"),i=U(a),d=V(),this.h()},l(g){e=m(g,"BUTTON",{class:!0,id:!0});var w=v(e);t=m(w,"DIV",{class:!0});var I=v(t);s=P(I,l),I.forEach(f),n=A(w),o=m(w,"DIV",{class:!0});var k=v(o);i=P(k,a),k.forEach(f),d=A(w),w.forEach(f),this.h()},h(){u(t,"class","dark:text-gray-300 text-gray-700 font-medium"),u(o,"class","text-gray-500 line-clamp-1"),u(e,"class",p="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(r[3]===r[28]?"bg-gray-100 dark:bg-gray-900":"")),u(e,"id","search-option-"+r[28])},m(g,w){O(g,e,w),c(e,t),c(t,s),c(e,n),c(e,o),c(o,i),c(e,d),b||(_=te(e,"click",Lo(r[17])),b=!0)},p(g,w){w&32&&l!==(l=g[26].name+"")&&j(s,l),w&32&&a!==(a=g[26].description+"")&&j(i,a),w&8&&p!==(p="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(g[3]===g[28]?"bg-gray-100 dark:bg-gray-900":""))&&u(e,"class",p)},d(g){g&&f(e),b=!1,_()}}}function wa(r){let e,t,l=r[23].name+"",s,n,o,a=r[23].id+"",i,d,p,b,_;function g(){return r[16](r[23])}return{c(){e=h("button"),t=h("div"),s=U(l),n=V(),o=h("div"),i=U(a),d=V(),this.h()},l(w){e=m(w,"BUTTON",{class:!0,id:!0});var I=v(e);t=m(I,"DIV",{class:!0});var k=v(t);s=P(k,l),k.forEach(f),n=A(I),o=m(I,"DIV",{class:!0});var $=v(o);i=P($,a),$.forEach(f),d=A(I),I.forEach(f),this.h()},h(){u(t,"class","dark:text-gray-300 text-gray-700 font-medium line-clamp-1 flex-shrink-0"),u(o,"class","text-gray-500 line-clamp-1"),u(e,"class",p="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(r[3]===r[25]?"bg-gray-100 dark:bg-gray-900":"")),u(e,"id","search-tag-"+r[25])},m(w,I){O(w,e,I),c(e,t),c(t,s),c(e,n),c(e,o),c(o,i),c(e,d),b||(_=te(e,"click",Lo(g)),b=!0)},p(w,I){r=w,I&64&&l!==(l=r[23].name+"")&&j(s,l),I&64&&a!==(a=r[23].id+"")&&j(i,a),I&8&&p!==(p="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(r[3]===r[25]?"bg-gray-100 dark:bg-gray-900":""))&&u(e,"class",p)},d(w){w&&f(e),b=!1,_()}}}function Lf(r){let e,t,l,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',n,o,a,i,d,p,b=r[4]&&(r[5].length>0||r[6].length>0)&&ga(r);return{c(){e=h("div"),t=h("div"),l=h("div"),l.innerHTML=s,n=V(),o=h("input"),i=V(),b&&b.c(),this.h()},l(_){e=m(_,"DIV",{class:!0,id:!0});var g=v(e);t=m(g,"DIV",{class:!0,id:!0});var w=v(t);l=m(w,"DIV",{class:!0,"data-svelte-h":!0}),xe(l)!=="svelte-1k3m202"&&(l.innerHTML=s),n=A(w),o=m(w,"INPUT",{class:!0,placeholder:!0}),w.forEach(f),i=A(g),b&&b.l(g),g.forEach(f),this.h()},h(){u(l,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),u(o,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),u(o,"placeholder",a=r[1]?r[1]:r[2].t("Search")),u(t,"class","flex w-full rounded-xl"),u(t,"id","chat-search"),u(e,"class","px-1 mb-1 flex justify-center space-x-2 relative z-10"),u(e,"id","search-container")},m(_,g){O(_,e,g),c(e,t),c(t,l),c(t,n),c(t,o),Re(o,r[0]),c(e,i),b&&b.m(e,null),d||(p=[te(o,"input",r[12]),te(o,"input",r[13]),te(o,"focus",r[14]),te(o,"keydown",r[15])],d=!0)},p(_,[g]){g&6&&a!==(a=_[1]?_[1]:_[2].t("Search"))&&u(o,"placeholder",a),g&1&&o.value!==_[0]&&Re(o,_[0]),_[4]&&(_[5].length>0||_[6].length>0)?b?(b.p(_,g),g&112&&W(b,1)):(b=ga(_),b.c(),W(b,1),b.m(e,null)):b&&(b.d(1),b=null)},i(_){W(b)},o:ye,d(_){_&&f(e),b&&b.d(),d=!1,it(p)}}}function Mf(r,e,t){let l,s;Ve(r,ds,S=>t(11,s=S));const n=Dt(),o=gt("i18n");Ve(r,o,S=>t(2,l=S));let{placeholder:a=""}=e,{value:i=""}=e,d=0,p="",b=[{name:"tag:",description:l.t("search for tags")}],_=!1,g=b,w=[];const I=async()=>{await ds.set(await nr(localStorage.token))},k=S=>{const H=document.getElementById("search-container"),q=document.getElementById("chat-search");if(!H.contains(S.target)&&!q.contains(S.target)){if(S.target.id.startsWith("search-tag-")||S.target.id.startsWith("search-option-"))return;t(4,_=!1)}};$t(()=>{document.addEventListener("click",k)}),ql(()=>{document.removeEventListener("click",k)});function $(){i=this.value,t(0,i)}const B=()=>{n("input")},y=()=>{t(4,_=!0),I()},E=S=>{if(S.key==="Enter"){if(w.length>0){document.getElementById(`search-tag-${d}`).click();return}if(g.length>0){document.getElementById(`search-option-${d}`).click();return}}S.key==="ArrowUp"?(S.preventDefault(),t(3,d=Math.max(0,d-1))):S.key==="ArrowDown"?(S.preventDefault(),w.length>0?t(3,d=Math.min(d+1,w.length-1)):t(3,d=Math.min(d+1,g.length-1))):t(3,d=0)},D=async S=>{const H=i.split(" ");H.pop(),H.push(`tag:${S.id} `),t(0,i=H.join(" ")),n("input")},T=async()=>{const S=i.split(" ");S.pop(),S.push("tag:"),t(0,i=S.join(" ")),n("input")},C=()=>{t(3,d=null)},M=()=>{t(3,d=0)};return r.$$set=S=>{"placeholder"in S&&t(1,a=S.placeholder),"value"in S&&t(0,i=S.value)},r.$$.update=()=>{r.$$.dirty&1&&t(10,p=i&&i.split(" ").at(-1)),r.$$.dirty&1024&&t(5,g=b.filter(S=>S.name.startsWith(p))),r.$$.dirty&3076&&t(6,w=p.startsWith("tag:")?[...s,{id:"none",name:l.t("Untagged")}].filter(S=>{const H=p.slice(4);if(H){const q=H.replace(" ","_").toLowerCase();return S.id!==q?S.id.startsWith(q):!1}else return!0}):[])},[i,a,l,d,_,g,w,n,o,I,p,s,$,B,y,E,D,T,C,M]}class Of extends at{constructor(e){super(),ot(this,e,Mf,Lf,nt,{placeholder:1,value:0})}}function ka(r){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){u(e,"class","absolute top-0 left-0 w-full h-full rounded-sm bg-[hsla(260,85%,65%,0.1)] bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none")},m(t,l){O(t,e,l)},d(t){t&&f(e)}}}function Bf(r){let e;const t=r[8].default,l=Zl(t,r,r[12],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,n){l&&l.m(s,n),e=!0},p(s,n){l&&l.p&&(!e||n&4096)&&Yl(l,t,s,s[12],e?Kl(t,s[12],n,null):Jl(s[12]),null)},i(s){e||(W(l,s),e=!0)},o(s){K(l,s),e=!1},d(s){l&&l.d(s)}}}function Uf(r){let e,t,l;function s(o){r[9](o)}let n={className:"w-full ",buttonClassName:"w-full",$$slots:{content:[jf],default:[xf]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.open=r[0]),e=new Xo({props:n}),lt.push(()=>pt(e,"open",s)),e.$on("change",r[10]),{c(){re(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){ae(e,o,a),l=!0},p(o,a){const i={};a&4099&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.open=o[0],mt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){K(e.$$.fragment,o),l=!1},d(o){oe(e,o)}}}function Pf(r){let e,t;return e=new Go({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Hf(r){let e,t;return e=new qo({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function xf(r){let e,t,l,s,n,o,a,i,d;const p=[Hf,Pf],b=[];function _(g,w){return g[0]?0:1}return s=_(r),n=b[s]=p[s](r),{c(){e=h("div"),t=h("button"),l=h("div"),n.c(),o=V(),a=h("div"),i=U(r[1]),this.h()},l(g){e=m(g,"DIV",{class:!0});var w=v(e);t=m(w,"BUTTON",{class:!0});var I=v(t);l=m(I,"DIV",{class:!0});var k=v(l);n.l(k),k.forEach(f),o=A(I),a=m(I,"DIV",{class:!0});var $=v(a);i=P($,r[1]),$.forEach(f),I.forEach(f),w.forEach(f),this.h()},h(){u(l,"class","text-gray-300 dark:text-gray-600"),u(a,"class","translate-y-[0.5px]"),u(t,"class","w-full py-1.5 px-2 rounded-md flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-500 font-medium hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(e,"class","w-full")},m(g,w){O(g,e,w),c(e,t),c(t,l),b[s].m(l,null),c(t,o),c(t,a),c(a,i),d=!0},p(g,w){let I=s;s=_(g),s!==I&&(qe(),K(b[I],1,1,()=>{b[I]=null}),Ge(),n=b[s],n||(n=b[s]=p[s](g),n.c()),W(n,1),n.m(l,null)),(!d||w&2)&&j(i,g[1])},i(g){d||(W(n),d=!0)},o(g){K(n),d=!1},d(g){g&&f(e),b[s].d()}}}function jf(r){let e,t;const l=r[8].default,s=Zl(l,r,r[12],null);return{c(){e=h("div"),s&&s.c(),this.h()},l(n){e=m(n,"DIV",{slot:!0,class:!0});var o=v(e);s&&s.l(o),o.forEach(f),this.h()},h(){u(e,"slot","content"),u(e,"class","w-full")},m(n,o){O(n,e,o),s&&s.m(e,null),t=!0},p(n,o){s&&s.p&&(!t||o&4096)&&Yl(s,l,n,n[12],t?Kl(l,n[12],o,null):Jl(n[12]),null)},i(n){t||(W(s,n),t=!0)},o(n){K(s,n),t=!1},d(n){n&&f(e),s&&s.d(n)}}}function zf(r){let e,t,l,s,n,o,a=r[5]&&ka();const i=[Uf,Bf],d=[];function p(b,_){return b[2]?0:1}return l=p(r),s=d[l]=i[l](r),{c(){e=h("div"),a&&a.c(),t=V(),s.c(),this.h()},l(b){e=m(b,"DIV",{class:!0});var _=v(e);a&&a.l(_),t=A(_),s.l(_),_.forEach(f),this.h()},h(){u(e,"class",n="relative "+r[3])},m(b,_){O(b,e,_),a&&a.m(e,null),c(e,t),d[l].m(e,null),r[11](e),o=!0},p(b,[_]){b[5]?a||(a=ka(),a.c(),a.m(e,t)):a&&(a.d(1),a=null);let g=l;l=p(b),l===g?d[l].p(b,_):(qe(),K(d[g],1,1,()=>{d[g]=null}),Ge(),s=d[l],s?s.p(b,_):(s=d[l]=i[l](b),s.c()),W(s,1),s.m(e,null)),(!o||_&8&&n!==(n="relative "+b[3]))&&u(e,"class",n)},i(b){o||(W(s),o=!0)},o(b){K(s),o=!1},d(b){b&&f(e),a&&a.d(),d[l].d(),r[11](null)}}}function Rf(r,e,t){let{$$slots:l={},$$scope:s}=e;gt("i18n");const n=Dt();let{open:o=!0}=e,{id:a=""}=e,{name:i=""}=e,{collapsible:d=!0}=e,{className:p=""}=e,b,_=!1;const g=y=>{y.preventDefault(),y.stopPropagation(),t(5,_=!0)},w=y=>{if(y.preventDefault(),y.stopPropagation(),b.contains(y.target)){if(console.log("Dropped on the Button"),y.dataTransfer.items&&y.dataTransfer.items.length>0)for(const E of Array.from(y.dataTransfer.items))if(E.kind==="file"){const D=E.getAsFile();if(D&&D.type==="application/json"){console.log("Dropped file is a JSON file!");const T=new FileReader;T.onload=async function(C){try{const M=JSON.parse(C.target.result);console.log("Parsed JSON Content: ",M),t(0,o=!0),n("import",M)}catch(M){console.error("Error parsing JSON file:",M)}},T.readAsText(D)}else console.error("Only JSON file types are supported.")}else{t(0,o=!0);const D=y.dataTransfer.getData("text/plain"),T=JSON.parse(D);console.log(T),n("drop",T)}t(5,_=!1)}},I=y=>{y.preventDefault(),y.stopPropagation(),t(5,_=!1)};$t(()=>{b.addEventListener("dragover",g),b.addEventListener("drop",w),b.addEventListener("dragleave",I)}),ql(()=>{b.addEventListener("dragover",g),b.removeEventListener("drop",w),b.removeEventListener("dragleave",I)});function k(y){o=y,t(0,o)}const $=y=>{n("change",y.detail)};function B(y){lt[y?"unshift":"push"](()=>{b=y,t(4,b)})}return r.$$set=y=>{"open"in y&&t(0,o=y.open),"id"in y&&t(7,a=y.id),"name"in y&&t(1,i=y.name),"collapsible"in y&&t(2,d=y.collapsible),"className"in y&&t(3,p=y.className),"$$scope"in y&&t(12,s=y.$$scope)},[o,i,d,p,b,_,n,a,l,k,$,B,s]}class ai extends at{constructor(e){super(),ot(this,e,Rf,zf,nt,{open:0,id:7,name:1,collapsible:2,className:3})}}function Wf(r){let e;const t=r[4].default,l=Zl(t,r,r[10],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,n){l&&l.m(s,n),e=!0},p(s,n){l&&l.p&&(!e||n&1024)&&Yl(l,t,s,s[10],e?Kl(t,s[10],n,null):Jl(s[10]),null)},i(s){e||(W(l,s),e=!0)},o(s){K(l,s),e=!1},d(s){l&&l.d(s)}}}function Ff(r){let e,t;return e=new At({props:{content:r[1].t("More"),$$slots:{default:[Wf]},$$scope:{ctx:r}}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const n={};s&2&&(n.content=l[1].t("More")),s&1024&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Zf(r){let e,t,l,s=r[1].t("Rename")+"",n,o;return e=new Yo({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Rename")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Yf(r){let e,t,l,s=r[1].t("Export")+"",n,o;return e=new ri({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Export")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Jf(r){let e,t,l,s=r[1].t("Delete")+"",n,o;return e=new Ur({props:{strokeWidth:"2"}}),{c(){re(e.$$.fragment),t=V(),l=h("div"),n=U(s),this.h()},l(a){ne(e.$$.fragment,a),t=A(a),l=m(a,"DIV",{class:!0});var i=v(l);n=P(i,s),i.forEach(f),this.h()},h(){u(l,"class","flex items-center")},m(a,i){ae(e,a,i),O(a,t,i),O(a,l,i),c(l,n),o=!0},p(a,i){(!o||i&2)&&s!==(s=a[1].t("Delete")+"")&&j(n,s)},i(a){o||(W(e.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),o=!1},d(a){a&&(f(t),f(l)),oe(e,a)}}}function Kf(r){let e,t,l,s,n,o;return e=new Bt({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Zf]},$$scope:{ctx:r}}}),e.$on("click",r[5]),l=new Bt({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Yf]},$$scope:{ctx:r}}}),l.$on("click",r[6]),n=new Bt({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Jf]},$$scope:{ctx:r}}}),n.$on("click",r[7]),{c(){re(e.$$.fragment),t=V(),re(l.$$.fragment),s=V(),re(n.$$.fragment)},l(a){ne(e.$$.fragment,a),t=A(a),ne(l.$$.fragment,a),s=A(a),ne(n.$$.fragment,a)},m(a,i){ae(e,a,i),O(a,t,i),ae(l,a,i),O(a,s,i),ae(n,a,i),o=!0},p(a,i){const d={};i&1026&&(d.$$scope={dirty:i,ctx:a}),e.$set(d);const p={};i&1026&&(p.$$scope={dirty:i,ctx:a}),l.$set(p);const b={};i&1026&&(b.$$scope={dirty:i,ctx:a}),n.$set(b)},i(a){o||(W(e.$$.fragment,a),W(l.$$.fragment,a),W(n.$$.fragment,a),o=!0)},o(a){K(e.$$.fragment,a),K(l.$$.fragment,a),K(n.$$.fragment,a),o=!1},d(a){a&&(f(t),f(s)),oe(e,a),oe(l,a),oe(n,a)}}}function qf(r){let e,t,l;return t=new Zo({props:{class:"w-full max-w-[160px] rounded-lg px-1 py-1.5  z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",transition:Br,$$slots:{default:[Kf]},$$scope:{ctx:r}}}),{c(){e=h("div"),re(t.$$.fragment),this.h()},l(s){e=m(s,"DIV",{slot:!0});var n=v(e);ne(t.$$.fragment,n),n.forEach(f),this.h()},h(){u(e,"slot","content")},m(s,n){O(s,e,n),ae(t,e,null),l=!0},p(s,n){const o={};n&1026&&(o.$$scope={dirty:n,ctx:s}),t.$set(o)},i(s){l||(W(t.$$.fragment,s),l=!0)},o(s){K(t.$$.fragment,s),l=!1},d(s){s&&f(e),oe(t)}}}function Gf(r){let e,t,l;function s(o){r[8](o)}let n={$$slots:{content:[qf],default:[Ff]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.show=r[0]),e=new Fo({props:n}),lt.push(()=>pt(e,"show",s)),e.$on("change",r[9]),{c(){re(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){ae(e,o,a),l=!0},p(o,[a]){const i={};a&1026&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],mt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){K(e.$$.fragment,o),l=!1},d(o){oe(e,o)}}}function Xf(r,e,t){let l,{$$slots:s={},$$scope:n}=e;const o=gt("i18n");Ve(r,o,w=>t(1,l=w));const a=Dt();let i=!1;const d=()=>{a("rename")},p=()=>{a("export")},b=()=>{a("delete")};function _(w){i=w,t(0,i)}const g=w=>{w.detail===!1&&a("close")};return r.$$set=w=>{"$$scope"in w&&t(10,n=w.$$scope)},[i,l,o,a,s,d,p,b,_,g,n]}class Qf extends at{constructor(e){super(),ot(this,e,Xf,Gf,nt,{})}}function ya(r,e,t){const l=r.slice();return l[47]=e[t],l}function Ea(r,e,t){const l=r.slice();return l[51]=e[t],l}function Dr(r){var l;const e=r.slice(),t=(l=e[1][e[2]])==null?void 0:l.childrenIds.map(s=>e[1][s]).sort((s,n)=>s.name.localeCompare(n.name,void 0,{numeric:!0,sensitivity:"base"}));return e[50]=t,e}function eu(r){let e,t,l=oa.sanitize(r[12].t("This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.",{NAME:r[1][r[2]].name}))+"";return{c(){e=h("div"),t=new ci(!1),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=v(e);t=fi(n,!1),n.forEach(f),this.h()},h(){t.a=null,u(e,"class","text-sm text-gray-700 dark:text-gray-300 flex-1 line-clamp-3")},m(s,n){O(s,e,n),t.m(l,e)},p(s,n){n[0]&4102&&l!==(l=oa.sanitize(s[12].t("This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.",{NAME:s[1][s[2]].name}))+"")&&t.p(l)},d(s){s&&f(e)}}}function Ia(r){let e,t;return e=new ni({props:{x:r[9],y:r[10],$$slots:{default:[tu]},$$scope:{ctx:r}}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const n={};s[0]&512&&(n.x=l[9]),s[0]&1024&&(n.y=l[10]),s[0]&6|s[1]&8388608&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function tu(r){let e,t,l,s,n,o=r[1][r[2]].name+"",a,i;return l=new Xi({props:{className:"size-3.5",strokeWidth:"2"}}),{c(){e=h("div"),t=h("div"),re(l.$$.fragment),s=V(),n=h("div"),a=U(o),this.h()},l(d){e=m(d,"DIV",{class:!0});var p=v(e);t=m(p,"DIV",{class:!0});var b=v(t);ne(l.$$.fragment,b),s=A(b),n=m(b,"DIV",{class:!0});var _=v(n);a=P(_,o),_.forEach(f),b.forEach(f),p.forEach(f),this.h()},h(){u(n,"class","text-xs text-white line-clamp-1"),u(t,"class","flex items-center gap-1"),u(e,"class","bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40")},m(d,p){O(d,e,p),c(e,t),ae(l,t,null),c(t,s),c(t,n),c(n,a),i=!0},p(d,p){(!i||p[0]&6)&&o!==(o=d[1][d[2]].name+"")&&j(a,o)},i(d){i||(W(l.$$.fragment,d),i=!0)},o(d){K(l.$$.fragment,d),i=!1},d(d){d&&f(e),oe(l)}}}function Da(r){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){u(e,"class","absolute top-0 left-0 w-full h-full rounded-sm bg-[hsla(260,85%,65%,0.1)] bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none")},m(t,l){O(t,e,l)},d(t){t&&f(e)}}}function lu(r){let e,t;return e=new Go({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function su(r){let e,t;return e=new qo({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ru(r){let e=r[1][r[2]].name+"",t;return{c(){t=U(e)},l(l){t=P(l,e)},m(l,s){O(l,t,s)},p(l,s){s[0]&6&&e!==(e=l[1][l[2]].name+"")&&j(t,e)},d(l){l&&f(t)}}}function nu(r){let e,t,l,s;return{c(){e=h("input"),this.h()},l(n){e=m(n,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){u(e,"id",t="folder-"+r[2]+"-input"),u(e,"type","text"),u(e,"class","w-full h-full bg-transparent text-gray-500 dark:text-gray-500 outline-none")},m(n,o){O(n,e,o),Re(e,r[8]),l||(s=[te(e,"input",r[26]),te(e,"blur",r[27]),te(e,"click",fu),te(e,"mousedown",uu),te(e,"keydown",r[28])],l=!0)},p(n,o){o[0]&4&&t!==(t="folder-"+n[2]+"-input")&&u(e,"id",t),o[0]&256&&e.value!==n[8]&&Re(e,n[8])},d(n){n&&f(e),l=!1,it(s)}}}function au(r){let e,t,l,s,n;return t=new Qi({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=h("button"),re(t.$$.fragment),this.h()},l(o){e=m(o,"BUTTON",{class:!0});var a=v(e);ne(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto")},m(o,a){O(o,e,a),ae(t,e,null),l=!0,s||(n=te(e,"click",du),s=!0)},p:ye,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){K(t.$$.fragment,o),l=!1},d(o){o&&f(e),oe(t),s=!1,n()}}}function ou(r){let e,t,l,s,n,o,a,i,d,p,b,_,g,w;const I=[su,lu],k=[];function $(D,T){return D[0]?0:1}s=$(r),n=k[s]=I[s](r);function B(D,T){return D[5]?nu:ru}let y=B(r),E=y(r);return p=new Qf({props:{$$slots:{default:[au]},$$scope:{ctx:r}}}),p.$on("rename",r[29]),p.$on("delete",r[30]),p.$on("export",r[31]),{c(){e=h("div"),t=h("button"),l=h("div"),n.c(),o=V(),a=h("div"),E.c(),i=V(),d=h("button"),re(p.$$.fragment),this.h()},l(D){e=m(D,"DIV",{class:!0});var T=v(e);t=m(T,"BUTTON",{id:!0,class:!0});var C=v(t);l=m(C,"DIV",{class:!0});var M=v(l);n.l(M),M.forEach(f),o=A(C),a=m(C,"DIV",{class:!0});var S=v(a);E.l(S),S.forEach(f),i=A(C),d=m(C,"BUTTON",{class:!0});var H=v(d);ne(p.$$.fragment,H),H.forEach(f),C.forEach(f),T.forEach(f),this.h()},h(){u(l,"class","text-gray-300 dark:text-gray-600"),u(a,"class","translate-y-[0.5px] flex-1 justify-start text-start line-clamp-1"),u(d,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300"),u(t,"id",b="folder-"+r[2]+"-button"),u(t,"class","relative w-full py-1.5 px-2 rounded-md flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-500 font-medium hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(e,"class","w-full group")},m(D,T){O(D,e,T),c(e,t),c(t,l),k[s].m(l,null),c(t,o),c(t,a),E.m(a,null),c(t,i),c(t,d),ae(p,d,null),_=!0,g||(w=[te(d,"pointerup",hu),te(t,"dblclick",r[32])],g=!0)},p(D,T){let C=s;s=$(D),s!==C&&(qe(),K(k[C],1,1,()=>{k[C]=null}),Ge(),n=k[s],n||(n=k[s]=I[s](D),n.c()),W(n,1),n.m(l,null)),y===(y=B(D))&&E?E.p(D,T):(E.d(1),E=y(D),E&&(E.c(),E.m(a,null)));const M={};T[1]&8388608&&(M.$$scope={dirty:T,ctx:D}),p.$set(M),(!_||T[0]&4&&b!==(b="folder-"+D[2]+"-button"))&&u(t,"id",b)},i(D){_||(W(n),W(p.$$.fragment,D),_=!0)},o(D){K(n),K(p.$$.fragment,D),_=!1},d(D){D&&f(e),k[s].d(),E.d(),oe(p),g=!1,it(w)}}}function $a(r){var o,a;let e,t,l,s=((o=r[1][r[2]])==null?void 0:o.childrenIds)&&Ta(Dr(r)),n=((a=r[1][r[2]].items)==null?void 0:a.chats)&&Aa(r);return{c(){e=h("div"),s&&s.c(),t=V(),n&&n.c(),this.h()},l(i){e=m(i,"DIV",{class:!0});var d=v(e);s&&s.l(d),t=A(d),n&&n.l(d),d.forEach(f),this.h()},h(){u(e,"class","ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900")},m(i,d){O(i,e,d),s&&s.m(e,null),c(e,t),n&&n.m(e,null),l=!0},p(i,d){var p,b;(p=i[1][i[2]])!=null&&p.childrenIds?s?(s.p(Dr(i),d),d[0]&6&&W(s,1)):(s=Ta(Dr(i)),s.c(),W(s,1),s.m(e,t)):s&&(qe(),K(s,1,1,()=>{s=null}),Ge()),(b=i[1][i[2]].items)!=null&&b.chats?n?(n.p(i,d),d[0]&6&&W(n,1)):(n=Aa(i),n.c(),W(n,1),n.m(e,null)):n&&(qe(),K(n,1,1,()=>{n=null}),Ge())},i(i){l||(W(s),W(n),l=!0)},o(i){K(s),K(n),l=!1},d(i){i&&f(e),s&&s.d(),n&&n.d()}}}function Ta(r){let e=[],t=new Map,l,s,n=Xe(r[50]);const o=a=>`${a[2]}-${a[51].id}`;for(let a=0;a<n.length;a+=1){let i=Ea(r,n,a),d=o(i);t.set(d,e[a]=Va(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ft()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ft()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);O(a,l,i),s=!0},p(a,i){i[0]&16518&&(n=Xe(a[50]),qe(),e=or(e,i,o,1,a,n,t,l.parentNode,ir,Va,l,Ea),Ge())},i(a){if(!s){for(let i=0;i<n.length;i+=1)W(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)K(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function Va(r,e){let t,l,s;return l=new oi({props:{folders:e[1],folderId:e[51].id,parentDragged:e[7]}}),l.$on("import",e[22]),l.$on("update",e[23]),l.$on("change",e[24]),{key:r,first:null,c(){t=ft(),re(l.$$.fragment),this.h()},l(n){t=ft(),ne(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){O(n,t,o),ae(l,n,o),s=!0},p(n,o){e=n;const a={};o[0]&2&&(a.folders=e[1]),o[0]&6&&(a.folderId=e[51].id),o[0]&128&&(a.parentDragged=e[7]),l.$set(a)},i(n){s||(W(l.$$.fragment,n),s=!0)},o(n){K(l.$$.fragment,n),s=!1},d(n){n&&f(t),oe(l,n)}}}function Aa(r){let e=[],t=new Map,l,s,n=Xe(r[1][r[2]].items.chats);const o=a=>a[47].id;for(let a=0;a<n.length;a+=1){let i=ya(r,n,a),d=o(i);t.set(d,e[a]=Ca(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ft()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ft()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);O(a,l,i),s=!0},p(a,i){i[0]&16390&&(n=Xe(a[1][a[2]].items.chats),qe(),e=or(e,i,o,1,a,n,t,l.parentNode,ir,Ca,l,ya),Ge())},i(a){if(!s){for(let i=0;i<n.length;i+=1)W(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)K(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function Ca(r,e){let t,l,s;return l=new Hr({props:{id:e[47].id,title:e[47].title}}),l.$on("change",e[25]),{key:r,first:null,c(){t=ft(),re(l.$$.fragment),this.h()},l(n){t=ft(),ne(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){O(n,t,o),ae(l,n,o),s=!0},p(n,o){e=n;const a={};o[0]&6&&(a.id=e[47].id),o[0]&6&&(a.title=e[47].title),l.$set(a)},i(n){s||(W(l.$$.fragment,n),s=!0)},o(n){K(l.$$.fragment,n),s=!1},d(n){n&&f(t),oe(l,n)}}}function iu(r){var s,n;let e,t,l=((((s=r[1][r[2]])==null?void 0:s.childrenIds)??[]).length>0||(((n=r[1][r[2]].items)==null?void 0:n.chats)??[]).length>0)&&$a(r);return{c(){e=h("div"),l&&l.c(),this.h()},l(o){e=m(o,"DIV",{slot:!0,class:!0});var a=v(e);l&&l.l(a),a.forEach(f),this.h()},h(){u(e,"slot","content"),u(e,"class","w-full")},m(o,a){O(o,e,a),l&&l.m(e,null),t=!0},p(o,a){var i,d;(((i=o[1][o[2]])==null?void 0:i.childrenIds)??[]).length>0||(((d=o[1][o[2]].items)==null?void 0:d.chats)??[]).length>0?l?(l.p(o,a),a[0]&6&&W(l,1)):(l=$a(o),l.c(),W(l,1),l.m(e,null)):l&&(qe(),K(l,1,1,()=>{l=null}),Ge())},i(o){t||(W(l),t=!0)},o(o){K(l),t=!1},d(o){o&&f(e),l&&l.d()}}}function cu(r){var $,B;let e,t,l,s,n,o,a,i,d,p;function b(y){r[20](y)}let _={title:r[12].t("Delete folder?"),$$slots:{default:[eu]},$$scope:{ctx:r}};r[11]!==void 0&&(_.show=r[11]),e=new Or({props:_}),lt.push(()=>pt(e,"show",b)),e.$on("confirm",r[21]);let g=r[7]&&r[9]&&r[10]&&Ia(r),w=r[6]&&Da();function I(y){r[33](y)}let k={className:"w-full",buttonClassName:"w-full",hide:((($=r[1][r[2]])==null?void 0:$.childrenIds)??[]).length===0&&(((B=r[1][r[2]].items)==null?void 0:B.chats)??[]).length===0,$$slots:{content:[iu],default:[ou]},$$scope:{ctx:r}};return r[0]!==void 0&&(k.open=r[0]),a=new Xo({props:k}),lt.push(()=>pt(a,"open",I)),a.$on("change",r[34]),{c(){re(e.$$.fragment),l=V(),g&&g.c(),s=V(),n=h("div"),w&&w.c(),o=V(),re(a.$$.fragment),this.h()},l(y){ne(e.$$.fragment,y),l=A(y),g&&g.l(y),s=A(y),n=m(y,"DIV",{class:!0,draggable:!0});var E=v(n);w&&w.l(E),o=A(E),ne(a.$$.fragment,E),E.forEach(f),this.h()},h(){u(n,"class",d="relative "+r[3]),u(n,"draggable","true")},m(y,E){ae(e,y,E),O(y,l,E),g&&g.m(y,E),O(y,s,E),O(y,n,E),w&&w.m(n,null),c(n,o),ae(a,n,null),r[35](n),p=!0},p(y,E){var C,M;const D={};E[0]&4096&&(D.title=y[12].t("Delete folder?")),E[0]&4102|E[1]&8388608&&(D.$$scope={dirty:E,ctx:y}),!t&&E[0]&2048&&(t=!0,D.show=y[11],mt(()=>t=!1)),e.$set(D),y[7]&&y[9]&&y[10]?g?(g.p(y,E),E[0]&1664&&W(g,1)):(g=Ia(y),g.c(),W(g,1),g.m(s.parentNode,s)):g&&(qe(),K(g,1,1,()=>{g=null}),Ge()),y[6]?w||(w=Da(),w.c(),w.m(n,o)):w&&(w.d(1),w=null);const T={};E[0]&6&&(T.hide=(((C=y[1][y[2]])==null?void 0:C.childrenIds)??[]).length===0&&(((M=y[1][y[2]].items)==null?void 0:M.chats)??[]).length===0),E[0]&2471|E[1]&8388608&&(T.$$scope={dirty:E,ctx:y}),!i&&E[0]&1&&(i=!0,T.open=y[0],mt(()=>i=!1)),a.$set(T),(!p||E[0]&8&&d!==(d="relative "+y[3]))&&u(n,"class",d)},i(y){p||(W(e.$$.fragment,y),W(g),W(a.$$.fragment,y),p=!0)},o(y){K(e.$$.fragment,y),K(g),K(a.$$.fragment,y),p=!1},d(y){y&&(f(l),f(s),f(n)),oe(e,y),g&&g.d(y),w&&w.d(),oe(a),r[35](null)}}}const fu=r=>{r.stopPropagation()},uu=r=>{r.stopPropagation()},du=r=>{},hu=r=>{r.stopPropagation()};function mu(r,e,t){let l;const s=gt("i18n");Ve(r,s,se=>t(12,l=se));const n=Dt(),{saveAs:o}=hs;let{open:a=!1}=e,{folders:i}=e,{folderId:d}=e,{className:p=""}=e,{parentDragged:b=!1}=e,_,g=!1,w=!1,I=!1,k="";const $=se=>{se.preventDefault(),se.stopPropagation(),!(I||b)&&t(6,w=!0)},B=async se=>{if(se.preventDefault(),se.stopPropagation(),!(I||b)&&_.contains(se.target)){if(console.log("Dropped on the Button"),se.dataTransfer.items&&se.dataTransfer.items.length>0)for(const _e of Array.from(se.dataTransfer.items))if(_e.kind==="file"){const Ce=_e.getAsFile();if(Ce&&Ce.type==="application/json"){console.log("Dropped file is a JSON file!");const De=new FileReader;De.onload=async function(ve){try{const ze=JSON.parse(ve.target.result);t(0,a=!0),n("import",{folderId:d,items:ze})}catch(ze){console.error("Error parsing JSON file:",ze)}},De.readAsText(Ce)}else console.error("Only JSON file types are supported.");console.log(Ce)}else{const Ce=se.dataTransfer.getData("text/plain"),De=JSON.parse(Ce);console.log(De);const{type:ve,id:ze,item:Oe}=De;if(ve==="folder"){if(t(0,a=!0),ze===d)return;await si(localStorage.token,ze,d).catch(Pe=>(Ue.error(Pe),null))&&n("update")}else if(ve==="chat"){t(0,a=!0);let Ke=await Nl(localStorage.token,ze).catch(Qe=>null);!Ke&&Oe&&(Ke=await lr(localStorage.token,Oe.chat,(Oe==null?void 0:Oe.meta)??{})),await Nr(localStorage.token,Ke.id,d).catch(Qe=>(Ue.error(Qe),null))&&n("update")}}t(6,w=!1)}},y=se=>{se.preventDefault(),!(I||b)&&t(6,w=!1)},E=new Image;E.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";let D,T;const C=se=>{se.stopPropagation(),se.dataTransfer.setDragImage(E,0,0),se.dataTransfer.setData("text/plain",JSON.stringify({type:"folder",id:d})),t(7,I=!0),t(4,_.style.opacity="0.5",_)},M=se=>{se.stopPropagation(),t(9,D=se.clientX),t(10,T=se.clientY)},S=se=>{se.stopPropagation(),t(4,_.style.opacity="1",_),t(7,I=!1)};$t(()=>{t(0,a=i[d].is_expanded),_&&(_.addEventListener("dragover",$),_.addEventListener("drop",B),_.addEventListener("dragleave",y),_.addEventListener("dragstart",C),_.addEventListener("drag",M),_.addEventListener("dragend",S))}),ql(()=>{_&&(_.addEventListener("dragover",$),_.removeEventListener("drop",B),_.removeEventListener("dragleave",y),_.removeEventListener("dragstart",C),_.removeEventListener("drag",M),_.removeEventListener("dragend",S))});let H=!1;const q=async()=>{await $c(localStorage.token,d).catch(_e=>(Ue.error(_e),null))&&(Ue.success(l.t("Folder deleted successfully")),n("update"))},X=async()=>{if(k===""){Ue.error(l.t("Folder name cannot be empty"));return}if(k===i[d].name){t(5,g=!1);return}const se=i[d].name;t(8,k=k.trim()),t(1,i[d].name=k,i),await Ic(localStorage.token,d,k).catch(Ce=>(Ue.error(Ce),t(1,i[d].name=se,i),null))&&(t(1,i[d].name=k,i),Ue.success(l.t("Folder name updated successfully")),n("update"))},N=async()=>{await Dc(localStorage.token,d,a).catch(se=>(Ue.error(se),null))};let L;const Y=se=>{clearTimeout(L),L=setTimeout(()=>{N()},500)},Z=async()=>{console.log("Edit"),await Fl(),t(8,k=i[d].name),t(5,g=!0),await Fl(),setTimeout(()=>{document.getElementById(`folder-${d}-input`).focus()},100)},F=async()=>{const se=await Ni(localStorage.token,d).catch(Ce=>(Ue.error(Ce),null));if(!se)return;const _e=new Blob([JSON.stringify(se)],{type:"application/json"});o(_e,`folder-${i[d].name}-export-${Date.now()}.json`)};function R(se){H=se,t(11,H)}const x=()=>{q()},z=se=>{n("import",se.detail)},Q=se=>{n("update",se.detail)},J=se=>{n("change",se.detail)},ee=se=>{n("change",se.detail)};function ce(){k=this.value,t(8,k)}const fe=()=>{X(),t(5,g=!1)},he=se=>{se.key==="Enter"&&(X(),t(5,g=!1))},ge=()=>{Z()},ke=()=>{t(11,H=!0)},Ne=()=>{F()},Ae=()=>{Z()};function Ie(se){a=se,t(0,a)}const me=se=>{n("open",se.detail)};function pe(se){lt[se?"unshift":"push"](()=>{_=se,t(4,_)})}return r.$$set=se=>{"open"in se&&t(0,a=se.open),"folders"in se&&t(1,i=se.folders),"folderId"in se&&t(2,d=se.folderId),"className"in se&&t(3,p=se.className),"parentDragged"in se&&t(19,b=se.parentDragged)},r.$$.update=()=>{r.$$.dirty[0]&1&&Y()},[a,i,d,p,_,g,w,I,k,D,T,H,l,s,n,q,X,Z,F,b,R,x,z,Q,J,ee,ce,fe,he,ge,ke,Ne,Ae,Ie,me,pe]}class oi extends at{constructor(e){super(),ot(this,e,mu,cu,nt,{open:0,folders:1,folderId:2,className:3,parentDragged:19},null,[-1,-1])}}function Sa(r,e,t){const l=r.slice();return l[6]=e[t],l}function Na(r,e){let t,l,s;return l=new oi({props:{className:"px-2",folders:e[0],folderId:e[6]}}),l.$on("import",e[3]),l.$on("update",e[4]),l.$on("change",e[5]),{key:r,first:null,c(){t=ft(),re(l.$$.fragment),this.h()},l(n){t=ft(),ne(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){O(n,t,o),ae(l,n,o),s=!0},p(n,o){e=n;const a={};o&1&&(a.folders=e[0]),o&2&&(a.folderId=e[6]),l.$set(a)},i(n){s||(W(l.$$.fragment,n),s=!0)},o(n){K(l.$$.fragment,n),s=!1},d(n){n&&f(t),oe(l,n)}}}function pu(r){let e=[],t=new Map,l,s,n=Xe(r[1]);const o=a=>a[6];for(let a=0;a<n.length;a+=1){let i=Sa(r,n,a),d=o(i);t.set(d,e[a]=Na(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ft()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ft()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);O(a,l,i),s=!0},p(a,[i]){i&7&&(n=Xe(a[1]),qe(),e=or(e,i,o,1,a,n,t,l.parentNode,ir,Na,l,Sa),Ge())},i(a){if(!s){for(let i=0;i<n.length;i+=1)W(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)K(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function _u(r,e,t){const l=Dt();let{folders:s={}}=e,n=[];const o=d=>{l("import",d.detail)},a=d=>{l("update",d.detail)},i=d=>{l("change",d.detail)};return r.$$set=d=>{"folders"in d&&t(0,s=d.folders)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=Object.keys(s).filter(d=>s[d].parent_id===null).sort((d,p)=>s[d].name.localeCompare(s[p].name,void 0,{numeric:!0,sensitivity:"base"})))},[s,n,l,o,a,i]}class vu extends at{constructor(e){super(),ot(this,e,_u,pu,nt,{folders:0})}}function La(r,e,t){const l=r.slice();return l[71]=e[t],l[73]=t,l}function Ma(r,e,t){const l=r.slice();return l[71]=e[t],l[73]=t,l}function Oa(r){let e,t,l;return{c(){e=h("div"),this.h()},l(s){e=m(s,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){u(e,"class","fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(s,n){O(s,e,n),t||(l=te(e,"mousedown",r[28]),t=!0)},p:ye,d(s){s&&f(e),t=!1,l()}}}function Ba(r){let e,t,l,s='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',n,o,a,i=r[11].t("Workspace")+"",d,p,b;return{c(){e=h("div"),t=h("a"),l=h("div"),l.innerHTML=s,n=V(),o=h("div"),a=h("div"),d=U(i),this.h()},l(_){e=m(_,"DIV",{class:!0});var g=v(e);t=m(g,"A",{class:!0,href:!0,draggable:!0});var w=v(t);l=m(w,"DIV",{class:!0,"data-svelte-h":!0}),xe(l)!=="svelte-zod9jr"&&(l.innerHTML=s),n=A(w),o=m(w,"DIV",{class:!0});var I=v(o);a=m(I,"DIV",{class:!0});var k=v(a);d=P(k,i),k.forEach(f),I.forEach(f),w.forEach(f),g.forEach(f),this.h()},h(){u(l,"class","self-center"),u(a,"class","self-center font-medium text-sm font-primary"),u(o,"class","flex self-center"),u(t,"class","flex-grow flex space-x-3 rounded-lg px-2 py-[7px] hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(t,"href","/workspace"),u(t,"draggable","false"),u(e,"class","px-1.5 flex justify-center text-gray-800 dark:text-gray-200")},m(_,g){O(_,e,g),c(e,t),c(t,l),c(t,n),c(t,o),c(o,a),c(a,d),p||(b=te(t,"click",r[31]),p=!0)},p(_,g){g[0]&2048&&i!==(i=_[11].t("Workspace")+"")&&j(d,i)},d(_){_&&f(e),p=!1,b()}}}function Ua(r){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){u(e,"class","absolute z-40 w-full h-full flex justify-center")},m(t,l){O(t,e,l)},d(t){t&&f(e)}}}function gu(r){let e,t,l,s,n;return t=new Qo({}),{c(){e=h("button"),re(t.$$.fragment),this.h()},l(o){e=m(o,"BUTTON",{class:!0});var a=v(e);ne(t.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","p-1 rounded-lg bg-gray-50 hover:bg-gray-100 dark:bg-gray-950 dark:hover:bg-gray-900 transition")},m(o,a){O(o,e,a),ae(t,e,null),l=!0,s||(n=te(e,"click",r[33]),s=!0)},p:ye,i(o){l||(W(t.$$.fragment,o),l=!0)},o(o){K(t.$$.fragment,o),l=!1},d(o){o&&f(e),oe(t),s=!1,n()}}}function Pa(r){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){u(e,"class","absolute z-40 w-full h-full flex justify-center")},m(t,l){O(t,e,l)},d(t){t&&f(e)}}}function Ha(r){let e,t,l,s;function n(a){r[38](a)}let o={className:"px-2",name:r[11].t("Pinned"),$$slots:{default:[bu]},$$scope:{ctx:r}};return r[5]!==void 0&&(o.open=r[5]),t=new ai({props:o}),lt.push(()=>pt(t,"open",n)),t.$on("change",r[39]),t.$on("import",r[40]),t.$on("drop",r[41]),{c(){e=h("div"),re(t.$$.fragment),this.h()},l(a){e=m(a,"DIV",{class:!0});var i=v(e);ne(t.$$.fragment,i),i.forEach(f),this.h()},h(){u(e,"class","flex flex-col space-y-1 rounded-xl")},m(a,i){O(a,e,i),ae(t,e,null),s=!0},p(a,i){const d={};i[0]&2048&&(d.name=a[11].t("Pinned")),i[0]&65548|i[2]&8192&&(d.$$scope={dirty:i,ctx:a}),!l&&i[0]&32&&(l=!0,d.open=a[5],mt(()=>l=!1)),t.$set(d)},i(a){s||(W(t.$$.fragment,a),s=!0)},o(a){K(t.$$.fragment,a),s=!1},d(a){a&&f(e),oe(t)}}}function xa(r){let e,t;function l(){return r[34](r[71])}function s(...n){return r[37](r[71],...n)}return e=new Hr({props:{className:"",id:r[71].id,title:r[71].title,shiftKey:r[2],selected:r[3]===r[71].id}}),e.$on("select",l),e.$on("unselect",r[35]),e.$on("change",r[36]),e.$on("tag",s),{c(){re(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,o){ae(e,n,o),t=!0},p(n,o){r=n;const a={};o[0]&65536&&(a.id=r[71].id),o[0]&65536&&(a.title=r[71].title),o[0]&4&&(a.shiftKey=r[2]),o[0]&65544&&(a.selected=r[3]===r[71].id),e.$set(a)},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function bu(r){let e,t,l=Xe(r[16]),s=[];for(let o=0;o<l.length;o+=1)s[o]=xa(Ma(r,l,o));const n=o=>K(s[o],1,1,()=>{s[o]=null});return{c(){e=h("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=m(o,"DIV",{class:!0});var a=v(e);for(let i=0;i<s.length;i+=1)s[i].l(a);a.forEach(f),this.h()},h(){u(e,"class","ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900 svelte-141e0sl")},m(o,a){O(o,e,a);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);t=!0},p(o,a){if(a[0]&35717132){l=Xe(o[16]);let i;for(i=0;i<l.length;i+=1){const d=Ma(o,l,i);s[i]?(s[i].p(d,a),W(s[i],1)):(s[i]=xa(d),s[i].c(),W(s[i],1),s[i].m(e,null))}for(qe(),i=l.length;i<s.length;i+=1)n(i);Ge()}},i(o){if(!t){for(let a=0;a<l.length;a+=1)W(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)K(s[a]);t=!1},d(o){o&&f(e),Ct(s,o)}}}function ja(r){let e,t;return e=new vu({props:{folders:r[8]}}),e.$on("import",r[42]),e.$on("update",r[43]),e.$on("change",r[44]),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const n={};s[0]&256&&(n.folders=l[8]),e.$set(n)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function wu(r){let e,t,l,s,n="Loading...",o;return t=new Ko({props:{className:" size-4"}}),{c(){e=h("div"),re(t.$$.fragment),l=V(),s=h("div"),s.textContent=n,this.h()},l(a){e=m(a,"DIV",{class:!0});var i=v(e);ne(t.$$.fragment,i),l=A(i),s=m(i,"DIV",{class:!0,"data-svelte-h":!0}),xe(s)!=="svelte-17uns3n"&&(s.textContent=n),i.forEach(f),this.h()},h(){u(s,"class",""),u(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(a,i){O(a,e,i),ae(t,e,null),c(e,l),c(e,s),o=!0},p:ye,i(a){o||(W(t.$$.fragment,a),o=!0)},o(a){K(t.$$.fragment,a),o=!1},d(a){a&&f(e),oe(t)}}}function ku(r){let e,t,l,s=Xe(r[12]),n=[];for(let i=0;i<s.length;i+=1)n[i]=Ra(La(r,s,i));const o=i=>K(n[i],1,1,()=>{n[i]=null});let a=r[17]&&!r[7]&&Wa(r);return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=V(),a&&a.c(),t=ft()},l(i){for(let d=0;d<n.length;d+=1)n[d].l(i);e=A(i),a&&a.l(i),t=ft()},m(i,d){for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(i,d);O(i,e,d),a&&a.m(i,d),O(i,t,d),l=!0},p(i,d){if(d[0]&35657740){s=Xe(i[12]);let p;for(p=0;p<s.length;p+=1){const b=La(i,s,p);n[p]?(n[p].p(b,d),W(n[p],1)):(n[p]=Ra(b),n[p].c(),W(n[p],1),n[p].m(e.parentNode,e))}for(qe(),p=s.length;p<n.length;p+=1)o(p);Ge()}i[17]&&!i[7]?a?(a.p(i,d),d[0]&131200&&W(a,1)):(a=Wa(i),a.c(),W(a,1),a.m(t.parentNode,t)):a&&(qe(),K(a,1,1,()=>{a=null}),Ge())},i(i){if(!l){for(let d=0;d<s.length;d+=1)W(n[d]);W(a),l=!0}},o(i){n=n.filter(Boolean);for(let d=0;d<n.length;d+=1)K(n[d]);K(a),l=!1},d(i){i&&(f(e),f(t)),Ct(n,i),a&&a.d(i)}}}function za(r){let e,t=r[11].t(r[71].time_range)+"",l;return{c(){e=h("div"),l=U(t),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(r[73]===0?"":"pt-5")+" pb-1.5")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&6144&&t!==(t=s[11].t(s[71].time_range)+"")&&j(l,t)},d(s){s&&f(e)}}}function Ra(r){let e,t,l,s=(r[73]===0||r[73]>0&&r[71].time_range!==r[12][r[73]-1].time_range)&&za(r);function n(){return r[45](r[71])}function o(...a){return r[48](r[71],...a)}return t=new Hr({props:{className:"",id:r[71].id,title:r[71].title,shiftKey:r[2],selected:r[3]===r[71].id}}),t.$on("select",n),t.$on("unselect",r[46]),t.$on("change",r[47]),t.$on("tag",o),{c(){s&&s.c(),e=V(),re(t.$$.fragment)},l(a){s&&s.l(a),e=A(a),ne(t.$$.fragment,a)},m(a,i){s&&s.m(a,i),O(a,e,i),ae(t,a,i),l=!0},p(a,i){r=a,r[73]===0||r[73]>0&&r[71].time_range!==r[12][r[73]-1].time_range?s?s.p(r,i):(s=za(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const d={};i[0]&4096&&(d.id=r[71].id),i[0]&4096&&(d.title=r[71].title),i[0]&4&&(d.shiftKey=r[2]),i[0]&4104&&(d.selected=r[3]===r[71].id),t.$set(d)},i(a){l||(W(t.$$.fragment,a),l=!0)},o(a){K(t.$$.fragment,a),l=!1},d(a){a&&f(e),s&&s.d(a),oe(t,a)}}}function Wa(r){let e,t;return e=new Gi({props:{$$slots:{default:[yu]},$$scope:{ctx:r}}}),e.$on("visible",r[49]),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const n={};s[2]&8192&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function yu(r){let e,t,l,s,n="Loading...",o;return t=new Ko({props:{className:" size-4"}}),{c(){e=h("div"),re(t.$$.fragment),l=V(),s=h("div"),s.textContent=n,this.h()},l(a){e=m(a,"DIV",{class:!0});var i=v(e);ne(t.$$.fragment,i),l=A(i),s=m(i,"DIV",{class:!0,"data-svelte-h":!0}),xe(s)!=="svelte-17uns3n"&&(s.textContent=n),i.forEach(f),this.h()},h(){u(s,"class",""),u(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(a,i){O(a,e,i),ae(t,e,null),c(e,l),c(e,s),o=!0},p:ye,i(a){o||(W(t.$$.fragment,a),o=!0)},o(a){K(t.$$.fragment,a),o=!1},d(a){a&&f(e),oe(t)}}}function Eu(r){let e,t,l,s;const n=[ku,wu],o=[];function a(i,d){return i[12]?0:1}return t=a(r),l=o[t]=n[t](r),{c(){e=h("div"),l.c(),this.h()},l(i){e=m(i,"DIV",{class:!0});var d=v(e);l.l(d),d.forEach(f),this.h()},h(){u(e,"class","pt-1.5")},m(i,d){O(i,e,d),o[t].m(e,null),s=!0},p(i,d){let p=t;t=a(i),t===p?o[t].p(i,d):(qe(),K(o[p],1,1,()=>{o[p]=null}),Ge(),l=o[t],l?l.p(i,d):(l=o[t]=n[t](i),l.c()),W(l,1),l.m(e,null))},i(i){s||(W(l),s=!0)},o(i){K(l),s=!1},d(i){i&&f(e),o[t].d()}}}function Fa(r){let e,t;return e=new ji({props:{role:r[14].role,$$slots:{default:[Iu]},$$scope:{ctx:r}}}),e.$on("show",r[53]),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const n={};s[0]&16384&&(n.role=l[14].role),s[0]&16400|s[2]&8192&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Iu(r){let e,t,l,s,n,o,a=r[14].name+"",i,d,p;return{c(){e=h("button"),t=h("div"),l=h("img"),n=V(),o=h("div"),i=U(a),this.h()},l(b){e=m(b,"BUTTON",{class:!0});var _=v(e);t=m(_,"DIV",{class:!0});var g=v(t);l=m(g,"IMG",{src:!0,class:!0,alt:!0}),g.forEach(f),n=A(_),o=m(_,"DIV",{class:!0});var w=v(o);i=P(w,a),w.forEach(f),_.forEach(f),this.h()},h(){sr(l.src,s=r[14].profile_image_url)||u(l,"src",s),u(l,"class","max-w-[30px] object-cover rounded-full"),u(l,"alt","User profile"),u(t,"class","self-center mr-3"),u(o,"class","self-center font-medium"),u(e,"class","flex items-center rounded-xl py-2.5 px-2.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(b,_){O(b,e,_),c(e,t),c(t,l),c(e,n),c(e,o),c(o,i),d||(p=te(e,"click",r[52]),d=!0)},p(b,_){_[0]&16384&&!sr(l.src,s=b[14].profile_image_url)&&u(l,"src",s),_[0]&16384&&a!==(a=b[14].name+"")&&j(i,a)},d(b){b&&f(e),d=!1,p()}}}function Du(r){var ze,Oe,Ke,Pe,Qe,le,Te,be,Ye,dt,He,Le,Fe;let e,t,l,s,n,o,a,i,d,p=`<img crossorigin="anonymous" src="${hi}/static/favicon.png" class="size-5 -translate-x-1.5 rounded-full" alt="logo"/>`,b,_,g=r[11].t("New Chat")+"",w,I,k,$='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',B,y,E,D,T,C,M,S,H,q,X,N,L,Y,Z,F,R,x,z,Q,J,ee,ce,fe,he,ge;function ke(ue){r[26](ue)}let Ne={};r[13]!==void 0&&(Ne.show=r[13]),e=new Mc({props:Ne}),lt.push(()=>pt(e,"show",ke)),e.$on("change",r[27]);let Ae=r[10]&&Oa(r),Ie=(((ze=r[14])==null?void 0:ze.role)==="admin"||((Pe=(Ke=(Oe=r[14])==null?void 0:Oe.permissions)==null?void 0:Ke.workspace)==null?void 0:Pe.models)||((Te=(le=(Qe=r[14])==null?void 0:Qe.permissions)==null?void 0:le.workspace)==null?void 0:Te.knowledge)||((dt=(Ye=(be=r[14])==null?void 0:be.permissions)==null?void 0:Ye.workspace)==null?void 0:dt.prompts)||((Fe=(Le=(He=r[14])==null?void 0:He.permissions)==null?void 0:Le.workspace)==null?void 0:Fe.tools))&&Ba(r),me=r[15]&&Ua();function pe(ue){r[32](ue)}let se={placeholder:r[11].t("Search")};r[1]!==void 0&&(se.value=r[1]),T=new Of({props:se}),lt.push(()=>pt(T,"value",pe)),T.$on("input",r[23]),H=new At({props:{content:r[11].t("New folder"),$$slots:{default:[gu]},$$scope:{ctx:r}}});let _e=r[15]&&Pa(),Ce=!r[1]&&r[16].length>0&&Ha(r),De=!r[1]&&r[8]&&ja(r);R=new ai({props:{collapsible:!r[1],className:"px-2 mt-0.5",name:r[11].t("All chats"),$$slots:{default:[Eu]},$$scope:{ctx:r}}}),R.$on("import",r[50]),R.$on("drop",r[51]);let ve=r[14]!==void 0&&Fa(r);return{c(){re(e.$$.fragment),l=V(),Ae&&Ae.c(),s=V(),n=h("div"),o=h("div"),a=h("div"),i=h("a"),d=h("div"),d.innerHTML=p,b=V(),_=h("div"),w=U(g),I=V(),k=h("button"),k.innerHTML=$,B=V(),Ie&&Ie.c(),y=V(),E=h("div"),me&&me.c(),D=V(),re(T.$$.fragment),M=V(),S=h("div"),re(H.$$.fragment),X=V(),N=h("div"),_e&&_e.c(),L=V(),Ce&&Ce.c(),Y=V(),Z=h("div"),De&&De.c(),F=V(),re(R.$$.fragment),z=V(),Q=h("div"),J=h("div"),ve&&ve.c(),this.h()},l(ue){ne(e.$$.fragment,ue),l=A(ue),Ae&&Ae.l(ue),s=A(ue),n=m(ue,"DIV",{id:!0,class:!0,"data-state":!0});var Me=v(n);o=m(Me,"DIV",{class:!0});var Ze=v(o);a=m(Ze,"DIV",{class:!0});var ct=v(a);i=m(ct,"A",{id:!0,class:!0,href:!0,draggable:!0});var st=v(i);d=m(st,"DIV",{class:!0,"data-svelte-h":!0}),xe(d)!=="svelte-1ois2ck"&&(d.innerHTML=p),b=A(st),_=m(st,"DIV",{class:!0});var G=v(_);w=P(G,g),G.forEach(f),st.forEach(f),I=A(ct),k=m(ct,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(k)!=="svelte-uwd94y"&&(k.innerHTML=$),ct.forEach(f),B=A(Ze),Ie&&Ie.l(Ze),y=A(Ze),E=m(Ze,"DIV",{class:!0});var de=v(E);me&&me.l(de),D=A(de),ne(T.$$.fragment,de),M=A(de),S=m(de,"DIV",{class:!0});var we=v(S);ne(H.$$.fragment,we),we.forEach(f),de.forEach(f),X=A(Ze),N=m(Ze,"DIV",{class:!0});var $e=v(N);_e&&_e.l($e),L=A($e),Ce&&Ce.l($e),Y=A($e),Z=m($e,"DIV",{class:!0});var Be=v(Z);De&&De.l(Be),F=A(Be),ne(R.$$.fragment,Be),Be.forEach(f),$e.forEach(f),z=A(Ze),Q=m(Ze,"DIV",{class:!0});var Je=v(Q);J=m(Je,"DIV",{class:!0});var et=v(J);ve&&ve.l(et),et.forEach(f),Je.forEach(f),Ze.forEach(f),Me.forEach(f),this.h()},h(){u(d,"class","self-center mx-1.5"),u(_,"class","self-center font-medium text-sm text-gray-850 dark:text-white font-primary"),u(i,"id","sidebar-new-chat-button"),u(i,"class","flex flex-1 rounded-lg px-2 py-1 h-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(i,"href","/"),u(i,"draggable","false"),u(k,"class","cursor-pointer p-[7px] flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-900 transition"),u(a,"class","px-1.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),u(S,"class","absolute z-40 right-3.5 top-1"),u(E,"class",q="relative "+(r[15]?"opacity-20":"")),u(Z,"class","flex-1 flex flex-col overflow-y-auto scrollbar-hidden svelte-141e0sl"),u(N,"class",x="relative flex flex-col flex-1 overflow-y-auto "+(r[15]?"opacity-20":"")),u(J,"class","flex flex-col font-primary"),u(Q,"class","px-2"),u(o,"class",ee="py-2 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden z-50 "+(r[10]?"":"invisible")),u(n,"id","sidebar"),u(n,"class",ce="h-screen max-h-[100dvh] min-h-screen select-none "+(r[10]?"md:relative w-[260px] max-w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 overflow-x-hidden"),u(n,"data-state",r[10])},m(ue,Me){ae(e,ue,Me),O(ue,l,Me),Ae&&Ae.m(ue,Me),O(ue,s,Me),O(ue,n,Me),c(n,o),c(o,a),c(a,i),c(i,d),c(i,b),c(i,_),c(_,w),c(a,I),c(a,k),c(o,B),Ie&&Ie.m(o,null),c(o,y),c(o,E),me&&me.m(E,null),c(E,D),ae(T,E,null),c(E,M),c(E,S),ae(H,S,null),c(o,X),c(o,N),_e&&_e.m(N,null),c(N,L),Ce&&Ce.m(N,null),c(N,Y),c(N,Z),De&&De.m(Z,null),c(Z,F),ae(R,Z,null),c(o,z),c(o,Q),c(Q,J),ve&&ve.m(J,null),r[54](n),fe=!0,he||(ge=[te(i,"click",r[29]),te(k,"click",r[30])],he=!0)},p(ue,Me){var de,we,$e,Be,Je,et,ut,kt,yt,bt,rt,Se,je;const Ze={};!t&&Me[0]&8192&&(t=!0,Ze.show=ue[13],mt(()=>t=!1)),e.$set(Ze),ue[10]?Ae?Ae.p(ue,Me):(Ae=Oa(ue),Ae.c(),Ae.m(s.parentNode,s)):Ae&&(Ae.d(1),Ae=null),(!fe||Me[0]&2048)&&g!==(g=ue[11].t("New Chat")+"")&&j(w,g),((de=ue[14])==null?void 0:de.role)==="admin"||(Be=($e=(we=ue[14])==null?void 0:we.permissions)==null?void 0:$e.workspace)!=null&&Be.models||(ut=(et=(Je=ue[14])==null?void 0:Je.permissions)==null?void 0:et.workspace)!=null&&ut.knowledge||(bt=(yt=(kt=ue[14])==null?void 0:kt.permissions)==null?void 0:yt.workspace)!=null&&bt.prompts||(je=(Se=(rt=ue[14])==null?void 0:rt.permissions)==null?void 0:Se.workspace)!=null&&je.tools?Ie?Ie.p(ue,Me):(Ie=Ba(ue),Ie.c(),Ie.m(o,y)):Ie&&(Ie.d(1),Ie=null),ue[15]?me||(me=Ua(),me.c(),me.m(E,D)):me&&(me.d(1),me=null);const ct={};Me[0]&2048&&(ct.placeholder=ue[11].t("Search")),!C&&Me[0]&2&&(C=!0,ct.value=ue[1],mt(()=>C=!1)),T.$set(ct);const st={};Me[0]&2048&&(st.content=ue[11].t("New folder")),Me[2]&8192&&(st.$$scope={dirty:Me,ctx:ue}),H.$set(st),(!fe||Me[0]&32768&&q!==(q="relative "+(ue[15]?"opacity-20":"")))&&u(E,"class",q),ue[15]?_e||(_e=Pa(),_e.c(),_e.m(N,L)):_e&&(_e.d(1),_e=null),!ue[1]&&ue[16].length>0?Ce?(Ce.p(ue,Me),Me[0]&65538&&W(Ce,1)):(Ce=Ha(ue),Ce.c(),W(Ce,1),Ce.m(N,Y)):Ce&&(qe(),K(Ce,1,1,()=>{Ce=null}),Ge()),!ue[1]&&ue[8]?De?(De.p(ue,Me),Me[0]&258&&W(De,1)):(De=ja(ue),De.c(),W(De,1),De.m(Z,F)):De&&(qe(),K(De,1,1,()=>{De=null}),Ge());const G={};Me[0]&2&&(G.collapsible=!ue[1]),Me[0]&2048&&(G.name=ue[11].t("All chats")),Me[0]&137420|Me[2]&8192&&(G.$$scope={dirty:Me,ctx:ue}),R.$set(G),(!fe||Me[0]&32768&&x!==(x="relative flex flex-col flex-1 overflow-y-auto "+(ue[15]?"opacity-20":"")))&&u(N,"class",x),ue[14]!==void 0?ve?(ve.p(ue,Me),Me[0]&16384&&W(ve,1)):(ve=Fa(ue),ve.c(),W(ve,1),ve.m(J,null)):ve&&(qe(),K(ve,1,1,()=>{ve=null}),Ge()),(!fe||Me[0]&1024&&ee!==(ee="py-2 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden z-50 "+(ue[10]?"":"invisible")))&&u(o,"class",ee),(!fe||Me[0]&1024&&ce!==(ce="h-screen max-h-[100dvh] min-h-screen select-none "+(ue[10]?"md:relative w-[260px] max-w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 overflow-x-hidden"))&&u(n,"class",ce),(!fe||Me[0]&1024)&&u(n,"data-state",ue[10])},i(ue){fe||(W(e.$$.fragment,ue),W(T.$$.fragment,ue),W(H.$$.fragment,ue),W(Ce),W(De),W(R.$$.fragment,ue),W(ve),fe=!0)},o(ue){K(e.$$.fragment,ue),K(T.$$.fragment,ue),K(H.$$.fragment,ue),K(Ce),K(De),K(R.$$.fragment,ue),K(ve),fe=!1},d(ue){ue&&(f(l),f(s),f(n)),oe(e,ue),Ae&&Ae.d(ue),Ie&&Ie.d(),me&&me.d(),oe(T),oe(H),_e&&_e.d(),Ce&&Ce.d(),De&&De.d(),oe(R),ve&&ve.d(),r[54](null),he=!1,it(ge)}}}function $u(r,e,t){let l,s,n,o,a,i,d,p,b,_;Ve(r,Tr,G=>t(9,l=G)),Ve(r,Ot,G=>t(10,s=G)),Ve(r,rl,G=>t(12,o=G)),Ve(r,nl,G=>t(59,a=G)),Ve(r,br,G=>t(13,i=G)),Ve(r,Bl,G=>t(14,d=G)),Ve(r,Bo,G=>t(15,p=G)),Ve(r,rr,G=>t(16,b=G)),Ve(r,fs,G=>t(17,_=G));const g=gt("i18n");Ve(r,g,G=>t(11,n=G));let w,I="",k=!1,$=null,B=!1,y=!0,E=!1,D=!1,T={};const C=async()=>{const G=await Ec(localStorage.token).catch(de=>(Ue.error(de),[]));t(8,T={});for(const de of G)t(8,T[de.id]={...T[de.id]||{},...de},T);for(const de of G)de.parent_id&&(T[de.parent_id]||t(8,T[de.parent_id]={},T),t(8,T[de.parent_id].childrenIds=T[de.parent_id].childrenIds?[...T[de.parent_id].childrenIds,de.id]:[de.id],T),T[de.parent_id].childrenIds.sort((we,$e)=>T[$e].updated_at-T[we].updated_at))},M=async(G="Untitled")=>{if(G===""){Ue.error(n.t("Folder name cannot be empty."));return}const de=Object.values(T).filter(Be=>Be.parent_id===null);if(de.find(Be=>Be.name.toLowerCase()===G.toLowerCase())){let Be=1;for(;de.find(Je=>Je.name.toLowerCase()===`${G} ${Be}`.toLowerCase());)Be++;G=`${G} ${Be}`}const we=bi();t(8,T={...T,tempId:{id:we,name:G,created_at:Date.now(),updated_at:Date.now()}}),await yc(localStorage.token,G).catch(Be=>(Ue.error(Be),null))&&await C()},S=async()=>{ds.set(await nr(localStorage.token)),rr.set(await Sr(localStorage.token)),C(),nl.set(1),t(7,D=!1),I?await rl.set(await kr(localStorage.token,I,a)):await rl.set(await Ll(localStorage.token,a)),fs.set(!0)},H=async()=>{t(6,E=!0),nl.set(a+1);let G=[];I?G=await kr(localStorage.token,I,a):G=await Ll(localStorage.token,a),t(7,D=G.length===0),await rl.set([...o||[],...G]),t(6,E=!1)};let q;const X=async()=>{if(console.log("search",I),rl.set(null),q&&clearTimeout(q),I===""){await S();return}else q=setTimeout(async()=>{t(7,D=!1),nl.set(1),await rl.set(await kr(localStorage.token,I)),o.length===0&&ds.set(await nr(localStorage.token))},1e3)},N=async(G,de=!1,we=null)=>{console.log("importChatHandler",G,de,we);for(const $e of G)console.log($e),$e.chat&&await lr(localStorage.token,$e.chat,($e==null?void 0:$e.meta)??{},de,we);S()},L=async G=>{console.log(G);for(const de of G){const we=new FileReader;we.onload=async $e=>{const Be=$e.target.result;try{const Je=JSON.parse(Be);N(Je)}catch{Ue.error(n.t("Invalid file format."))}},we.readAsText(de)}},Y=async(G,de,we)=>{console.log(G,de,we),(G==="delete"||G==="add")&&S()},Z=G=>{var de,we;G.preventDefault(),(we=(de=G.dataTransfer)==null?void 0:de.types)!=null&&we.includes("Files")},F=()=>{},R=async G=>{var de,we;if(G.preventDefault(),console.log(G),(de=G.dataTransfer)!=null&&de.files){const $e=Array.from((we=G.dataTransfer)==null?void 0:we.files);$e&&$e.length>0&&(console.log($e),L($e))}};let x,z;function Q(){const G=window.innerWidth,de=Math.abs(z.screenX-x.screenX);x.clientX<40&&de>=G/8&&(z.screenX<x.screenX&&Ot.set(!1),z.screenX>x.screenX&&Ot.set(!0))}const J=G=>{x=G.changedTouches[0],console.log(x.clientX)},ee=G=>{z=G.changedTouches[0],Q()},ce=G=>{G.key==="Shift"&&t(2,k=!0)},fe=G=>{G.key==="Shift"&&t(2,k=!1)},he=()=>{},ge=()=>{t(2,k=!1),t(3,$=null)};$t(async()=>{t(5,y=localStorage!=null&&localStorage.showPinnedChat?localStorage.showPinnedChat==="true":!0),Tr.subscribe(de=>{s&&de&&Ot.set(!1),!s&&!de&&Ot.set(!0)}),Ot.set(l?!1:localStorage.sidebar==="true"),Ot.subscribe(de=>{localStorage.sidebar=de}),await S(),window.addEventListener("keydown",ce),window.addEventListener("keyup",fe),window.addEventListener("touchstart",J),window.addEventListener("touchend",ee),window.addEventListener("focus",he),window.addEventListener("blur",ge);const G=document.getElementById("sidebar");G==null||G.addEventListener("dragover",Z),G==null||G.addEventListener("drop",R),G==null||G.addEventListener("dragleave",F)}),ql(()=>{window.removeEventListener("keydown",ce),window.removeEventListener("keyup",fe),window.removeEventListener("touchstart",J),window.removeEventListener("touchend",ee),window.removeEventListener("focus",he),window.removeEventListener("blur",ge);const G=document.getElementById("sidebar");G==null||G.removeEventListener("dragover",Z),G==null||G.removeEventListener("drop",R),G==null||G.removeEventListener("dragleave",F)});function ke(G){i=G,br.set(i)}const Ne=async()=>{await S()},Ae=()=>{Ot.set(!s)},Ie=async()=>{t(3,$=null),await Ol("/");const G=document.getElementById("new-chat-button");setTimeout(()=>{G==null||G.click(),l&&Ot.set(!1)},0)},me=()=>{Ot.set(!s)},pe=()=>{t(3,$=null),$r.set(""),l&&Ot.set(!1)};function se(G){I=G,t(1,I)}const _e=()=>{M()},Ce=G=>{t(3,$=G.id)},De=()=>{t(3,$=null)},ve=async()=>{S()},ze=(G,de)=>{const{type:we,name:$e}=de.detail;Y(we,$e,G.id)};function Oe(G){y=G,t(5,y)}const Ke=G=>{localStorage.setItem("showPinnedChat",G.detail),console.log(G.detail)},Pe=G=>{N(G.detail,!0)},Qe=async G=>{const{type:de,id:we,item:$e}=G.detail;if(de==="chat"){let Be=await Nl(localStorage.token,we).catch(Je=>null);!Be&&$e&&(Be=await lr(localStorage.token,$e.chat,($e==null?void 0:$e.meta)??{})),Be&&(console.log(Be),Be.folder_id&&await Nr(localStorage.token,Be.id,null).catch(Je=>(Ue.error(Je),null)),Be.pinned||await Cr(localStorage.token,Be.id),S())}},le=G=>{const{folderId:de,items:we}=G.detail;N(we,!1,de)},Te=async G=>{S()},be=async()=>{S()},Ye=G=>{t(3,$=G.id)},dt=()=>{t(3,$=null)},He=async()=>{S()},Le=(G,de)=>{const{type:we,name:$e}=de.detail;Y(we,$e,G.id)},Fe=G=>{E||H()},ue=G=>{N(G.detail)},Me=async G=>{const{type:de,id:we,item:$e}=G.detail;if(de==="chat"){let Be=await Nl(localStorage.token,we).catch(Je=>null);!Be&&$e&&(Be=await lr(localStorage.token,$e.chat,($e==null?void 0:$e.meta)??{})),Be&&(console.log(Be),Be.folder_id&&await Nr(localStorage.token,Be.id,null).catch(Je=>(Ue.error(Je),null)),Be.pinned&&await Cr(localStorage.token,Be),S())}else if(de==="folder"){if(T[we].parent_id===null)return;await si(localStorage.token,we,null).catch(Je=>(Ue.error(Je),null))&&await C()}},Ze=()=>{t(4,B=!B)},ct=G=>{G.detail==="archived-chat"&&br.set(!0)};function st(G){lt[G?"unshift":"push"](()=>{w=G,t(0,w)})}return[w,I,k,$,B,y,E,D,T,l,s,n,o,i,d,p,b,_,g,C,M,S,H,X,N,Y,ke,Ne,Ae,Ie,me,pe,se,_e,Ce,De,ve,ze,Oe,Ke,Pe,Qe,le,Te,be,Ye,dt,He,Le,Fe,ue,Me,Ze,ct,st]}class Tu extends at{constructor(e){super(),ot(this,e,$u,Du,nt,{},null,[-1,-1,-1])}}function Za(r){let e,t,l,s=r[4].t("Current Password")+"",n,o,a,i,d,p,b,_=r[4].t("New Password")+"",g,w,I,k,$,B,y,E=r[4].t("Confirm Password")+"",D,T,C,M,S,H,q,X=r[4].t("Update password")+"",N,L,Y;return{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("div"),i=h("input"),d=V(),p=h("div"),b=h("div"),g=U(_),w=V(),I=h("div"),k=h("input"),$=V(),B=h("div"),y=h("div"),D=U(E),T=V(),C=h("div"),M=h("input"),S=V(),H=h("div"),q=h("button"),N=U(X),this.h()},l(Z){e=m(Z,"DIV",{class:!0});var F=v(e);t=m(F,"DIV",{class:!0});var R=v(t);l=m(R,"DIV",{class:!0});var x=v(l);n=P(x,s),x.forEach(f),o=A(R),a=m(R,"DIV",{class:!0});var z=v(a);i=m(z,"INPUT",{class:!0,type:!0,autocomplete:!0}),z.forEach(f),R.forEach(f),d=A(F),p=m(F,"DIV",{class:!0});var Q=v(p);b=m(Q,"DIV",{class:!0});var J=v(b);g=P(J,_),J.forEach(f),w=A(Q),I=m(Q,"DIV",{class:!0});var ee=v(I);k=m(ee,"INPUT",{class:!0,type:!0,autocomplete:!0}),ee.forEach(f),Q.forEach(f),$=A(F),B=m(F,"DIV",{class:!0});var ce=v(B);y=m(ce,"DIV",{class:!0});var fe=v(y);D=P(fe,E),fe.forEach(f),T=A(ce),C=m(ce,"DIV",{class:!0});var he=v(C);M=m(he,"INPUT",{class:!0,type:!0,autocomplete:!0}),he.forEach(f),ce.forEach(f),F.forEach(f),S=A(Z),H=m(Z,"DIV",{class:!0});var ge=v(H);q=m(ge,"BUTTON",{class:!0});var ke=v(q);N=P(ke,X),ke.forEach(f),ge.forEach(f),this.h()},h(){u(l,"class","mb-1 text-xs text-gray-500"),u(i,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),u(i,"type","password"),u(i,"autocomplete","current-password"),i.required=!0,u(a,"class","flex-1"),u(t,"class","flex flex-col w-full"),u(b,"class","mb-1 text-xs text-gray-500"),u(k,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),u(k,"type","password"),u(k,"autocomplete","new-password"),k.required=!0,u(I,"class","flex-1"),u(p,"class","flex flex-col w-full"),u(y,"class","mb-1 text-xs text-gray-500"),u(M,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),u(M,"type","password"),u(M,"autocomplete","off"),M.required=!0,u(C,"class","flex-1"),u(B,"class","flex flex-col w-full"),u(e,"class","py-2.5 space-y-1.5"),u(q,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),u(H,"class","mt-3 flex justify-end")},m(Z,F){O(Z,e,F),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),c(a,i),Re(i,r[1]),c(e,d),c(e,p),c(p,b),c(b,g),c(p,w),c(p,I),c(I,k),Re(k,r[2]),c(e,$),c(e,B),c(B,y),c(y,D),c(B,T),c(B,C),c(C,M),Re(M,r[3]),O(Z,S,F),O(Z,H,F),c(H,q),c(q,N),L||(Y=[te(i,"input",r[8]),te(k,"input",r[9]),te(M,"input",r[10])],L=!0)},p(Z,F){F&16&&s!==(s=Z[4].t("Current Password")+"")&&j(n,s),F&2&&i.value!==Z[1]&&Re(i,Z[1]),F&16&&_!==(_=Z[4].t("New Password")+"")&&j(g,_),F&4&&k.value!==Z[2]&&Re(k,Z[2]),F&16&&E!==(E=Z[4].t("Confirm Password")+"")&&j(D,E),F&8&&M.value!==Z[3]&&Re(M,Z[3]),F&16&&X!==(X=Z[4].t("Update password")+"")&&j(N,X)},d(Z){Z&&(f(e),f(S),f(H)),L=!1,it(Y)}}}function Vu(r){let e,t,l,s=r[4].t("Change Password")+"",n,o,a,i=(r[0]?r[4].t("Hide"):r[4].t("Show"))+"",d,p,b,_,g=r[0]&&Za(r);return{c(){e=h("form"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("button"),d=U(i),p=V(),g&&g.c(),this.h()},l(w){e=m(w,"FORM",{class:!0});var I=v(e);t=m(I,"DIV",{class:!0});var k=v(t);l=m(k,"DIV",{class:!0});var $=v(l);n=P($,s),$.forEach(f),o=A(k),a=m(k,"BUTTON",{class:!0,type:!0});var B=v(a);d=P(B,i),B.forEach(f),k.forEach(f),p=A(I),g&&g.l(I),I.forEach(f),this.h()},h(){u(l,"class","font-medium"),u(a,"class","text-xs font-medium text-gray-500"),u(a,"type","button"),u(t,"class","flex justify-between items-center text-sm"),u(e,"class","flex flex-col text-sm")},m(w,I){O(w,e,I),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),c(a,d),c(e,p),g&&g.m(e,null),b||(_=[te(a,"click",r[7]),te(e,"submit",Gl(r[11]))],b=!0)},p(w,[I]){I&16&&s!==(s=w[4].t("Change Password")+"")&&j(n,s),I&17&&i!==(i=(w[0]?w[4].t("Hide"):w[4].t("Show"))+"")&&j(d,i),w[0]?g?g.p(w,I):(g=Za(w),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i:ye,o:ye,d(w){w&&f(e),g&&g.d(),b=!1,it(_)}}}function Au(r,e,t){let l;const s=gt("i18n");Ve(r,s,I=>t(4,l=I));let n=!1,o="",a="",i="";const d=async()=>{a===i?(await ec(localStorage.token,o,a).catch(k=>(Ue.error(k),null))&&Ue.success(l.t("Successfully updated.")),t(1,o=""),t(2,a=""),t(3,i="")):(Ue.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,a=""),t(3,i=""))},p=()=>{t(0,n=!n)};function b(){o=this.value,t(1,o)}function _(){a=this.value,t(2,a)}function g(){i=this.value,t(3,i)}return[n,o,a,i,l,s,d,p,b,_,g,()=>{d()}]}class Cu extends at{constructor(e){super(),ot(this,e,Au,Vu,nt,{})}}function Ya(r){var E,D;let e,t,l,s,n=r[9].t("JWT Token")+"",o,a,i,d,p,b,_,g,w,I;d=new jo({props:{value:localStorage.token,readOnly:!0}});function k(T,C){return T[4]?Nu:Su}let $=k(r),B=$(r),y=(((D=(E=r[10])==null?void 0:E.features)==null?void 0:D.enable_api_key)??!0)&&Ja(r);return{c(){e=h("div"),t=h("div"),l=h("div"),s=h("div"),o=U(n),a=V(),i=h("div"),re(d.$$.fragment),p=V(),b=h("button"),B.c(),_=V(),y&&y.c(),this.h()},l(T){e=m(T,"DIV",{class:!0});var C=v(e);t=m(C,"DIV",{class:!0});var M=v(t);l=m(M,"DIV",{class:!0});var S=v(l);s=m(S,"DIV",{class:!0});var H=v(s);o=P(H,n),H.forEach(f),S.forEach(f),a=A(M),i=m(M,"DIV",{class:!0});var q=v(i);ne(d.$$.fragment,q),p=A(q),b=m(q,"BUTTON",{class:!0});var X=v(b);B.l(X),X.forEach(f),q.forEach(f),M.forEach(f),_=A(C),y&&y.l(C),C.forEach(f),this.h()},h(){u(s,"class","self-center text-xs font-medium"),u(l,"class","flex justify-between w-full"),u(b,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),u(i,"class","flex mt-2"),u(t,"class","justify-between w-full"),u(e,"class","flex flex-col gap-4")},m(T,C){O(T,e,C),c(e,t),c(t,l),c(l,s),c(s,o),c(t,a),c(t,i),ae(d,i,null),c(i,p),c(i,b),B.m(b,null),c(e,_),y&&y.m(e,null),g=!0,w||(I=te(b,"click",r[22]),w=!0)},p(T,C){var M,S;(!g||C&512)&&n!==(n=T[9].t("JWT Token")+"")&&j(o,n),$!==($=k(T))&&(B.d(1),B=$(T),B&&(B.c(),B.m(b,null))),((S=(M=T[10])==null?void 0:M.features)==null?void 0:S.enable_api_key)??!0?y?(y.p(T,C),C&1024&&W(y,1)):(y=Ja(T),y.c(),W(y,1),y.m(e,null)):y&&(qe(),K(y,1,1,()=>{y=null}),Ge())},i(T){g||(W(d.$$.fragment,T),W(y),g=!0)},o(T){K(d.$$.fragment,T),K(y),g=!1},d(T){T&&f(e),oe(d),B.d(),y&&y.d(),w=!1,I()}}}function Su(r){let e,t,l;return{c(){e=_t("svg"),t=_t("path"),l=_t("path"),this.h()},l(s){e=vt(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=vt(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(f),l=vt(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(f),n.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),u(t,"clip-rule","evenodd"),u(l,"fill-rule","evenodd"),u(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),u(l,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(s,n){O(s,e,n),c(e,t),c(e,l)},d(s){s&&f(e)}}}function Nu(r){let e,t;return{c(){e=_t("svg"),t=_t("path"),this.h()},l(l){e=vt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=v(e);t=vt(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(l,s){O(l,e,s),c(e,t)},d(l){l&&f(e)}}}function Ja(r){let e,t,l,s=r[9].t("API Key")+"",n,o,a,i,d,p;const b=[Mu,Lu],_=[];function g(w,I){return w[5]?0:1}return i=g(r),d=_[i]=b[i](r),{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("div"),d.c(),this.h()},l(w){e=m(w,"DIV",{class:!0});var I=v(e);t=m(I,"DIV",{class:!0});var k=v(t);l=m(k,"DIV",{class:!0});var $=v(l);n=P($,s),$.forEach(f),k.forEach(f),o=A(I),a=m(I,"DIV",{class:!0});var B=v(a);d.l(B),B.forEach(f),I.forEach(f),this.h()},h(){u(l,"class","self-center text-xs font-medium"),u(t,"class","flex justify-between w-full"),u(a,"class","flex mt-2"),u(e,"class","justify-between w-full")},m(w,I){O(w,e,I),c(e,t),c(t,l),c(l,n),c(e,o),c(e,a),_[i].m(a,null),p=!0},p(w,I){(!p||I&512)&&s!==(s=w[9].t("API Key")+"")&&j(n,s);let k=i;i=g(w),i===k?_[i].p(w,I):(qe(),K(_[k],1,1,()=>{_[k]=null}),Ge(),d=_[i],d?d.p(w,I):(d=_[i]=b[i](w),d.c()),W(d,1),d.m(a,null))},i(w){p||(W(d),p=!0)},o(w){K(d),p=!1},d(w){w&&f(e),_[i].d()}}}function Lu(r){let e,t,l,s=r[9].t("Create new secret key")+"",n,o,a,i;return t=new Qo({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=h("button"),re(t.$$.fragment),l=V(),n=U(s),this.h()},l(d){e=m(d,"BUTTON",{class:!0});var p=v(e);ne(t.$$.fragment,p),l=A(p),n=P(p,s),p.forEach(f),this.h()},h(){u(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(d,p){O(d,e,p),ae(t,e,null),c(e,l),c(e,n),o=!0,a||(i=te(e,"click",r[25]),a=!0)},p(d,p){(!o||p&512)&&s!==(s=d[9].t("Create new secret key")+"")&&j(n,s)},i(d){o||(W(t.$$.fragment,d),o=!0)},o(d){K(t.$$.fragment,d),o=!1},d(d){d&&f(e),oe(t),a=!1,i()}}}function Mu(r){let e,t,l,s,n,o,a,i;e=new jo({props:{value:r[5],readOnly:!0}});function d(_,g){return _[6]?Bu:Ou}let p=d(r),b=p(r);return n=new At({props:{content:r[9].t("Create new key"),$$slots:{default:[Uu]},$$scope:{ctx:r}}}),{c(){re(e.$$.fragment),t=V(),l=h("button"),b.c(),s=V(),re(n.$$.fragment),this.h()},l(_){ne(e.$$.fragment,_),t=A(_),l=m(_,"BUTTON",{class:!0});var g=v(l);b.l(g),g.forEach(f),s=A(_),ne(n.$$.fragment,_),this.h()},h(){u(l,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(_,g){ae(e,_,g),O(_,t,g),O(_,l,g),b.m(l,null),O(_,s,g),ae(n,_,g),o=!0,a||(i=te(l,"click",r[23]),a=!0)},p(_,g){const w={};g&32&&(w.value=_[5]),e.$set(w),p!==(p=d(_))&&(b.d(1),b=p(_),b&&(b.c(),b.m(l,null)));const I={};g&512&&(I.content=_[9].t("Create new key")),g&134217728&&(I.$$scope={dirty:g,ctx:_}),n.$set(I)},i(_){o||(W(e.$$.fragment,_),W(n.$$.fragment,_),o=!0)},o(_){K(e.$$.fragment,_),K(n.$$.fragment,_),o=!1},d(_){_&&(f(t),f(l),f(s)),oe(e,_),b.d(),oe(n,_),a=!1,i()}}}function Ou(r){let e,t,l;return{c(){e=_t("svg"),t=_t("path"),l=_t("path"),this.h()},l(s){e=vt(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=v(e);t=vt(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(f),l=vt(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(f),n.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),u(t,"clip-rule","evenodd"),u(l,"fill-rule","evenodd"),u(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),u(l,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(s,n){O(s,e,n),c(e,t),c(e,l)},d(s){s&&f(e)}}}function Bu(r){let e,t;return{c(){e=_t("svg"),t=_t("path"),this.h()},l(l){e=vt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=v(e);t=vt(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(f),s.forEach(f),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","w-4 h-4")},m(l,s){O(l,e,s),c(e,t)},d(l){l&&f(e)}}}function Uu(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,s;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=m(n,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-nx3com"&&(e.innerHTML=t),this.h()},h(){u(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(n,o){O(n,e,o),l||(s=te(e,"click",r[24]),l=!0)},p:ye,d(n){n&&f(e),l=!1,s()}}}function Pu(r){let e,t,l,s,n,o,a,i,d,p,b,_,g,w='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',I,k,$,B=r[9].t("Profile Image")+"",y,E,D,T,C=r[9].t("Use Initials")+"",M,S,H,q=r[9].t("Use Gravatar")+"",X,N,L,Y=r[9].t("Remove")+"",Z,F,R,x,z,Q=r[9].t("Name")+"",J,ee,ce,fe,he,ge,ke,Ne,Ae,Ie,me,pe,se=r[9].t("API keys")+"",_e,Ce,De,ve=(r[3]?r[9].t("Hide"):r[9].t("Show"))+"",ze,Oe,Ke,Pe,Qe,le=r[9].t("Save")+"",Te,be,Ye,dt;ke=new Cu({});let He=r[3]&&Ya(r);return{c(){e=h("div"),t=h("div"),l=h("input"),s=V(),n=h("div"),o=h("div"),a=h("div"),i=h("div"),d=h("button"),p=h("img"),_=V(),g=h("div"),g.innerHTML=w,I=V(),k=h("div"),$=h("div"),y=U(B),E=V(),D=h("div"),T=h("button"),M=U(C),S=V(),H=h("button"),X=U(q),N=V(),L=h("button"),Z=U(Y),F=V(),R=h("div"),x=h("div"),z=h("div"),J=U(Q),ee=V(),ce=h("div"),fe=h("input"),he=V(),ge=h("div"),re(ke.$$.fragment),Ne=V(),Ae=h("hr"),Ie=V(),me=h("div"),pe=h("div"),_e=U(se),Ce=V(),De=h("button"),ze=U(ve),Oe=V(),He&&He.c(),Ke=V(),Pe=h("div"),Qe=h("button"),Te=U(le),this.h()},l(Le){e=m(Le,"DIV",{class:!0});var Fe=v(e);t=m(Fe,"DIV",{class:!0});var ue=v(t);l=m(ue,"INPUT",{id:!0,type:!0,accept:!0}),s=A(ue),n=m(ue,"DIV",{class:!0});var Me=v(n);o=m(Me,"DIV",{class:!0});var Ze=v(o);a=m(Ze,"DIV",{class:!0});var ct=v(a);i=m(ct,"DIV",{class:!0});var st=v(i);d=m(st,"BUTTON",{class:!0,type:!0});var G=v(d);p=m(G,"IMG",{src:!0,alt:!0,class:!0}),_=A(G),g=m(G,"DIV",{class:!0,"data-svelte-h":!0}),xe(g)!=="svelte-11ivb2j"&&(g.innerHTML=w),G.forEach(f),st.forEach(f),ct.forEach(f),I=A(Ze),k=m(Ze,"DIV",{class:!0});var de=v(k);$=m(de,"DIV",{class:!0});var we=v($);y=P(we,B),we.forEach(f),E=A(de),D=m(de,"DIV",{});var $e=v(D);T=m($e,"BUTTON",{class:!0});var Be=v(T);M=P(Be,C),Be.forEach(f),S=A($e),H=m($e,"BUTTON",{class:!0});var Je=v(H);X=P(Je,q),Je.forEach(f),N=A($e),L=m($e,"BUTTON",{class:!0});var et=v(L);Z=P(et,Y),et.forEach(f),$e.forEach(f),de.forEach(f),Ze.forEach(f),F=A(Me),R=m(Me,"DIV",{class:!0});var ut=v(R);x=m(ut,"DIV",{class:!0});var kt=v(x);z=m(kt,"DIV",{class:!0});var yt=v(z);J=P(yt,Q),yt.forEach(f),ee=A(kt),ce=m(kt,"DIV",{class:!0});var bt=v(ce);fe=m(bt,"INPUT",{class:!0,type:!0}),bt.forEach(f),kt.forEach(f),ut.forEach(f),Me.forEach(f),he=A(ue),ge=m(ue,"DIV",{class:!0});var rt=v(ge);ne(ke.$$.fragment,rt),rt.forEach(f),Ne=A(ue),Ae=m(ue,"HR",{class:!0}),Ie=A(ue),me=m(ue,"DIV",{class:!0});var Se=v(me);pe=m(Se,"DIV",{class:!0});var je=v(pe);_e=P(je,se),je.forEach(f),Ce=A(Se),De=m(Se,"BUTTON",{class:!0,type:!0});var tt=v(De);ze=P(tt,ve),tt.forEach(f),Se.forEach(f),Oe=A(ue),He&&He.l(ue),ue.forEach(f),Ke=A(Fe),Pe=m(Fe,"DIV",{class:!0});var wt=v(Pe);Qe=m(wt,"BUTTON",{class:!0});var Tt=v(Qe);Te=P(Tt,le),Tt.forEach(f),wt.forEach(f),Fe.forEach(f),this.h()},h(){u(l,"id","profile-image-input"),u(l,"type","file"),l.hidden=!0,u(l,"accept","image/*"),sr(p.src,b=r[1]!==""?r[1]:us(r[2]))||u(p,"src",b),u(p,"alt","profile"),u(p,"class","rounded-full size-16 object-cover"),u(g,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),u(d,"class","relative rounded-full dark:bg-gray-700"),u(d,"type","button"),u(i,"class","self-center mt-2"),u(a,"class","flex flex-col"),u($,"class","mb-0.5 text-sm font-medium"),u(T,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),u(H,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),u(L,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),u(k,"class","flex-1 flex flex-col self-center gap-0.5"),u(o,"class","flex space-x-5"),u(z,"class","mb-1 text-xs font-medium"),u(fe,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(fe,"type","text"),fe.required=!0,u(ce,"class","flex-1"),u(x,"class","flex flex-col w-full"),u(R,"class","pt-0.5"),u(n,"class","space-y-1"),u(ge,"class","py-0.5"),u(Ae,"class","dark:border-gray-850 my-4"),u(pe,"class","font-medium"),u(De,"class","text-xs font-medium text-gray-500"),u(De,"type","button"),u(me,"class","flex justify-between items-center text-sm"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(Qe,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(Pe,"class","flex justify-end pt-3 text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between text-sm")},m(Le,Fe){O(Le,e,Fe),c(e,t),c(t,l),r[14](l),c(t,s),c(t,n),c(n,o),c(o,a),c(a,i),c(i,d),c(d,p),c(d,_),c(d,g),c(o,I),c(o,k),c(k,$),c($,y),c(k,E),c(k,D),c(D,T),c(T,M),c(D,S),c(D,H),c(H,X),c(D,N),c(D,L),c(L,Z),c(n,F),c(n,R),c(R,x),c(x,z),c(z,J),c(x,ee),c(x,ce),c(ce,fe),Re(fe,r[2]),c(t,he),c(t,ge),ae(ke,ge,null),c(t,Ne),c(t,Ae),c(t,Ie),c(t,me),c(me,pe),c(pe,_e),c(me,Ce),c(me,De),c(De,ze),c(t,Oe),He&&He.m(t,null),c(e,Ke),c(e,Pe),c(Pe,Qe),c(Qe,Te),be=!0,Ye||(dt=[te(l,"change",r[15]),te(d,"click",r[16]),te(T,"click",r[17]),te(H,"click",r[18]),te(L,"click",r[19]),te(fe,"input",r[20]),te(De,"click",r[21]),te(Qe,"click",r[26])],Ye=!0)},p(Le,[Fe]){(!be||Fe&6&&!sr(p.src,b=Le[1]!==""?Le[1]:us(Le[2])))&&u(p,"src",b),(!be||Fe&512)&&B!==(B=Le[9].t("Profile Image")+"")&&j(y,B),(!be||Fe&512)&&C!==(C=Le[9].t("Use Initials")+"")&&j(M,C),(!be||Fe&512)&&q!==(q=Le[9].t("Use Gravatar")+"")&&j(X,q),(!be||Fe&512)&&Y!==(Y=Le[9].t("Remove")+"")&&j(Z,Y),(!be||Fe&512)&&Q!==(Q=Le[9].t("Name")+"")&&j(J,Q),Fe&4&&fe.value!==Le[2]&&Re(fe,Le[2]),(!be||Fe&512)&&se!==(se=Le[9].t("API keys")+"")&&j(_e,se),(!be||Fe&520)&&ve!==(ve=(Le[3]?Le[9].t("Hide"):Le[9].t("Show"))+"")&&j(ze,ve),Le[3]?He?(He.p(Le,Fe),Fe&8&&W(He,1)):(He=Ya(Le),He.c(),W(He,1),He.m(t,null)):He&&(qe(),K(He,1,1,()=>{He=null}),Ge()),(!be||Fe&512)&&le!==(le=Le[9].t("Save")+"")&&j(Te,le)},i(Le){be||(W(ke.$$.fragment,Le),W(He),be=!0)},o(Le){K(ke.$$.fragment,Le),K(He),be=!1},d(Le){Le&&f(e),r[14](null),oe(ke),He&&He.d(),Ye=!1,it(dt)}}}function Hu(r,e,t){let l,s,n;Ve(r,Bl,L=>t(8,l=L)),Ve(r,ms,L=>t(10,n=L));const o=gt("i18n");Ve(r,o,L=>t(9,s=L));let{saveHandler:a}=e,i="",d="",p=!1,b=!1,_="",g=!1,w;const I=async()=>{d!==l.name&&(i===us(l.name)||i==="")&&t(1,i=us(d));const L=await lc(localStorage.token,d,i).catch(Y=>{Ue.error(Y)});return L?(await Bl.set(L),!0):!1},k=async()=>{t(5,_=await sc(localStorage.token)),_?Ue.success(s.t("API Key created.")):Ue.error(s.t("Failed to create API Key."))};$t(async()=>{t(2,d=l.name),t(1,i=l.profile_image_url),t(5,_=await tc(localStorage.token).catch(L=>(console.log(L),"")))});function $(L){lt[L?"unshift":"push"](()=>{w=L,t(7,w)})}const B=L=>{const Y=w.files??[];let Z=new FileReader;Z.onload=F=>{let R=`${F.target.result}`;const x=new Image;x.src=R,x.onload=function(){const z=document.createElement("canvas"),Q=z.getContext("2d"),J=x.width/x.height;let ee,ce;J>1?(ee=250*J,ce=250):(ee=250,ce=250/J),z.width=250,z.height=250;const fe=(250-ee)/2,he=(250-ce)/2;Q.drawImage(x,fe,he,ee,ce);const ge=z.toDataURL("image/jpeg");t(1,i=ge),t(7,w.files=null,w)}},Y.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(Y[0].type)&&Z.readAsDataURL(Y[0])},y=()=>{w.click()},E=async()=>{wi()?t(1,i=us(d)):Ue.info(s.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},D=async()=>{const L=await Ki(l.email);t(1,i=L)},T=async()=>{t(1,i="/user.png")};function C(){d=this.value,t(2,d)}const M=()=>{t(3,p=!p)},S=()=>{na(localStorage.token),t(4,b=!0),setTimeout(()=>{t(4,b=!1)},2e3)},H=()=>{na(_),t(6,g=!0),setTimeout(()=>{t(6,g=!1)},2e3)},q=()=>{k()},X=()=>{k()},N=async()=>{await I()&&a()};return r.$$set=L=>{"saveHandler"in L&&t(0,a=L.saveHandler)},[a,i,d,p,b,_,g,w,l,s,n,o,I,k,$,B,y,E,D,T,C,M,S,H,q,X,N]}class xu extends at{constructor(e){super(),ot(this,e,Hu,Pu,nt,{saveHandler:0})}}function ju(r){let e,t;return{c(){e=U("v"),t=U(fl)},l(l){e=P(l,"v"),t=P(l,fl)},m(l,s){O(l,e,s),O(l,t,s)},p:ye,d(l){l&&(f(e),f(t))}}}function Ka(r){let e,t,l,s,n=r[4].t("Ollama Version")+"",o,a,i,d,p=(r[0]??"N/A")+"",b;return{c(){e=h("hr"),t=V(),l=h("div"),s=h("div"),o=U(n),a=V(),i=h("div"),d=h("div"),b=U(p),this.h()},l(_){e=m(_,"HR",{class:!0}),t=A(_),l=m(_,"DIV",{});var g=v(l);s=m(g,"DIV",{class:!0});var w=v(s);o=P(w,n),w.forEach(f),a=A(g),i=m(g,"DIV",{class:!0});var I=v(i);d=m(I,"DIV",{class:!0});var k=v(d);b=P(k,p),k.forEach(f),I.forEach(f),g.forEach(f),this.h()},h(){u(e,"class","dark:border-gray-850"),u(s,"class","mb-2.5 text-sm font-medium"),u(d,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),u(i,"class","flex w-full")},m(_,g){O(_,e,g),O(_,t,g),O(_,l,g),c(l,s),c(s,o),c(l,a),c(l,i),c(i,d),c(d,b)},p(_,g){g&16&&n!==(n=_[4].t("Ollama Version")+"")&&j(o,n),g&1&&p!==(p=(_[0]??"N/A")+"")&&j(b,p)},d(_){_&&(f(e),f(t),f(l))}}}function qa(r){let e,t,l;return{c(){e=h("span"),t=U(r[3]),l=U(" -"),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);t=P(n,r[3]),n.forEach(f),l=P(s," -"),this.h()},h(){u(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(s,n){O(s,e,n),c(e,t),O(s,l,n)},p(s,n){n&8&&j(t,s[3])},d(s){s&&(f(e),f(l))}}}function zu(r){let e,t,l,s,n,o,a,i=r[4].t("Version")+"",d,p,b,_,g,w,I,k,$=(r[1]===null?r[4].t("Checking for updates..."):r[1]?`(v${r[2].latest} ${r[4].t("available!")})`:r[4].t("(latest)"))+"",B,y,E,D,T,C=r[4].t("See what's new")+"",M,S,H,q=r[4].t("Check for updates")+"",X,N,L,Y,Z,F,R='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',x,z,Q=!r[3].includes("Open WebUI"),J,ee=r[4].t("Created by")+"",ce,fe,he,ge="Timothy J. Baek",ke,Ne,Ae;w=new At({props:{content:mi,$$slots:{default:[ju]},$$scope:{ctx:r}}});let Ie=r[0]&&Ka(r),me=Q&&qa(r);return{c(){e=h("div"),t=h("div"),l=h("div"),s=h("div"),n=h("div"),o=U(r[3]),a=V(),d=U(i),p=V(),b=h("div"),_=h("div"),g=h("div"),re(w.$$.fragment),I=V(),k=h("a"),B=U($),E=V(),D=h("button"),T=h("div"),M=U(C),S=V(),H=h("button"),X=U(q),N=V(),Ie&&Ie.c(),L=V(),Y=h("hr"),Z=V(),F=h("div"),F.innerHTML=R,x=V(),z=h("div"),me&&me.c(),J=V(),ce=U(ee),fe=V(),he=h("a"),he.textContent=ge,this.h()},l(pe){e=m(pe,"DIV",{class:!0});var se=v(e);t=m(se,"DIV",{class:!0});var _e=v(t);l=m(_e,"DIV",{});var Ce=v(l);s=m(Ce,"DIV",{class:!0});var De=v(s);n=m(De,"DIV",{});var ve=v(n);o=P(ve,r[3]),a=A(ve),d=P(ve,i),ve.forEach(f),De.forEach(f),p=A(Ce),b=m(Ce,"DIV",{class:!0});var ze=v(b);_=m(ze,"DIV",{class:!0});var Oe=v(_);g=m(Oe,"DIV",{class:!0});var Ke=v(g);ne(w.$$.fragment,Ke),I=A(Ke),k=m(Ke,"A",{href:!0,target:!0});var Pe=v(k);B=P(Pe,$),Pe.forEach(f),Ke.forEach(f),E=A(Oe),D=m(Oe,"BUTTON",{class:!0});var Qe=v(D);T=m(Qe,"DIV",{});var le=v(T);M=P(le,C),le.forEach(f),Qe.forEach(f),Oe.forEach(f),S=A(ze),H=m(ze,"BUTTON",{class:!0});var Te=v(H);X=P(Te,q),Te.forEach(f),ze.forEach(f),Ce.forEach(f),N=A(_e),Ie&&Ie.l(_e),L=A(_e),Y=m(_e,"HR",{class:!0}),Z=A(_e),F=m(_e,"DIV",{class:!0,"data-svelte-h":!0}),xe(F)!=="svelte-1hy20dm"&&(F.innerHTML=R),x=A(_e),z=m(_e,"DIV",{class:!0});var be=v(z);me&&me.l(be),J=A(be),ce=P(be,ee),fe=A(be),he=m(be,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),xe(he)!=="svelte-1tvrifl"&&(he.textContent=ge),be.forEach(f),_e.forEach(f),se.forEach(f),this.h()},h(){u(s,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),u(k,"href",y="https://github.com/open-webui/open-webui/releases/tag/v"+r[2].latest),u(k,"target","_blank"),u(g,"class","flex gap-1"),u(D,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),u(_,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),u(H,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),u(b,"class","flex w-full justify-between items-center"),u(Y,"class","dark:border-gray-850"),u(F,"class","flex space-x-1"),u(he,"class","text-gray-500 dark:text-gray-300 font-medium"),u(he,"href","https://github.com/tjbck"),u(he,"target","_blank"),u(z,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(pe,se){O(pe,e,se),c(e,t),c(t,l),c(l,s),c(s,n),c(n,o),c(n,a),c(n,d),c(l,p),c(l,b),c(b,_),c(_,g),ae(w,g,null),c(g,I),c(g,k),c(k,B),c(_,E),c(_,D),c(D,T),c(T,M),c(b,S),c(b,H),c(H,X),c(t,N),Ie&&Ie.m(t,null),c(t,L),c(t,Y),c(t,Z),c(t,F),c(t,x),c(t,z),me&&me.m(z,null),c(z,J),c(z,ce),c(z,fe),c(z,he),ke=!0,Ne||(Ae=[te(D,"click",r[7]),te(H,"click",r[8])],Ne=!0)},p(pe,[se]){(!ke||se&8)&&j(o,pe[3]),(!ke||se&16)&&i!==(i=pe[4].t("Version")+"")&&j(d,i);const _e={};se&512&&(_e.$$scope={dirty:se,ctx:pe}),w.$set(_e),(!ke||se&22)&&$!==($=(pe[1]===null?pe[4].t("Checking for updates..."):pe[1]?`(v${pe[2].latest} ${pe[4].t("available!")})`:pe[4].t("(latest)"))+"")&&j(B,$),(!ke||se&4&&y!==(y="https://github.com/open-webui/open-webui/releases/tag/v"+pe[2].latest))&&u(k,"href",y),(!ke||se&16)&&C!==(C=pe[4].t("See what's new")+"")&&j(M,C),(!ke||se&16)&&q!==(q=pe[4].t("Check for updates")+"")&&j(X,q),pe[0]?Ie?Ie.p(pe,se):(Ie=Ka(pe),Ie.c(),Ie.m(t,L)):Ie&&(Ie.d(1),Ie=null),se&8&&(Q=!pe[3].includes("Open WebUI")),Q?me?me.p(pe,se):(me=qa(pe),me.c(),me.m(z,J)):me&&(me.d(1),me=null),(!ke||se&16)&&ee!==(ee=pe[4].t("Created by")+"")&&j(ce,ee)},i(pe){ke||(W(w.$$.fragment,pe),ke=!0)},o(pe){K(w.$$.fragment,pe),ke=!1},d(pe){pe&&f(e),oe(w),Ie&&Ie.d(),me&&me.d(),Ne=!1,it(Ae)}}}function Ru(r,e,t){let l,s;Ve(r,Uo,_=>t(3,l=_));const n=gt("i18n");Ve(r,n,_=>t(4,s=_));let o="",a=null,i={current:"",latest:""};const d=async()=>{t(1,a=null),t(2,i=await Ho().catch(_=>({current:fl,latest:fl}))),console.log(i),t(1,a=Vr(i.latest,i.current)),console.log(a)};return $t(async()=>{t(0,o=await nc(localStorage.token).catch(_=>"")),d()}),[o,a,i,l,s,n,d,()=>{tr.set(!0)},()=>{d()}]}class Wu extends at{constructor(e){super(),ot(this,e,Ru,zu,nt,{})}}function Ga(r,e,t){const l=r.slice();return l[33]=e[t],l}function Xa(r){let e,t=r[33].title+"",l,s;return{c(){e=h("option"),l=U(t),this.h()},l(n){e=m(n,"OPTION",{});var o=v(e);l=P(o,t),o.forEach(f),this.h()},h(){e.__value=s=r[33].code,Re(e,e.__value)},m(n,o){O(n,e,o),c(e,l)},p(n,o){o[0]&4&&t!==(t=n[33].title+"")&&j(l,t),o[0]&4&&s!==(s=n[33].code)&&(e.__value=s,Re(e,e.__value))},d(n){n&&f(e)}}}function Qa(r){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){u(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,s){O(l,e,s)},d(l){l&&f(e)}}}function Fu(r){let e,t=r[10].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&1024&&t!==(t=s[10].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Zu(r){let e,t=r[10].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&1024&&t!==(t=s[10].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function eo(r){var R;let e,t,l,s,n,o,a,i,d=r[10].t("Keep Alive")+"",p,b,_,g,w,I,k,$,B=r[10].t("Request Mode")+"",y,E,D,T,C,M;function S(x){r[25](x)}let H={admin:((R=r[11])==null?void 0:R.role)==="admin"};r[9]!==void 0&&(H.params=r[9]),e=new oc({props:H}),lt.push(()=>pt(e,"params",S));function q(x,z){return x[8]===null?Ju:Yu}let X=q(r),N=X(r),L=r[8]!==null&&to(r);function Y(x,z){if(x[7]==="")return qu;if(x[7]==="json")return Ku}let Z=Y(r),F=Z&&Z(r);return{c(){re(e.$$.fragment),l=V(),s=h("hr"),n=V(),o=h("div"),a=h("div"),i=h("div"),p=U(d),b=V(),_=h("button"),N.c(),g=V(),L&&L.c(),w=V(),I=h("div"),k=h("div"),$=h("div"),y=U(B),E=V(),D=h("button"),F&&F.c(),this.h()},l(x){ne(e.$$.fragment,x),l=A(x),s=m(x,"HR",{class:!0}),n=A(x),o=m(x,"DIV",{class:!0});var z=v(o);a=m(z,"DIV",{class:!0});var Q=v(a);i=m(Q,"DIV",{class:!0});var J=v(i);p=P(J,d),J.forEach(f),b=A(Q),_=m(Q,"BUTTON",{class:!0,type:!0});var ee=v(_);N.l(ee),ee.forEach(f),Q.forEach(f),g=A(z),L&&L.l(z),z.forEach(f),w=A(x),I=m(x,"DIV",{});var ce=v(I);k=m(ce,"DIV",{class:!0});var fe=v(k);$=m(fe,"DIV",{class:!0});var he=v($);y=P(he,B),he.forEach(f),E=A(fe),D=m(fe,"BUTTON",{class:!0});var ge=v(D);F&&F.l(ge),ge.forEach(f),fe.forEach(f),ce.forEach(f),this.h()},h(){u(s,"class","dark:border-gray-850"),u(i,"class","self-center text-xs font-medium"),u(_,"class","p-1 px-3 text-xs flex rounded transition"),u(_,"type","button"),u(a,"class","flex w-full justify-between"),u(o,"class","py-1 w-full justify-between"),u($,"class","self-center text-sm font-medium"),u(D,"class","p-1 px-3 text-xs flex rounded transition"),u(k,"class","py-1 flex w-full justify-between")},m(x,z){ae(e,x,z),O(x,l,z),O(x,s,z),O(x,n,z),O(x,o,z),c(o,a),c(a,i),c(i,p),c(a,b),c(a,_),N.m(_,null),c(o,g),L&&L.m(o,null),O(x,w,z),O(x,I,z),c(I,k),c(k,$),c($,y),c(k,E),c(k,D),F&&F.m(D,null),T=!0,C||(M=[te(_,"click",r[26]),te(D,"click",r[28])],C=!0)},p(x,z){var J;const Q={};z[0]&2048&&(Q.admin=((J=x[11])==null?void 0:J.role)==="admin"),!t&&z[0]&512&&(t=!0,Q.params=x[9],mt(()=>t=!1)),e.$set(Q),(!T||z[0]&1024)&&d!==(d=x[10].t("Keep Alive")+"")&&j(p,d),X===(X=q(x))&&N?N.p(x,z):(N.d(1),N=X(x),N&&(N.c(),N.m(_,null))),x[8]!==null?L?L.p(x,z):(L=to(x),L.c(),L.m(o,null)):L&&(L.d(1),L=null),(!T||z[0]&1024)&&B!==(B=x[10].t("Request Mode")+"")&&j(y,B),Z===(Z=Y(x))&&F?F.p(x,z):(F&&F.d(1),F=Z&&Z(x),F&&(F.c(),F.m(D,null)))},i(x){T||(W(e.$$.fragment,x),T=!0)},o(x){K(e.$$.fragment,x),T=!1},d(x){x&&(f(l),f(s),f(n),f(o),f(w),f(I)),oe(e,x),N.d(),L&&L.d(),F&&F.d(),C=!1,it(M)}}}function Yu(r){let e,t=r[10].t("Custom")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&1024&&t!==(t=s[10].t("Custom")+"")&&j(l,t)},d(s){s&&f(e)}}}function Ju(r){let e,t=r[10].t("Default")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&1024&&t!==(t=s[10].t("Default")+"")&&j(l,t)},d(s){s&&f(e)}}}function to(r){let e,t,l,s,n;return{c(){e=h("div"),t=h("input"),this.h()},l(o){e=m(o,"DIV",{class:!0});var a=v(e);t=m(a,"INPUT",{class:!0,type:!0,placeholder:!0}),a.forEach(f),this.h()},h(){u(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(t,"type","text"),u(t,"placeholder",l=r[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),u(e,"class","flex mt-1 space-x-2")},m(o,a){O(o,e,a),c(e,t),Re(t,r[8]),s||(n=te(t,"input",r[27]),s=!0)},p(o,a){a[0]&1024&&l!==(l=o[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&u(t,"placeholder",l),a[0]&256&&t.value!==o[8]&&Re(t,o[8])},d(o){o&&f(e),s=!1,n()}}}function Ku(r){let e,t=r[10].t("JSON")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&1024&&t!==(t=s[10].t("JSON")+"")&&j(l,t)},d(s){s&&f(e)}}}function qu(r){let e,t=r[10].t("Default")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&1024&&t!==(t=s[10].t("Default")+"")&&j(l,t)},d(s){s&&f(e)}}}function Gu(r){let e,t,l,s,n=r[10].t("WebUI Settings")+"",o,a,i,d,p=r[10].t("Theme")+"",b,_,g,w,I,k,$=r[10].t("System")+"",B,y,E,D=r[10].t("Dark")+"",T,C,M,S=r[10].t("OLED Dark")+"",H,q,X,N=r[10].t("Light")+"",L,Y,Z=" Her",F,R,x,z=r[10].t("Language")+"",Q,J,ee,ce,fe,he,ge,ke,Ne,Ae=r[10].t("Notifications")+"",Ie,me,pe,se,_e,Ce,De,ve,ze=r[10].t("System Prompt")+"",Oe,Ke,Pe,Qe,le,Te,be,Ye=r[10].t("Advanced Parameters")+"",dt,He,Le,Fe=(r[6]?r[10].t("Hide"):r[10].t("Show"))+"",ue,Me,Ze,ct,st,G=r[10].t("Save")+"",de,we,$e,Be,Je=Xe(r[2]),et=[];for(let Se=0;Se<Je.length;Se+=1)et[Se]=Xa(Ga(r,Je,Se));let ut=r[10].language==="en-US"&&Qa();function kt(Se,je){return Se[4]===!0?Zu:Fu}let yt=kt(r),bt=yt(r),rt=r[6]&&eo(r);return{c(){e=h("div"),t=h("div"),l=h("div"),s=h("div"),o=U(n),a=V(),i=h("div"),d=h("div"),b=U(p),_=V(),g=h("div"),w=h("select"),I=h("option"),k=U(" "),B=U($),y=h("option"),E=U(" "),T=U(D),C=h("option"),M=U(" "),H=U(S),q=h("option"),X=U(" "),L=U(N),Y=h("option"),Y.textContent=Z,F=V(),R=h("div"),x=h("div"),Q=U(z),J=V(),ee=h("div"),ce=h("select");for(let Se=0;Se<et.length;Se+=1)et[Se].c();fe=V(),ut&&ut.c(),he=V(),ge=h("div"),ke=h("div"),Ne=h("div"),Ie=U(Ae),me=V(),pe=h("button"),bt.c(),se=V(),_e=h("hr"),Ce=V(),De=h("div"),ve=h("div"),Oe=U(ze),Ke=V(),Pe=h("textarea"),Qe=V(),le=h("div"),Te=h("div"),be=h("div"),dt=U(Ye),He=V(),Le=h("button"),ue=U(Fe),Me=V(),rt&&rt.c(),Ze=V(),ct=h("div"),st=h("button"),de=U(G),this.h()},l(Se){e=m(Se,"DIV",{class:!0});var je=v(e);t=m(je,"DIV",{class:!0});var tt=v(t);l=m(tt,"DIV",{class:!0});var wt=v(l);s=m(wt,"DIV",{class:!0});var Tt=v(s);o=P(Tt,n),Tt.forEach(f),a=A(wt),i=m(wt,"DIV",{class:!0});var Ut=v(i);d=m(Ut,"DIV",{class:!0});var gl=v(d);b=P(gl,p),gl.forEach(f),_=A(Ut),g=m(Ut,"DIV",{class:!0});var Vl=v(g);w=m(Vl,"SELECT",{class:!0,placeholder:!0});var ol=v(w);I=m(ol,"OPTION",{});var St=v(I);k=P(St," "),B=P(St,$),St.forEach(f),y=m(ol,"OPTION",{});var Al=v(y);E=P(Al," "),T=P(Al,D),Al.forEach(f),C=m(ol,"OPTION",{});var ul=v(C);M=P(ul," "),H=P(ul,S),ul.forEach(f),q=m(ol,"OPTION",{});var Nt=v(q);X=P(Nt," "),L=P(Nt,N),Nt.forEach(f),Y=m(ol,"OPTION",{"data-svelte-h":!0}),xe(Y)!=="svelte-188ouwx"&&(Y.textContent=Z),ol.forEach(f),Vl.forEach(f),Ut.forEach(f),F=A(wt),R=m(wt,"DIV",{class:!0});var Pt=v(R);x=m(Pt,"DIV",{class:!0});var bl=v(x);Q=P(bl,z),bl.forEach(f),J=A(Pt),ee=m(Pt,"DIV",{class:!0});var Cl=v(ee);ce=m(Cl,"SELECT",{class:!0,placeholder:!0});var Ul=v(ce);for(let il=0;il<et.length;il+=1)et[il].l(Ul);Ul.forEach(f),Cl.forEach(f),Pt.forEach(f),fe=A(wt),ut&&ut.l(wt),he=A(wt),ge=m(wt,"DIV",{});var Lt=v(ge);ke=m(Lt,"DIV",{class:!0});var wl=v(ke);Ne=m(wl,"DIV",{class:!0});var kl=v(Ne);Ie=P(kl,Ae),kl.forEach(f),me=A(wl),pe=m(wl,"BUTTON",{class:!0,type:!0});var Ht=v(pe);bt.l(Ht),Ht.forEach(f),wl.forEach(f),Lt.forEach(f),wt.forEach(f),se=A(tt),_e=m(tt,"HR",{class:!0}),Ce=A(tt),De=m(tt,"DIV",{});var xt=v(De);ve=m(xt,"DIV",{class:!0});var yl=v(ve);Oe=P(yl,ze),yl.forEach(f),Ke=A(xt),Pe=m(xt,"TEXTAREA",{class:!0,rows:!0}),v(Pe).forEach(f),xt.forEach(f),Qe=A(tt),le=m(tt,"DIV",{class:!0});var dl=v(le);Te=m(dl,"DIV",{class:!0});var El=v(Te);be=m(El,"DIV",{class:!0});var Mt=v(be);dt=P(Mt,Ye),Mt.forEach(f),He=A(El),Le=m(El,"BUTTON",{class:!0,type:!0});var Pl=v(Le);ue=P(Pl,Fe),Pl.forEach(f),El.forEach(f),Me=A(dl),rt&&rt.l(dl),dl.forEach(f),tt.forEach(f),Ze=A(je),ct=m(je,"DIV",{class:!0});var Il=v(ct);st=m(Il,"BUTTON",{class:!0});var jt=v(st);de=P(jt,G),jt.forEach(f),Il.forEach(f),je.forEach(f),this.h()},h(){u(s,"class","mb-1 text-sm font-medium"),u(d,"class","self-center text-xs font-medium"),I.__value="system",Re(I,I.__value),y.__value="dark",Re(y,y.__value),C.__value="oled-dark",Re(C,C.__value),q.__value="light",Re(q,q.__value),Y.__value="her",Re(Y,Y.__value),u(w,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),u(w,"placeholder","Select a theme"),r[1]===void 0&&Ml(()=>r[18].call(w)),u(g,"class","flex items-center relative"),u(i,"class","flex w-full justify-between"),u(x,"class","self-center text-xs font-medium"),u(ce,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),u(ce,"placeholder","Select a language"),r[3]===void 0&&Ml(()=>r[20].call(ce)),u(ee,"class","flex items-center relative"),u(R,"class","flex w-full justify-between"),u(Ne,"class","self-center text-xs font-medium"),u(pe,"class","p-1 px-3 text-xs flex rounded transition"),u(pe,"type","button"),u(ke,"class","py-0.5 flex w-full justify-between"),u(l,"class",""),u(_e,"class","dark:border-gray-850 my-3"),u(ve,"class","my-2.5 text-sm font-medium"),u(Pe,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),u(Pe,"rows","4"),u(be,"class","font-medium"),u(Le,"class","text-xs font-medium text-gray-500"),u(Le,"type","button"),u(Te,"class","flex justify-between items-center text-sm"),u(le,"class","mt-2 space-y-3 pr-1.5"),u(t,"class","overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(st,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(ct,"class","flex justify-end pt-3 text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between text-sm")},m(Se,je){O(Se,e,je),c(e,t),c(t,l),c(l,s),c(s,o),c(l,a),c(l,i),c(i,d),c(d,b),c(i,_),c(i,g),c(g,w),c(w,I),c(I,k),c(I,B),c(w,y),c(y,E),c(y,T),c(w,C),c(C,M),c(C,H),c(w,q),c(q,X),c(q,L),c(w,Y),cl(w,r[1],!0),c(l,F),c(l,R),c(R,x),c(x,Q),c(R,J),c(R,ee),c(ee,ce);for(let tt=0;tt<et.length;tt+=1)et[tt]&&et[tt].m(ce,null);cl(ce,r[3],!0),c(l,fe),ut&&ut.m(l,null),c(l,he),c(l,ge),c(ge,ke),c(ke,Ne),c(Ne,Ie),c(ke,me),c(ke,pe),bt.m(pe,null),c(t,se),c(t,_e),c(t,Ce),c(t,De),c(De,ve),c(ve,Oe),c(De,Ke),c(De,Pe),Re(Pe,r[5]),c(t,Qe),c(t,le),c(le,Te),c(Te,be),c(be,dt),c(Te,He),c(Te,Le),c(Le,ue),c(le,Me),rt&&rt.m(le,null),c(e,Ze),c(e,ct),c(ct,st),c(st,de),we=!0,$e||(Be=[te(w,"change",r[18]),te(w,"change",r[19]),te(ce,"change",r[20]),te(ce,"change",r[21]),te(pe,"click",r[22]),te(Pe,"input",r[23]),te(Le,"click",r[24]),te(st,"click",r[29])],$e=!0)},p(Se,je){if((!we||je[0]&1024)&&n!==(n=Se[10].t("WebUI Settings")+"")&&j(o,n),(!we||je[0]&1024)&&p!==(p=Se[10].t("Theme")+"")&&j(b,p),(!we||je[0]&1024)&&$!==($=Se[10].t("System")+"")&&j(B,$),(!we||je[0]&1024)&&D!==(D=Se[10].t("Dark")+"")&&j(T,D),(!we||je[0]&1024)&&S!==(S=Se[10].t("OLED Dark")+"")&&j(H,S),(!we||je[0]&1024)&&N!==(N=Se[10].t("Light")+"")&&j(L,N),je[0]&2&&cl(w,Se[1]),(!we||je[0]&1024)&&z!==(z=Se[10].t("Language")+"")&&j(Q,z),je[0]&4){Je=Xe(Se[2]);let tt;for(tt=0;tt<Je.length;tt+=1){const wt=Ga(Se,Je,tt);et[tt]?et[tt].p(wt,je):(et[tt]=Xa(wt),et[tt].c(),et[tt].m(ce,null))}for(;tt<et.length;tt+=1)et[tt].d(1);et.length=Je.length}je[0]&12&&cl(ce,Se[3]),Se[10].language==="en-US"?ut||(ut=Qa(),ut.c(),ut.m(l,he)):ut&&(ut.d(1),ut=null),(!we||je[0]&1024)&&Ae!==(Ae=Se[10].t("Notifications")+"")&&j(Ie,Ae),yt===(yt=kt(Se))&&bt?bt.p(Se,je):(bt.d(1),bt=yt(Se),bt&&(bt.c(),bt.m(pe,null))),(!we||je[0]&1024)&&ze!==(ze=Se[10].t("System Prompt")+"")&&j(Oe,ze),je[0]&32&&Re(Pe,Se[5]),(!we||je[0]&1024)&&Ye!==(Ye=Se[10].t("Advanced Parameters")+"")&&j(dt,Ye),(!we||je[0]&1088)&&Fe!==(Fe=(Se[6]?Se[10].t("Hide"):Se[10].t("Show"))+"")&&j(ue,Fe),Se[6]?rt?(rt.p(Se,je),je[0]&64&&W(rt,1)):(rt=eo(Se),rt.c(),W(rt,1),rt.m(le,null)):rt&&(qe(),K(rt,1,1,()=>{rt=null}),Ge()),(!we||je[0]&1024)&&G!==(G=Se[10].t("Save")+"")&&j(de,G)},i(Se){we||(W(rt),we=!0)},o(Se){K(rt),we=!1},d(Se){Se&&f(e),Ct(et,Se),ut&&ut.d(),bt.d(),rt&&rt.d(),$e=!1,it(Be)}}}function Xu(r,e,t){let l,s,n;Ve(r,al,z=>t(30,l=z)),Ve(r,Bl,z=>t(11,n=z));const o=Dt(),a=gt("i18n");Ve(r,a,z=>t(10,s=z));let{saveSettings:i}=e,{getModels:d}=e,p=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],b="system",_=[],g=s.language,w=!1,I="",k=!1;const $=async()=>{await Notification.requestPermission()==="granted"?(t(4,w=!w),i({notificationEnabled:w})):Ue.error(s.t("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access."))};let B="",y=null,E={stream_response:null,seed:null,temperature:null,frequency_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,stop:null,tfs_z:null,num_ctx:null,num_batch:null,num_keep:null,max_tokens:null,num_gpu:null};const D=async()=>{B===""?t(7,B="json"):t(7,B=""),i({requestFormat:B!==""?B:void 0})};$t(async()=>{var z,Q;t(1,b=localStorage.theme??"system"),t(2,_=await ac()),t(4,w=l.notificationEnabled??!1),t(5,I=l.system??""),t(7,B=l.requestFormat??""),t(8,y=l.keepAlive??null),t(9,E={...E,...l.params}),t(9,E.stop=(z=l==null?void 0:l.params)!=null&&z.stop?(((Q=l==null?void 0:l.params)==null?void 0:Q.stop)??[]).join(","):null,E)});const T=z=>{let Q=z==="oled-dark"?"dark":z;z==="system"&&(Q=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q==="dark"&&!z.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#333"),document.documentElement.style.setProperty("--color-gray-850","#262626"),document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),p.filter(ee=>ee!==Q).forEach(ee=>{ee.split(" ").forEach(ce=>{document.documentElement.classList.remove(ce)})}),Q.split(" ").forEach(ee=>{document.documentElement.classList.add(ee)});const J=document.querySelector('meta[name="theme-color"]');if(J)if(z.includes("system")){const ee=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";console.log("Setting system meta theme color: "+ee),J.setAttribute("content",ee==="light"?"#ffffff":"#171717")}else console.log("Setting meta theme color: "+z),J.setAttribute("content",z==="dark"?"#171717":z==="oled-dark"?"#000000":z==="her"?"#983724":"#ffffff");console.log(z)},C=z=>{pi.set(z),localStorage.setItem("theme",z),z.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#101010"),document.documentElement.style.setProperty("--color-gray-850","#050505"),document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),T(z)};function M(){b=cs(this),t(1,b)}const S=()=>C(b);function H(){g=cs(this),t(3,g),t(2,_)}const q=z=>{s.changeLanguage(g)},X=()=>{$()};function N(){I=this.value,t(5,I)}const L=()=>{t(6,k=!k)};function Y(z){E=z,t(9,E)}const Z=()=>{t(8,y=y===null?"5m":null)};function F(){y=this.value,t(8,y)}const R=()=>{D()},x=()=>{i({system:I!==""?I:void 0,params:{stream_response:E.stream_response!==null?E.stream_response:void 0,seed:(E.seed!==null?E.seed:void 0)??void 0,stop:E.stop?E.stop.split(",").filter(z=>z):void 0,temperature:E.temperature!==null?E.temperature:void 0,frequency_penalty:E.frequency_penalty!==null?E.frequency_penalty:void 0,repeat_last_n:E.repeat_last_n!==null?E.repeat_last_n:void 0,mirostat:E.mirostat!==null?E.mirostat:void 0,mirostat_eta:E.mirostat_eta!==null?E.mirostat_eta:void 0,mirostat_tau:E.mirostat_tau!==null?E.mirostat_tau:void 0,top_k:E.top_k!==null?E.top_k:void 0,top_p:E.top_p!==null?E.top_p:void 0,tfs_z:E.tfs_z!==null?E.tfs_z:void 0,num_ctx:E.num_ctx!==null?E.num_ctx:void 0,num_batch:E.num_batch!==null?E.num_batch:void 0,num_keep:E.num_keep!==null?E.num_keep:void 0,max_tokens:E.max_tokens!==null?E.max_tokens:void 0,use_mmap:E.use_mmap!==null?E.use_mmap:void 0,use_mlock:E.use_mlock!==null?E.use_mlock:void 0,num_thread:E.num_thread!==null?E.num_thread:void 0,num_gpu:E.num_gpu!==null?E.num_gpu:void 0},keepAlive:y?isNaN(y)?y:parseInt(y):void 0}),o("save")};return r.$$set=z=>{"saveSettings"in z&&t(0,i=z.saveSettings),"getModels"in z&&t(17,d=z.getModels)},[i,b,_,g,w,I,k,B,y,E,s,n,o,a,$,D,C,d,M,S,H,q,X,N,L,Y,Z,F,R,x]}class Qu extends at{constructor(e){super(),ot(this,e,Xu,Gu,nt,{saveSettings:0,getModels:17},null,[-1,-1])}}function ed(r){let e,t=r[23].t("Chat")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Chat")+"")&&j(l,t)},d(s){s&&f(e)}}}function td(r){let e,t=r[23].t("Default")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Default")+"")&&j(l,t)},d(s){s&&f(e)}}}function ld(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function sd(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function lo(r){let e,t,l,s=r[23].t("Display the username instead of You in the Chat")+"",n,o,a,i,d;function p(g,w){return g[11]===!0?nd:rd}let b=p(r),_=b(r);return{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("button"),_.c(),this.h()},l(g){e=m(g,"DIV",{});var w=v(e);t=m(w,"DIV",{class:!0});var I=v(t);l=m(I,"DIV",{class:!0});var k=v(l);n=P(k,s),k.forEach(f),o=A(I),a=m(I,"BUTTON",{class:!0,type:!0});var $=v(a);_.l($),$.forEach(f),I.forEach(f),w.forEach(f),this.h()},h(){u(l,"class","self-center text-xs"),u(a,"class","p-1 px-3 text-xs flex rounded transition"),u(a,"type","button"),u(t,"class","py-0.5 flex w-full justify-between")},m(g,w){O(g,e,w),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),_.m(a,null),i||(d=te(a,"click",r[51]),i=!0)},p(g,w){w[0]&8388608&&s!==(s=g[23].t("Display the username instead of You in the Chat")+"")&&j(n,s),b===(b=p(g))&&_?_.p(g,w):(_.d(1),_=b(g),_&&(_.c(),_.m(a,null)))},d(g){g&&f(e),_.d(),i=!1,d()}}}function rd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function nd(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function ad(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function od(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function id(r){let e,t=r[23].t("RTL")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("RTL")+"")&&j(l,t)},d(s){s&&f(e)}}}function cd(r){let e,t=r[23].t("LTR")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("LTR")+"")&&j(l,t)},d(s){s&&f(e)}}}function so(r){let e,t,l,s=r[23].t("Toast notifications for new updates")+"",n,o,a,i,d,p,b,_=r[23].t(`Show "What's New" modal on login`)+"",g,w,I,k,$;function B(M,S){return M[17]===!0?ud:fd}let y=B(r),E=y(r);function D(M,S){return M[18]===!0?hd:dd}let T=D(r),C=T(r);return{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("button"),E.c(),i=V(),d=h("div"),p=h("div"),b=h("div"),g=U(_),w=V(),I=h("button"),C.c(),this.h()},l(M){e=m(M,"DIV",{});var S=v(e);t=m(S,"DIV",{class:!0});var H=v(t);l=m(H,"DIV",{class:!0});var q=v(l);n=P(q,s),q.forEach(f),o=A(H),a=m(H,"BUTTON",{class:!0,type:!0});var X=v(a);E.l(X),X.forEach(f),H.forEach(f),S.forEach(f),i=A(M),d=m(M,"DIV",{});var N=v(d);p=m(N,"DIV",{class:!0});var L=v(p);b=m(L,"DIV",{class:!0});var Y=v(b);g=P(Y,_),Y.forEach(f),w=A(L),I=m(L,"BUTTON",{class:!0,type:!0});var Z=v(I);C.l(Z),Z.forEach(f),L.forEach(f),N.forEach(f),this.h()},h(){u(l,"class","self-center text-xs"),u(a,"class","p-1 px-3 text-xs flex rounded transition"),u(a,"type","button"),u(t,"class","py-0.5 flex w-full justify-between"),u(b,"class","self-center text-xs"),u(I,"class","p-1 px-3 text-xs flex rounded transition"),u(I,"type","button"),u(p,"class","py-0.5 flex w-full justify-between")},m(M,S){O(M,e,S),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),E.m(a,null),O(M,i,S),O(M,d,S),c(d,p),c(p,b),c(b,g),c(p,w),c(p,I),C.m(I,null),k||($=[te(a,"click",r[53]),te(I,"click",r[54])],k=!0)},p(M,S){S[0]&8388608&&s!==(s=M[23].t("Toast notifications for new updates")+"")&&j(n,s),y===(y=B(M))&&E?E.p(M,S):(E.d(1),E=y(M),E&&(E.c(),E.m(a,null))),S[0]&8388608&&_!==(_=M[23].t(`Show "What's New" modal on login`)+"")&&j(g,_),T===(T=D(M))&&C?C.p(M,S):(C.d(1),C=T(M),C&&(C.c(),C.m(I,null)))},d(M){M&&(f(e),f(i),f(d)),E.d(),C.d(),k=!1,it($)}}}function fd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function ud(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function dd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function hd(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function md(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function pd(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function _d(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function vd(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function gd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function bd(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function wd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function kd(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function yd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Ed(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function Id(r){let e,t=r[23].t("Upload")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Upload")+"")&&j(l,t)},d(s){s&&f(e)}}}function Dd(r){let e,t=r[23].t("Reset")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Reset")+"")&&j(l,t)},d(s){s&&f(e)}}}function $d(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Td(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function Vd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Ad(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function Cd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Sd(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function Nd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Ld(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function Md(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Od(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function Bd(r){let e,t=r[23].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Ud(r){let e,t=r[23].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&8388608&&t!==(t=s[23].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function Pd(r){let e,t,l,s,n,o,a=r[23].t("UI")+"",i,d,p,b,_,g=r[23].t("Landing Page Mode")+"",w,I,k,$,B,y,E,D=r[23].t("Chat Bubble UI")+"",T,C,M,S,H,q,X,N,L=r[23].t("Widescreen Mode")+"",Y,Z,F,R,x,z,Q,J=r[23].t("Chat direction")+"",ee,ce,fe,he,ge,ke,Ne=r[23].t("Chat")+"",Ae,Ie,me,pe,se,_e=r[23].t("Title Auto-Generation")+"",Ce,De,ve,ze,Oe,Ke,Pe,Qe=r[23].t("Chat Tags Auto-Generation")+"",le,Te,be,Ye,dt,He,Le,Fe=r[23].t("Auto-Copy Response to Clipboard")+"",ue,Me,Ze,ct,st,G,de,we=r[23].t("Rich Text Input for Chat")+"",$e,Be,Je,et,ut,kt,yt,bt=r[23].t("Paste Large Text as File")+"",rt,Se,je,tt,wt,Tt,Ut,gl=r[23].t("Chat Background Image")+"",Vl,ol,St,Al,ul,Nt,Pt,bl=r[23].t("Allow User Location")+"",Cl,Ul,Lt,wl,kl,Ht,xt,yl=r[23].t("Haptic Feedback")+"",dl,El,Mt,Pl,Il,jt,il,es=r[23].t("Fluidly stream large external response chunks")+"",ps,cr,hl,fr,ts,Dl,Hl,ls=r[23].t("Scroll to bottom when switching between branches")+"",_s,ur,ml,dr,xl,ss=r[23].t("Voice")+"",vs,hr,rs,$l,jl,ns=r[23].t("Allow Voice Interruption in Call")+"",gs,mr,pl,pr,as,Tl,zl,os=r[23].t("Display Emoji in Call")+"",bs,_r,_l,vr,Rl,Sl,is=r[23].t("Save")+"",ws,gr,xr;function jr(ie,Ee){return ie[14]===""?td:ed}let ks=jr(r),zt=ks(r);function zr(ie,Ee){return ie[15]===!0?sd:ld}let ys=zr(r),Rt=ys(r),Et=!r[22].chatBubble&&lo(r);function Rr(ie,Ee){return ie[7]===!0?od:ad}let Es=Rr(r),Wt=Es(r);function Wr(ie,Ee){return ie[16]==="LTR"?cd:id}let Is=Wr(r),Ft=Is(r),It=r[24].role==="admin"&&so(r);function Fr(ie,Ee){return ie[4]===!0?pd:md}let Ds=Fr(r),Zt=Ds(r);function Zr(ie,Ee){return ie[5]===!0?vd:_d}let $s=Zr(r),Yt=$s(r);function Yr(ie,Ee){return ie[6]===!0?bd:gd}let Ts=Yr(r),Jt=Ts(r);function Jr(ie,Ee){return ie[12]===!0?kd:wd}let Vs=Jr(r),Kt=Vs(r);function Kr(ie,Ee){return ie[13]===!0?Ed:yd}let As=Kr(r),qt=As(r);function qr(ie,Ee){return ie[1]!==null?Dd:Id}let Cs=qr(r),Gt=Cs(r);function Gr(ie,Ee){return ie[10]===!0?Td:$d}let Ss=Gr(r),Xt=Ss(r);function Xr(ie,Ee){return ie[21]===!0?Ad:Vd}let Ns=Xr(r),Qt=Ns(r);function Qr(ie,Ee){return ie[8]===!0?Sd:Cd}let Ls=Qr(r),el=Ls(r);function en(ie,Ee){return ie[9]===!0?Ld:Nd}let Ms=en(r),tl=Ms(r);function tn(ie,Ee){return ie[20]===!0?Od:Md}let Os=tn(r),ll=Os(r);function ln(ie,Ee){return ie[19]===!0?Ud:Bd}let Bs=ln(r),sl=Bs(r);return{c(){e=h("form"),t=h("input"),l=V(),s=h("div"),n=h("div"),o=h("div"),i=U(a),d=V(),p=h("div"),b=h("div"),_=h("div"),w=U(g),I=V(),k=h("button"),zt.c(),$=V(),B=h("div"),y=h("div"),E=h("div"),T=U(D),C=V(),M=h("button"),Rt.c(),S=V(),Et&&Et.c(),H=V(),q=h("div"),X=h("div"),N=h("div"),Y=U(L),Z=V(),F=h("button"),Wt.c(),R=V(),x=h("div"),z=h("div"),Q=h("div"),ee=U(J),ce=V(),fe=h("button"),Ft.c(),he=V(),It&&It.c(),ge=V(),ke=h("div"),Ae=U(Ne),Ie=V(),me=h("div"),pe=h("div"),se=h("div"),Ce=U(_e),De=V(),ve=h("button"),Zt.c(),ze=V(),Oe=h("div"),Ke=h("div"),Pe=h("div"),le=U(Qe),Te=V(),be=h("button"),Yt.c(),Ye=V(),dt=h("div"),He=h("div"),Le=h("div"),ue=U(Fe),Me=V(),Ze=h("button"),Jt.c(),ct=V(),st=h("div"),G=h("div"),de=h("div"),$e=U(we),Be=V(),Je=h("button"),Kt.c(),et=V(),ut=h("div"),kt=h("div"),yt=h("div"),rt=U(bt),Se=V(),je=h("button"),qt.c(),tt=V(),wt=h("div"),Tt=h("div"),Ut=h("div"),Vl=U(gl),ol=V(),St=h("button"),Gt.c(),Al=V(),ul=h("div"),Nt=h("div"),Pt=h("div"),Cl=U(bl),Ul=V(),Lt=h("button"),Xt.c(),wl=V(),kl=h("div"),Ht=h("div"),xt=h("div"),dl=U(yl),El=V(),Mt=h("button"),Qt.c(),Pl=V(),Il=h("div"),jt=h("div"),il=h("div"),ps=U(es),cr=V(),hl=h("button"),el.c(),fr=V(),ts=h("div"),Dl=h("div"),Hl=h("div"),_s=U(ls),ur=V(),ml=h("button"),tl.c(),dr=V(),xl=h("div"),vs=U(ss),hr=V(),rs=h("div"),$l=h("div"),jl=h("div"),gs=U(ns),mr=V(),pl=h("button"),ll.c(),pr=V(),as=h("div"),Tl=h("div"),zl=h("div"),bs=U(os),_r=V(),_l=h("button"),sl.c(),vr=V(),Rl=h("div"),Sl=h("button"),ws=U(is),this.h()},l(ie){e=m(ie,"FORM",{class:!0});var Ee=v(e);t=m(Ee,"INPUT",{type:!0,accept:!0}),l=A(Ee),s=m(Ee,"DIV",{class:!0});var sn=v(s);n=m(sn,"DIV",{});var We=v(n);o=m(We,"DIV",{class:!0});var rn=v(o);i=P(rn,a),rn.forEach(f),d=A(We),p=m(We,"DIV",{});var nn=v(p);b=m(nn,"DIV",{class:!0});var Us=v(b);_=m(Us,"DIV",{class:!0});var an=v(_);w=P(an,g),an.forEach(f),I=A(Us),k=m(Us,"BUTTON",{class:!0,type:!0});var on=v(k);zt.l(on),on.forEach(f),Us.forEach(f),nn.forEach(f),$=A(We),B=m(We,"DIV",{});var cn=v(B);y=m(cn,"DIV",{class:!0});var Ps=v(y);E=m(Ps,"DIV",{class:!0});var fn=v(E);T=P(fn,D),fn.forEach(f),C=A(Ps),M=m(Ps,"BUTTON",{class:!0,type:!0});var un=v(M);Rt.l(un),un.forEach(f),Ps.forEach(f),cn.forEach(f),S=A(We),Et&&Et.l(We),H=A(We),q=m(We,"DIV",{});var dn=v(q);X=m(dn,"DIV",{class:!0});var Hs=v(X);N=m(Hs,"DIV",{class:!0});var hn=v(N);Y=P(hn,L),hn.forEach(f),Z=A(Hs),F=m(Hs,"BUTTON",{class:!0,type:!0});var mn=v(F);Wt.l(mn),mn.forEach(f),Hs.forEach(f),dn.forEach(f),R=A(We),x=m(We,"DIV",{});var pn=v(x);z=m(pn,"DIV",{class:!0});var xs=v(z);Q=m(xs,"DIV",{class:!0});var _n=v(Q);ee=P(_n,J),_n.forEach(f),ce=A(xs),fe=m(xs,"BUTTON",{class:!0,type:!0});var vn=v(fe);Ft.l(vn),vn.forEach(f),xs.forEach(f),pn.forEach(f),he=A(We),It&&It.l(We),ge=A(We),ke=m(We,"DIV",{class:!0});var gn=v(ke);Ae=P(gn,Ne),gn.forEach(f),Ie=A(We),me=m(We,"DIV",{});var bn=v(me);pe=m(bn,"DIV",{class:!0});var js=v(pe);se=m(js,"DIV",{class:!0});var wn=v(se);Ce=P(wn,_e),wn.forEach(f),De=A(js),ve=m(js,"BUTTON",{class:!0,type:!0});var kn=v(ve);Zt.l(kn),kn.forEach(f),js.forEach(f),bn.forEach(f),ze=A(We),Oe=m(We,"DIV",{});var yn=v(Oe);Ke=m(yn,"DIV",{class:!0});var zs=v(Ke);Pe=m(zs,"DIV",{class:!0});var En=v(Pe);le=P(En,Qe),En.forEach(f),Te=A(zs),be=m(zs,"BUTTON",{class:!0,type:!0});var In=v(be);Yt.l(In),In.forEach(f),zs.forEach(f),yn.forEach(f),Ye=A(We),dt=m(We,"DIV",{});var Dn=v(dt);He=m(Dn,"DIV",{class:!0});var Rs=v(He);Le=m(Rs,"DIV",{class:!0});var $n=v(Le);ue=P($n,Fe),$n.forEach(f),Me=A(Rs),Ze=m(Rs,"BUTTON",{class:!0,type:!0});var Tn=v(Ze);Jt.l(Tn),Tn.forEach(f),Rs.forEach(f),Dn.forEach(f),ct=A(We),st=m(We,"DIV",{});var Vn=v(st);G=m(Vn,"DIV",{class:!0});var Ws=v(G);de=m(Ws,"DIV",{class:!0});var An=v(de);$e=P(An,we),An.forEach(f),Be=A(Ws),Je=m(Ws,"BUTTON",{class:!0,type:!0});var Cn=v(Je);Kt.l(Cn),Cn.forEach(f),Ws.forEach(f),Vn.forEach(f),et=A(We),ut=m(We,"DIV",{});var Sn=v(ut);kt=m(Sn,"DIV",{class:!0});var Fs=v(kt);yt=m(Fs,"DIV",{class:!0});var Nn=v(yt);rt=P(Nn,bt),Nn.forEach(f),Se=A(Fs),je=m(Fs,"BUTTON",{class:!0,type:!0});var Ln=v(je);qt.l(Ln),Ln.forEach(f),Fs.forEach(f),Sn.forEach(f),tt=A(We),wt=m(We,"DIV",{});var Mn=v(wt);Tt=m(Mn,"DIV",{class:!0});var Zs=v(Tt);Ut=m(Zs,"DIV",{class:!0});var On=v(Ut);Vl=P(On,gl),On.forEach(f),ol=A(Zs),St=m(Zs,"BUTTON",{class:!0,type:!0});var Bn=v(St);Gt.l(Bn),Bn.forEach(f),Zs.forEach(f),Mn.forEach(f),Al=A(We),ul=m(We,"DIV",{});var Un=v(ul);Nt=m(Un,"DIV",{class:!0});var Ys=v(Nt);Pt=m(Ys,"DIV",{class:!0});var Pn=v(Pt);Cl=P(Pn,bl),Pn.forEach(f),Ul=A(Ys),Lt=m(Ys,"BUTTON",{class:!0,type:!0});var Hn=v(Lt);Xt.l(Hn),Hn.forEach(f),Ys.forEach(f),Un.forEach(f),wl=A(We),kl=m(We,"DIV",{});var xn=v(kl);Ht=m(xn,"DIV",{class:!0});var Js=v(Ht);xt=m(Js,"DIV",{class:!0});var jn=v(xt);dl=P(jn,yl),jn.forEach(f),El=A(Js),Mt=m(Js,"BUTTON",{class:!0,type:!0});var zn=v(Mt);Qt.l(zn),zn.forEach(f),Js.forEach(f),xn.forEach(f),Pl=A(We),Il=m(We,"DIV",{});var Rn=v(Il);jt=m(Rn,"DIV",{class:!0});var Ks=v(jt);il=m(Ks,"DIV",{class:!0});var Wn=v(il);ps=P(Wn,es),Wn.forEach(f),cr=A(Ks),hl=m(Ks,"BUTTON",{class:!0,type:!0});var Fn=v(hl);el.l(Fn),Fn.forEach(f),Ks.forEach(f),Rn.forEach(f),fr=A(We),ts=m(We,"DIV",{});var Zn=v(ts);Dl=m(Zn,"DIV",{class:!0});var qs=v(Dl);Hl=m(qs,"DIV",{class:!0});var Yn=v(Hl);_s=P(Yn,ls),Yn.forEach(f),ur=A(qs),ml=m(qs,"BUTTON",{class:!0,type:!0});var Jn=v(ml);tl.l(Jn),Jn.forEach(f),qs.forEach(f),Zn.forEach(f),dr=A(We),xl=m(We,"DIV",{class:!0});var Kn=v(xl);vs=P(Kn,ss),Kn.forEach(f),hr=A(We),rs=m(We,"DIV",{});var qn=v(rs);$l=m(qn,"DIV",{class:!0});var Gs=v($l);jl=m(Gs,"DIV",{class:!0});var Gn=v(jl);gs=P(Gn,ns),Gn.forEach(f),mr=A(Gs),pl=m(Gs,"BUTTON",{class:!0,type:!0});var Xn=v(pl);ll.l(Xn),Xn.forEach(f),Gs.forEach(f),qn.forEach(f),pr=A(We),as=m(We,"DIV",{});var Qn=v(as);Tl=m(Qn,"DIV",{class:!0});var Xs=v(Tl);zl=m(Xs,"DIV",{class:!0});var ea=v(zl);bs=P(ea,os),ea.forEach(f),_r=A(Xs),_l=m(Xs,"BUTTON",{class:!0,type:!0});var ta=v(_l);sl.l(ta),ta.forEach(f),Xs.forEach(f),Qn.forEach(f),We.forEach(f),sn.forEach(f),vr=A(Ee),Rl=m(Ee,"DIV",{class:!0});var la=v(Rl);Sl=m(la,"BUTTON",{class:!0,type:!0});var sa=v(Sl);ws=P(sa,is),sa.forEach(f),la.forEach(f),Ee.forEach(f),this.h()},h(){u(t,"type","file"),t.hidden=!0,u(t,"accept","image/*"),u(o,"class","mb-1.5 text-sm font-medium"),u(_,"class","self-center text-xs"),u(k,"class","p-1 px-3 text-xs flex rounded transition"),u(k,"type","button"),u(b,"class","py-0.5 flex w-full justify-between"),u(E,"class","self-center text-xs"),u(M,"class","p-1 px-3 text-xs flex rounded transition"),u(M,"type","button"),u(y,"class","py-0.5 flex w-full justify-between"),u(N,"class","self-center text-xs"),u(F,"class","p-1 px-3 text-xs flex rounded transition"),u(F,"type","button"),u(X,"class","py-0.5 flex w-full justify-between"),u(Q,"class","self-center text-xs"),u(fe,"class","p-1 px-3 text-xs flex rounded transition"),u(fe,"type","button"),u(z,"class","py-0.5 flex w-full justify-between"),u(ke,"class","my-1.5 text-sm font-medium"),u(se,"class","self-center text-xs"),u(ve,"class","p-1 px-3 text-xs flex rounded transition"),u(ve,"type","button"),u(pe,"class","py-0.5 flex w-full justify-between"),u(Pe,"class","self-center text-xs"),u(be,"class","p-1 px-3 text-xs flex rounded transition"),u(be,"type","button"),u(Ke,"class","py-0.5 flex w-full justify-between"),u(Le,"class","self-center text-xs"),u(Ze,"class","p-1 px-3 text-xs flex rounded transition"),u(Ze,"type","button"),u(He,"class","py-0.5 flex w-full justify-between"),u(de,"class","self-center text-xs"),u(Je,"class","p-1 px-3 text-xs flex rounded transition"),u(Je,"type","button"),u(G,"class","py-0.5 flex w-full justify-between"),u(yt,"class","self-center text-xs"),u(je,"class","p-1 px-3 text-xs flex rounded transition"),u(je,"type","button"),u(kt,"class","py-0.5 flex w-full justify-between"),u(Ut,"class","self-center text-xs"),u(St,"class","p-1 px-3 text-xs flex rounded transition"),u(St,"type","button"),u(Tt,"class","py-0.5 flex w-full justify-between"),u(Pt,"class","self-center text-xs"),u(Lt,"class","p-1 px-3 text-xs flex rounded transition"),u(Lt,"type","button"),u(Nt,"class","py-0.5 flex w-full justify-between"),u(xt,"class","self-center text-xs"),u(Mt,"class","p-1 px-3 text-xs flex rounded transition"),u(Mt,"type","button"),u(Ht,"class","py-0.5 flex w-full justify-between"),u(il,"class","self-center text-xs"),u(hl,"class","p-1 px-3 text-xs flex rounded transition"),u(hl,"type","button"),u(jt,"class","py-0.5 flex w-full justify-between"),u(Hl,"class","self-center text-xs"),u(ml,"class","p-1 px-3 text-xs flex rounded transition"),u(ml,"type","button"),u(Dl,"class","py-0.5 flex w-full justify-between"),u(xl,"class","my-1.5 text-sm font-medium"),u(jl,"class","self-center text-xs"),u(pl,"class","p-1 px-3 text-xs flex rounded transition"),u(pl,"type","button"),u($l,"class","py-0.5 flex w-full justify-between"),u(zl,"class","self-center text-xs"),u(_l,"class","p-1 px-3 text-xs flex rounded transition"),u(_l,"type","button"),u(Tl,"class","py-0.5 flex w-full justify-between"),u(s,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(Sl,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(Sl,"type","submit"),u(Rl,"class","flex justify-end text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ie,Ee){O(ie,e,Ee),c(e,t),r[46](t),c(e,l),c(e,s),c(s,n),c(n,o),c(o,i),c(n,d),c(n,p),c(p,b),c(b,_),c(_,w),c(b,I),c(b,k),zt.m(k,null),c(n,$),c(n,B),c(B,y),c(y,E),c(E,T),c(y,C),c(y,M),Rt.m(M,null),c(n,S),Et&&Et.m(n,null),c(n,H),c(n,q),c(q,X),c(X,N),c(N,Y),c(X,Z),c(X,F),Wt.m(F,null),c(n,R),c(n,x),c(x,z),c(z,Q),c(Q,ee),c(z,ce),c(z,fe),Ft.m(fe,null),c(n,he),It&&It.m(n,null),c(n,ge),c(n,ke),c(ke,Ae),c(n,Ie),c(n,me),c(me,pe),c(pe,se),c(se,Ce),c(pe,De),c(pe,ve),Zt.m(ve,null),c(n,ze),c(n,Oe),c(Oe,Ke),c(Ke,Pe),c(Pe,le),c(Ke,Te),c(Ke,be),Yt.m(be,null),c(n,Ye),c(n,dt),c(dt,He),c(He,Le),c(Le,ue),c(He,Me),c(He,Ze),Jt.m(Ze,null),c(n,ct),c(n,st),c(st,G),c(G,de),c(de,$e),c(G,Be),c(G,Je),Kt.m(Je,null),c(n,et),c(n,ut),c(ut,kt),c(kt,yt),c(yt,rt),c(kt,Se),c(kt,je),qt.m(je,null),c(n,tt),c(n,wt),c(wt,Tt),c(Tt,Ut),c(Ut,Vl),c(Tt,ol),c(Tt,St),Gt.m(St,null),c(n,Al),c(n,ul),c(ul,Nt),c(Nt,Pt),c(Pt,Cl),c(Nt,Ul),c(Nt,Lt),Xt.m(Lt,null),c(n,wl),c(n,kl),c(kl,Ht),c(Ht,xt),c(xt,dl),c(Ht,El),c(Ht,Mt),Qt.m(Mt,null),c(n,Pl),c(n,Il),c(Il,jt),c(jt,il),c(il,ps),c(jt,cr),c(jt,hl),el.m(hl,null),c(n,fr),c(n,ts),c(ts,Dl),c(Dl,Hl),c(Hl,_s),c(Dl,ur),c(Dl,ml),tl.m(ml,null),c(n,dr),c(n,xl),c(xl,vs),c(n,hr),c(n,rs),c(rs,$l),c($l,jl),c(jl,gs),c($l,mr),c($l,pl),ll.m(pl,null),c(n,pr),c(n,as),c(as,Tl),c(Tl,zl),c(zl,bs),c(Tl,_r),c(Tl,_l),sl.m(_l,null),c(e,vr),c(e,Rl),c(Rl,Sl),c(Sl,ws),gr||(xr=[te(t,"change",r[47]),te(t,"change",r[48]),te(k,"click",r[49]),te(M,"click",r[50]),te(F,"click",r[52]),te(fe,"click",r[44]),te(ve,"click",r[55]),te(be,"click",r[56]),te(Ze,"click",r[57]),te(Je,"click",r[58]),te(je,"click",r[59]),te(St,"click",r[60]),te(Lt,"click",r[61]),te(Mt,"click",r[62]),te(hl,"click",r[63]),te(ml,"click",r[64]),te(pl,"click",r[65]),te(_l,"click",r[66]),te(e,"submit",Gl(r[67]))],gr=!0)},p(ie,Ee){Ee[0]&8388608&&a!==(a=ie[23].t("UI")+"")&&j(i,a),Ee[0]&8388608&&g!==(g=ie[23].t("Landing Page Mode")+"")&&j(w,g),ks===(ks=jr(ie))&&zt?zt.p(ie,Ee):(zt.d(1),zt=ks(ie),zt&&(zt.c(),zt.m(k,null))),Ee[0]&8388608&&D!==(D=ie[23].t("Chat Bubble UI")+"")&&j(T,D),ys===(ys=zr(ie))&&Rt?Rt.p(ie,Ee):(Rt.d(1),Rt=ys(ie),Rt&&(Rt.c(),Rt.m(M,null))),ie[22].chatBubble?Et&&(Et.d(1),Et=null):Et?Et.p(ie,Ee):(Et=lo(ie),Et.c(),Et.m(n,H)),Ee[0]&8388608&&L!==(L=ie[23].t("Widescreen Mode")+"")&&j(Y,L),Es===(Es=Rr(ie))&&Wt?Wt.p(ie,Ee):(Wt.d(1),Wt=Es(ie),Wt&&(Wt.c(),Wt.m(F,null))),Ee[0]&8388608&&J!==(J=ie[23].t("Chat direction")+"")&&j(ee,J),Is===(Is=Wr(ie))&&Ft?Ft.p(ie,Ee):(Ft.d(1),Ft=Is(ie),Ft&&(Ft.c(),Ft.m(fe,null))),ie[24].role==="admin"?It?It.p(ie,Ee):(It=so(ie),It.c(),It.m(n,ge)):It&&(It.d(1),It=null),Ee[0]&8388608&&Ne!==(Ne=ie[23].t("Chat")+"")&&j(Ae,Ne),Ee[0]&8388608&&_e!==(_e=ie[23].t("Title Auto-Generation")+"")&&j(Ce,_e),Ds===(Ds=Fr(ie))&&Zt?Zt.p(ie,Ee):(Zt.d(1),Zt=Ds(ie),Zt&&(Zt.c(),Zt.m(ve,null))),Ee[0]&8388608&&Qe!==(Qe=ie[23].t("Chat Tags Auto-Generation")+"")&&j(le,Qe),$s===($s=Zr(ie))&&Yt?Yt.p(ie,Ee):(Yt.d(1),Yt=$s(ie),Yt&&(Yt.c(),Yt.m(be,null))),Ee[0]&8388608&&Fe!==(Fe=ie[23].t("Auto-Copy Response to Clipboard")+"")&&j(ue,Fe),Ts===(Ts=Yr(ie))&&Jt?Jt.p(ie,Ee):(Jt.d(1),Jt=Ts(ie),Jt&&(Jt.c(),Jt.m(Ze,null))),Ee[0]&8388608&&we!==(we=ie[23].t("Rich Text Input for Chat")+"")&&j($e,we),Vs===(Vs=Jr(ie))&&Kt?Kt.p(ie,Ee):(Kt.d(1),Kt=Vs(ie),Kt&&(Kt.c(),Kt.m(Je,null))),Ee[0]&8388608&&bt!==(bt=ie[23].t("Paste Large Text as File")+"")&&j(rt,bt),As===(As=Kr(ie))&&qt?qt.p(ie,Ee):(qt.d(1),qt=As(ie),qt&&(qt.c(),qt.m(je,null))),Ee[0]&8388608&&gl!==(gl=ie[23].t("Chat Background Image")+"")&&j(Vl,gl),Cs===(Cs=qr(ie))&&Gt?Gt.p(ie,Ee):(Gt.d(1),Gt=Cs(ie),Gt&&(Gt.c(),Gt.m(St,null))),Ee[0]&8388608&&bl!==(bl=ie[23].t("Allow User Location")+"")&&j(Cl,bl),Ss===(Ss=Gr(ie))&&Xt?Xt.p(ie,Ee):(Xt.d(1),Xt=Ss(ie),Xt&&(Xt.c(),Xt.m(Lt,null))),Ee[0]&8388608&&yl!==(yl=ie[23].t("Haptic Feedback")+"")&&j(dl,yl),Ns===(Ns=Xr(ie))&&Qt?Qt.p(ie,Ee):(Qt.d(1),Qt=Ns(ie),Qt&&(Qt.c(),Qt.m(Mt,null))),Ee[0]&8388608&&es!==(es=ie[23].t("Fluidly stream large external response chunks")+"")&&j(ps,es),Ls===(Ls=Qr(ie))&&el?el.p(ie,Ee):(el.d(1),el=Ls(ie),el&&(el.c(),el.m(hl,null))),Ee[0]&8388608&&ls!==(ls=ie[23].t("Scroll to bottom when switching between branches")+"")&&j(_s,ls),Ms===(Ms=en(ie))&&tl?tl.p(ie,Ee):(tl.d(1),tl=Ms(ie),tl&&(tl.c(),tl.m(ml,null))),Ee[0]&8388608&&ss!==(ss=ie[23].t("Voice")+"")&&j(vs,ss),Ee[0]&8388608&&ns!==(ns=ie[23].t("Allow Voice Interruption in Call")+"")&&j(gs,ns),Os===(Os=tn(ie))&&ll?ll.p(ie,Ee):(ll.d(1),ll=Os(ie),ll&&(ll.c(),ll.m(pl,null))),Ee[0]&8388608&&os!==(os=ie[23].t("Display Emoji in Call")+"")&&j(bs,os),Bs===(Bs=ln(ie))&&sl?sl.p(ie,Ee):(sl.d(1),sl=Bs(ie),sl&&(sl.c(),sl.m(_l,null))),Ee[0]&8388608&&is!==(is=ie[23].t("Save")+"")&&j(ws,is)},i:ye,o:ye,d(ie){ie&&f(e),r[46](null),zt.d(),Rt.d(),Et&&Et.d(),Wt.d(),Ft.d(),It&&It.d(),Zt.d(),Yt.d(),Jt.d(),Kt.d(),qt.d(),Gt.d(),Xt.d(),Qt.d(),el.d(),tl.d(),ll.d(),sl.d(),gr=!1,it(xr)}}}function Hd(r,e,t){let l,s,n,o;Ve(r,al,G=>t(22,l=G)),Ve(r,ms,G=>t(69,s=G)),Ve(r,Bl,G=>t(24,o=G));const a=Dt(),i=gt("i18n");Ve(r,i,G=>t(23,n=G));let{saveSettings:d}=e,p=null,b=null,_,g=!0,w=!0,I=!1,k=!1,$=!1,B=!0,y=!1,E="",D=!1,T=!0,C=!1,M="",S=!0,H="LTR",q=!0,X=!0,N=!1,L=!1,Y=!1;const Z=async()=>{t(8,$=!$),d({splitLargeChunks:$})},F=async()=>{t(9,B=!B),d({scrollOnBranchChange:B})},R=async()=>{t(7,k=!k),d({widescreenMode:k})},x=async()=>{t(15,S=!S),d({chatBubble:S})},z=async()=>{t(14,M=M===""?"chat":""),d({landingPageMode:M})},Q=async()=>{t(17,q=!q),d({showUpdateToast:q})},J=async()=>{t(18,X=!X),d({showChangelog:X})},ee=async()=>{t(11,D=!D),d({showUsername:D})},ce=async()=>{t(19,N=!N),d({showEmojiInCall:N})},fe=async()=>{t(20,L=!L),d({voiceInterruption:L})},he=async()=>{t(21,Y=!Y),d({hapticFeedback:Y})},ge=async()=>{if(t(10,y=!y),y){const G=await ki().catch(de=>(Ue.error(de.message),null));G?(await $i(localStorage.token,{location:G}),Ue.success(n.t("User location successfully retrieved."))):t(10,y=!1)}d({userLocation:y})},ke=async()=>{t(4,g=!g),d({title:{...l.title,auto:g}})},Ne=async()=>{t(5,w=!w),d({autoTags:w})},Ae=async()=>{t(12,T=!T),d({richTextInput:T})},Ie=async()=>{t(13,C=!C),d({largeTextAsFile:C})},me=async()=>{const G=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(G),G==="granted"?(t(6,I=!I),d({responseAutoCopy:I})):Ue.error(n.t("Clipboard write permission denied. Please check your browser settings to grant the necessary access."))},pe=async()=>{t(16,H=H==="LTR"?"RTL":"LTR"),d({chatDirection:H})},se=async()=>{d({models:[E]})};$t(async()=>{var G,de;t(4,g=((G=l==null?void 0:l.title)==null?void 0:G.auto)??!0),t(5,w=l.autoTags??!0),t(6,I=l.responseAutoCopy??!1),t(11,D=l.showUsername??!1),t(17,q=l.showUpdateToast??!0),t(18,X=l.showChangelog??!0),t(19,N=l.showEmojiInCall??!1),t(20,L=l.voiceInterruption??!1),t(12,T=l.richTextInput??!0),t(13,C=l.largeTextAsFile??!1),t(14,M=l.landingPageMode??""),t(15,S=l.chatBubble??!0),t(7,k=l.widescreenMode??!1),t(8,$=l.splitLargeChunks??!1),t(9,B=l.scrollOnBranchChange??!0),t(16,H=l.chatDirection??"LTR"),t(10,y=l.userLocation??!1),t(21,Y=l.hapticFeedback??!1),E=((de=l==null?void 0:l.models)==null?void 0:de.at(0))??"",s!=null&&s.default_models&&(E=s.default_models.split(",")[0]),t(1,p=l.backgroundImageUrl??null)});function _e(G){lt[G?"unshift":"push"](()=>{_=G,t(3,_)})}function Ce(){b=this.files,t(2,b)}const De=()=>{let G=new FileReader;G.onload=de=>{let we=`${de.target.result}`;t(1,p=we),d({backgroundImageUrl:p})},b&&b.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(b[0].type)?G.readAsDataURL(b[0]):(console.log(`Unsupported File Type '${b[0].type}'.`),t(2,b=null))},ve=()=>{z()},ze=()=>{x()},Oe=()=>{ee()},Ke=()=>{R()},Pe=()=>{Q()},Qe=()=>{J()},le=()=>{ke()},Te=()=>{Ne()},be=()=>{me()},Ye=()=>{Ae()},dt=()=>{Ie()},He=()=>{p!==null?(t(1,p=null),d({backgroundImageUrl:p})):_.click()},Le=()=>{ge()},Fe=()=>{he()},ue=()=>{Z()},Me=()=>{F()},Ze=()=>{fe()},ct=()=>{ce()},st=()=>{se(),a("save")};return r.$$set=G=>{"saveSettings"in G&&t(0,d=G.saveSettings)},[d,p,b,_,g,w,I,k,$,B,y,D,T,C,M,S,H,q,X,N,L,Y,l,n,o,a,i,Z,F,R,x,z,Q,J,ee,ce,fe,he,ge,ke,Ne,Ae,Ie,me,pe,se,_e,Ce,De,ve,ze,Oe,Ke,Pe,Qe,le,Te,be,Ye,dt,He,Le,Fe,ue,Me,Ze,ct,st]}class xd extends at{constructor(e){super(),ot(this,e,Hd,Pd,nt,{saveSettings:0},null,[-1,-1,-1])}}function ro(r,e,t){const l=r.slice();return l[9]=e[t],l}function no(r,e,t){const l=r.slice();return l[27]=e[t],l}function ao(r,e,t){const l=r.slice();return l[32]=e[t],l}function oo(r){let e,t,l=r[8].t("Speech-to-Text Engine")+"",s,n,o,a,i,d=r[8].t("Default")+"",p,b,_=r[8].t("Web API")+"",g,w,I;return{c(){e=h("div"),t=h("div"),s=U(l),n=V(),o=h("div"),a=h("select"),i=h("option"),p=U(d),b=h("option"),g=U(_),this.h()},l(k){e=m(k,"DIV",{class:!0});var $=v(e);t=m($,"DIV",{class:!0});var B=v(t);s=P(B,l),B.forEach(f),n=A($),o=m($,"DIV",{class:!0});var y=v(o);a=m(y,"SELECT",{class:!0,placeholder:!0});var E=v(a);i=m(E,"OPTION",{});var D=v(i);p=P(D,d),D.forEach(f),b=m(E,"OPTION",{});var T=v(b);g=P(T,_),T.forEach(f),E.forEach(f),y.forEach(f),$.forEach(f),this.h()},h(){u(t,"class","self-center text-xs font-medium"),i.__value="",Re(i,i.__value),b.__value="web",Re(b,b.__value),u(a,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),u(a,"placeholder","Select an engine"),r[4]===void 0&&Ml(()=>r[15].call(a)),u(o,"class","flex items-center relative"),u(e,"class","py-0.5 flex w-full justify-between")},m(k,$){O(k,e,$),c(e,t),c(t,s),c(e,n),c(e,o),c(o,a),c(a,i),c(i,p),c(a,b),c(b,g),cl(a,r[4],!0),w||(I=te(a,"change",r[15]),w=!0)},p(k,$){$[0]&256&&l!==(l=k[8].t("Speech-to-Text Engine")+"")&&j(s,l),$[0]&256&&d!==(d=k[8].t("Default")+"")&&j(p,d),$[0]&256&&_!==(_=k[8].t("Web API")+"")&&j(g,_),$[0]&16&&cl(a,k[4])},d(k){k&&f(e),w=!1,I()}}}function jd(r){let e,t=r[8].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&256&&t!==(t=s[8].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function zd(r){let e,t=r[8].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&256&&t!==(t=s[8].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function Rd(r){let e,t=r[8].t("Off")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&256&&t!==(t=s[8].t("Off")+"")&&j(l,t)},d(s){s&&f(e)}}}function Wd(r){let e,t=r[8].t("On")+"",l;return{c(){e=h("span"),l=U(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","ml-2 self-center")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&256&&t!==(t=s[8].t("On")+"")&&j(l,t)},d(s){s&&f(e)}}}function io(r){let e,t=r[32]+"",l,s,n;return{c(){e=h("option"),l=U(t),s=U("x"),this.h()},l(o){e=m(o,"OPTION",{});var a=v(e);l=P(a,t),s=P(a,"x"),a.forEach(f),this.h()},h(){e.__value=r[32],Re(e,e.__value),e.selected=n=r[6]===r[32]},m(o,a){O(o,e,a),c(e,l),c(e,s)},p(o,a){a[0]&4160&&n!==(n=o[6]===o[32])&&(e.selected=n)},d(o){o&&f(e)}}}function Fd(r){let e,t,l=r[8].t("Set Voice")+"",s,n,o,a,i,d,p,b,_,g=Xe(r[5]),w=[];for(let I=0;I<g.length;I+=1)w[I]=co(ro(r,g,I));return{c(){e=h("div"),t=h("div"),s=U(l),n=V(),o=h("div"),a=h("div"),i=h("input"),d=V(),p=h("datalist");for(let I=0;I<w.length;I+=1)w[I].c();this.h()},l(I){e=m(I,"DIV",{});var k=v(e);t=m(k,"DIV",{class:!0});var $=v(t);s=P($,l),$.forEach(f),n=A(k),o=m(k,"DIV",{class:!0});var B=v(o);a=m(B,"DIV",{class:!0});var y=v(a);i=m(y,"INPUT",{list:!0,class:!0,placeholder:!0}),d=A(y),p=m(y,"DATALIST",{id:!0});var E=v(p);for(let D=0;D<w.length;D+=1)w[D].l(E);E.forEach(f),y.forEach(f),B.forEach(f),k.forEach(f),this.h()},h(){u(t,"class","mb-2.5 text-sm font-medium"),u(i,"list","voice-list"),u(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),u(i,"placeholder","Select a voice"),u(p,"id","voice-list"),u(a,"class","flex-1"),u(o,"class","flex w-full")},m(I,k){O(I,e,k),c(e,t),c(t,s),c(e,n),c(e,o),c(o,a),c(a,i),Re(i,r[9]),c(a,d),c(a,p);for(let $=0;$<w.length;$+=1)w[$]&&w[$].m(p,null);b||(_=te(i,"input",r[22]),b=!0)},p(I,k){if(k[0]&256&&l!==(l=I[8].t("Set Voice")+"")&&j(s,l),k[0]&552&&i.value!==I[9]&&Re(i,I[9]),k[0]&32){g=Xe(I[5]);let $;for($=0;$<g.length;$+=1){const B=ro(I,g,$);w[$]?w[$].p(B,k):(w[$]=co(B),w[$].c(),w[$].m(p,null))}for(;$<w.length;$+=1)w[$].d(1);w.length=g.length}},i:ye,o:ye,d(I){I&&f(e),Ct(w,I),b=!1,_()}}}function Zd(r){let e,t,l=r[8].t("Set Voice")+"",s,n,o,a,i,d,p=r[8].t("Default")+"",b,_,g,w,I,k=r[8].t("Allow non-local voices")+"",$,B,y,E,D,T,C,M,S=Xe(r[5].filter(r[19])),H=[];for(let N=0;N<S.length;N+=1)H[N]=fo(no(r,S,N));function q(N){r[21](N)}let X={};return r[3]!==void 0&&(X.state=r[3]),E=new ei({props:X}),lt.push(()=>pt(E,"state",q)),{c(){e=h("div"),t=h("div"),s=U(l),n=V(),o=h("div"),a=h("div"),i=h("select"),d=h("option"),b=U(p);for(let N=0;N<H.length;N+=1)H[N].c();g=V(),w=h("div"),I=h("div"),$=U(k),B=V(),y=h("div"),re(E.$$.fragment),this.h()},l(N){e=m(N,"DIV",{});var L=v(e);t=m(L,"DIV",{class:!0});var Y=v(t);s=P(Y,l),Y.forEach(f),n=A(L),o=m(L,"DIV",{class:!0});var Z=v(o);a=m(Z,"DIV",{class:!0});var F=v(a);i=m(F,"SELECT",{class:!0});var R=v(i);d=m(R,"OPTION",{});var x=v(d);b=P(x,p),x.forEach(f);for(let ee=0;ee<H.length;ee+=1)H[ee].l(R);R.forEach(f),F.forEach(f),Z.forEach(f),g=A(L),w=m(L,"DIV",{class:!0});var z=v(w);I=m(z,"DIV",{class:!0});var Q=v(I);$=P(Q,k),Q.forEach(f),B=A(z),y=m(z,"DIV",{class:!0});var J=v(y);ne(E.$$.fragment,J),J.forEach(f),z.forEach(f),L.forEach(f),this.h()},h(){u(t,"class","mb-2.5 text-sm font-medium"),d.__value="",Re(d,d.__value),d.selected=_=r[9]!=="",u(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r[9]===void 0&&Ml(()=>r[20].call(i)),u(a,"class","flex-1"),u(o,"class","flex w-full"),u(I,"class","text-xs"),u(y,"class","mt-1"),u(w,"class","flex items-center justify-between my-1.5")},m(N,L){O(N,e,L),c(e,t),c(t,s),c(e,n),c(e,o),c(o,a),c(a,i),c(i,d),c(d,b);for(let Y=0;Y<H.length;Y+=1)H[Y]&&H[Y].m(i,null);cl(i,r[9],!0),c(e,g),c(e,w),c(w,I),c(I,$),c(w,B),c(w,y),ae(E,y,null),T=!0,C||(M=te(i,"change",r[20]),C=!0)},p(N,L){if((!T||L[0]&256)&&l!==(l=N[8].t("Set Voice")+"")&&j(s,l),(!T||L[0]&256)&&p!==(p=N[8].t("Default")+"")&&j(b,p),(!T||L[0]&552&&_!==(_=N[9]!==""))&&(d.selected=_),L[0]&552){S=Xe(N[5].filter(N[19]));let Z;for(Z=0;Z<S.length;Z+=1){const F=no(N,S,Z);H[Z]?H[Z].p(F,L):(H[Z]=fo(F),H[Z].c(),H[Z].m(i,null))}for(;Z<H.length;Z+=1)H[Z].d(1);H.length=S.length}L[0]&552&&cl(i,N[9]),(!T||L[0]&256)&&k!==(k=N[8].t("Allow non-local voices")+"")&&j($,k);const Y={};!D&&L[0]&8&&(D=!0,Y.state=N[3],mt(()=>D=!1)),E.$set(Y)},i(N){T||(W(E.$$.fragment,N),T=!0)},o(N){K(E.$$.fragment,N),T=!1},d(N){N&&f(e),Ct(H,N),oe(E),C=!1,M()}}}function co(r){let e,t=r[9].name+"",l,s;return{c(){e=h("option"),l=U(t),this.h()},l(n){e=m(n,"OPTION",{});var o=v(e);l=P(o,t),o.forEach(f),this.h()},h(){e.__value=s=r[9].id,Re(e,e.__value)},m(n,o){O(n,e,o),c(e,l)},p(n,o){o[0]&32&&t!==(t=n[9].name+"")&&j(l,t),o[0]&32&&s!==(s=n[9].id)&&(e.__value=s,Re(e,e.__value))},d(n){n&&f(e)}}}function fo(r){let e,t=r[27].name+"",l,s,n;return{c(){e=h("option"),l=U(t),this.h()},l(o){e=m(o,"OPTION",{class:!0});var a=v(e);l=P(a,t),a.forEach(f),this.h()},h(){e.__value=s=r[27].name,Re(e,e.__value),u(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=n=r[9]===r[27].name},m(o,a){O(o,e,a),c(e,l)},p(o,a){a[0]&40&&t!==(t=o[27].name+"")&&j(l,t),a[0]&40&&s!==(s=o[27].name)&&(e.__value=s,Re(e,e.__value)),a[0]&552&&n!==(n=o[9]===o[27].name)&&(e.selected=n)},d(o){o&&f(e)}}}function Yd(r){let e,t,l,s,n=r[8].t("STT Settings")+"",o,a,i,d,p,b=r[8].t("Instant Auto-Send After Voice Transcription")+"",_,g,w,I,k,$,B=r[8].t("TTS Settings")+"",y,E,D,T,C=r[8].t("Auto-playback response")+"",M,S,H,q,X,N,L=r[8].t("Speech Playback Speed")+"",Y,Z,F,R,x,z,Q,J,ee,ce,fe,he,ge=r[8].t("Save")+"",ke,Ne,Ae,Ie,me=r[7].audio.stt.engine!=="web"&&oo(r);function pe(le,Te){return le[1]===!0?zd:jd}let se=pe(r),_e=se(r);function Ce(le,Te){return le[2]===!0?Wd:Rd}let De=Ce(r),ve=De(r),ze=Xe(r[12]),Oe=[];for(let le=0;le<ze.length;le+=1)Oe[le]=io(ao(r,ze,le));const Ke=[Zd,Fd],Pe=[];function Qe(le,Te){return le[7].audio.tts.engine===""?0:le[7].audio.tts.engine!==""?1:-1}return~(J=Qe(r))&&(ee=Pe[J]=Ke[J](r)),{c(){e=h("form"),t=h("div"),l=h("div"),s=h("div"),o=U(n),a=V(),me&&me.c(),i=V(),d=h("div"),p=h("div"),_=U(b),g=V(),w=h("button"),_e.c(),I=V(),k=h("div"),$=h("div"),y=U(B),E=V(),D=h("div"),T=h("div"),M=U(C),S=V(),H=h("button"),ve.c(),q=V(),X=h("div"),N=h("div"),Y=U(L),Z=V(),F=h("div"),R=h("select");for(let le=0;le<Oe.length;le+=1)Oe[le].c();x=V(),z=h("hr"),Q=V(),ee&&ee.c(),ce=V(),fe=h("div"),he=h("button"),ke=U(ge),this.h()},l(le){e=m(le,"FORM",{class:!0});var Te=v(e);t=m(Te,"DIV",{class:!0});var be=v(t);l=m(be,"DIV",{});var Ye=v(l);s=m(Ye,"DIV",{class:!0});var dt=v(s);o=P(dt,n),dt.forEach(f),a=A(Ye),me&&me.l(Ye),i=A(Ye),d=m(Ye,"DIV",{class:!0});var He=v(d);p=m(He,"DIV",{class:!0});var Le=v(p);_=P(Le,b),Le.forEach(f),g=A(He),w=m(He,"BUTTON",{class:!0,type:!0});var Fe=v(w);_e.l(Fe),Fe.forEach(f),He.forEach(f),Ye.forEach(f),I=A(be),k=m(be,"DIV",{});var ue=v(k);$=m(ue,"DIV",{class:!0});var Me=v($);y=P(Me,B),Me.forEach(f),E=A(ue),D=m(ue,"DIV",{class:!0});var Ze=v(D);T=m(Ze,"DIV",{class:!0});var ct=v(T);M=P(ct,C),ct.forEach(f),S=A(Ze),H=m(Ze,"BUTTON",{class:!0,type:!0});var st=v(H);ve.l(st),st.forEach(f),Ze.forEach(f),q=A(ue),X=m(ue,"DIV",{class:!0});var G=v(X);N=m(G,"DIV",{class:!0});var de=v(N);Y=P(de,L),de.forEach(f),Z=A(G),F=m(G,"DIV",{class:!0});var we=v(F);R=m(we,"SELECT",{class:!0});var $e=v(R);for(let et=0;et<Oe.length;et+=1)Oe[et].l($e);$e.forEach(f),we.forEach(f),G.forEach(f),ue.forEach(f),x=A(be),z=m(be,"HR",{class:!0}),Q=A(be),ee&&ee.l(be),be.forEach(f),ce=A(Te),fe=m(Te,"DIV",{class:!0});var Be=v(fe);he=m(Be,"BUTTON",{class:!0,type:!0});var Je=v(he);ke=P(Je,ge),Je.forEach(f),Be.forEach(f),Te.forEach(f),this.h()},h(){u(s,"class","mb-1 text-sm font-medium"),u(p,"class","self-center text-xs font-medium"),u(w,"class","p-1 px-3 text-xs flex rounded transition"),u(w,"type","button"),u(d,"class","py-0.5 flex w-full justify-between"),u($,"class","mb-1 text-sm font-medium"),u(T,"class","self-center text-xs font-medium"),u(H,"class","p-1 px-3 text-xs flex rounded transition"),u(H,"type","button"),u(D,"class","py-0.5 flex w-full justify-between"),u(N,"class","self-center text-xs font-medium"),u(R,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r[6]===void 0&&Ml(()=>r[18].call(R)),u(F,"class","flex items-center relative"),u(X,"class","py-0.5 flex w-full justify-between"),u(z,"class","dark:border-gray-850"),u(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(he,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(he,"type","submit"),u(fe,"class","flex justify-end text-sm font-medium"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(le,Te){O(le,e,Te),c(e,t),c(t,l),c(l,s),c(s,o),c(l,a),me&&me.m(l,null),c(l,i),c(l,d),c(d,p),c(p,_),c(d,g),c(d,w),_e.m(w,null),c(t,I),c(t,k),c(k,$),c($,y),c(k,E),c(k,D),c(D,T),c(T,M),c(D,S),c(D,H),ve.m(H,null),c(k,q),c(k,X),c(X,N),c(N,Y),c(X,Z),c(X,F),c(F,R);for(let be=0;be<Oe.length;be+=1)Oe[be]&&Oe[be].m(R,null);cl(R,r[6],!0),c(t,x),c(t,z),c(t,Q),~J&&Pe[J].m(t,null),c(e,ce),c(e,fe),c(fe,he),c(he,ke),Ne=!0,Ae||(Ie=[te(w,"click",r[16]),te(H,"click",r[17]),te(R,"change",r[18]),te(e,"submit",Gl(r[23]))],Ae=!0)},p(le,Te){if((!Ne||Te[0]&256)&&n!==(n=le[8].t("STT Settings")+"")&&j(o,n),le[7].audio.stt.engine!=="web"?me?me.p(le,Te):(me=oo(le),me.c(),me.m(l,i)):me&&(me.d(1),me=null),(!Ne||Te[0]&256)&&b!==(b=le[8].t("Instant Auto-Send After Voice Transcription")+"")&&j(_,b),se===(se=pe(le))&&_e?_e.p(le,Te):(_e.d(1),_e=se(le),_e&&(_e.c(),_e.m(w,null))),(!Ne||Te[0]&256)&&B!==(B=le[8].t("TTS Settings")+"")&&j(y,B),(!Ne||Te[0]&256)&&C!==(C=le[8].t("Auto-playback response")+"")&&j(M,C),De===(De=Ce(le))&&ve?ve.p(le,Te):(ve.d(1),ve=De(le),ve&&(ve.c(),ve.m(H,null))),(!Ne||Te[0]&256)&&L!==(L=le[8].t("Speech Playback Speed")+"")&&j(Y,L),Te[0]&4160){ze=Xe(le[12]);let Ye;for(Ye=0;Ye<ze.length;Ye+=1){const dt=ao(le,ze,Ye);Oe[Ye]?Oe[Ye].p(dt,Te):(Oe[Ye]=io(dt),Oe[Ye].c(),Oe[Ye].m(R,null))}for(;Ye<Oe.length;Ye+=1)Oe[Ye].d(1);Oe.length=ze.length}Te[0]&4160&&cl(R,le[6]);let be=J;J=Qe(le),J===be?~J&&Pe[J].p(le,Te):(ee&&(qe(),K(Pe[be],1,1,()=>{Pe[be]=null}),Ge()),~J?(ee=Pe[J],ee?ee.p(le,Te):(ee=Pe[J]=Ke[J](le),ee.c()),W(ee,1),ee.m(t,null)):ee=null),(!Ne||Te[0]&256)&&ge!==(ge=le[8].t("Save")+"")&&j(ke,ge)},i(le){Ne||(W(ee),Ne=!0)},o(le){K(ee),Ne=!1},d(le){le&&f(e),me&&me.d(),_e.d(),ve.d(),Ct(Oe,le),~J&&Pe[J].d(),Ae=!1,it(Ie)}}}function Jd(r,e,t){let l,s,n;Ve(r,al,N=>t(25,l=N)),Ve(r,ms,N=>t(7,s=N));const o=Dt(),a=gt("i18n");Ve(r,a,N=>t(8,n=N));let{saveSettings:i}=e,d=!1,p=!1,b=!1,_="",g=[],w="",I=1;const k=[2,1.75,1.5,1.25,1,.75,.5],$=async()=>{if(s.audio.tts.engine===""){const N=setInterval(async()=>{t(5,g=await speechSynthesis.getVoices()),g.length>0&&clearInterval(N)},100)}else{const N=await ic(localStorage.token).catch(L=>{Ue.error(L)});N&&(console.log(N),t(5,g=N.voices))}},B=async()=>{t(2,p=!p),i({responseAutoPlayback:p})},y=async()=>{t(1,d=!d),i({speechAutoSend:d})};$t(async()=>{var N,L,Y,Z,F,R,x,z,Q,J;t(6,I=((L=(N=l.audio)==null?void 0:N.tts)==null?void 0:L.playbackRate)??1),l.conversationMode,t(1,d=l.speechAutoSend??!1),t(2,p=l.responseAutoPlayback??!1),t(4,_=((Z=(Y=l==null?void 0:l.audio)==null?void 0:Y.stt)==null?void 0:Z.engine)??""),((R=(F=l==null?void 0:l.audio)==null?void 0:F.tts)==null?void 0:R.defaultVoice)===s.audio.tts.voice?t(9,w=((z=(x=l==null?void 0:l.audio)==null?void 0:x.tts)==null?void 0:z.voice)??s.audio.tts.voice??""):t(9,w=s.audio.tts.voice??""),t(3,b=((J=(Q=l.audio)==null?void 0:Q.tts)==null?void 0:J.nonLocalVoices)??!1),await $()});function E(){_=cs(this),t(4,_)}const D=()=>{y()},T=()=>{B()};function C(){I=cs(this),t(6,I),t(12,k)}const M=N=>b||N.localService===!0;function S(){w=cs(this),t(9,w),t(5,g),t(3,b)}function H(N){b=N,t(3,b)}function q(){w=this.value,t(9,w),t(5,g),t(3,b)}const X=async()=>{var N,L;i({audio:{stt:{engine:_!==""?_:void 0},tts:{playbackRate:I,voice:w!==""?w:void 0,defaultVoice:((L=(N=s==null?void 0:s.audio)==null?void 0:N.tts)==null?void 0:L.voice)??"",nonLocalVoices:s.audio.tts.engine===""?b:void 0}}}),o("save")};return r.$$set=N=>{"saveSettings"in N&&t(0,i=N.saveSettings)},[i,d,p,b,_,g,I,s,n,w,o,a,k,B,y,E,D,T,C,M,S,H,q,X]}class Kd extends at{constructor(e){super(),ot(this,e,Jd,Yd,nt,{saveSettings:0},null,[-1,-1])}}function qd(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',s,n,o=r[4].t("Archive All Chats")+"",a,i,d;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),this.h()},l(p){e=m(p,"BUTTON",{class:!0});var b=v(e);t=m(b,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-1duozwn"&&(t.innerHTML=l),s=A(b),n=m(b,"DIV",{class:!0});var _=v(n);a=P(_,o),_.forEach(f),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-3"),u(n,"class","self-center text-sm font-medium"),u(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(p,b){O(p,e,b),c(e,t),c(e,s),c(e,n),c(n,a),i||(d=te(e,"click",r[16]),i=!0)},p(p,b){b&16&&o!==(o=p[4].t("Archive All Chats")+"")&&j(a,o)},d(p){p&&f(e),i=!1,d()}}}function Gd(r){let e,t,l,s,n,o,a,i=r[4].t("Are you sure?")+"",d,p,b,_,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,I,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',$,B;return{c(){e=h("div"),t=h("div"),l=_t("svg"),s=_t("path"),n=_t("path"),o=V(),a=h("span"),d=U(i),p=V(),b=h("div"),_=h("button"),_.innerHTML=g,w=V(),I=h("button"),I.innerHTML=k,this.h()},l(y){e=m(y,"DIV",{class:!0});var E=v(e);t=m(E,"DIV",{class:!0});var D=v(t);l=vt(D,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var T=v(l);s=vt(T,"path",{d:!0}),v(s).forEach(f),n=vt(T,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(n).forEach(f),T.forEach(f),o=A(D),a=m(D,"SPAN",{});var C=v(a);d=P(C,i),C.forEach(f),D.forEach(f),p=A(E),b=m(E,"DIV",{class:!0});var M=v(b);_=m(M,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(_)!=="svelte-88c061"&&(_.innerHTML=g),w=A(M),I=m(M,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(I)!=="svelte-1601eo8"&&(I.innerHTML=k),M.forEach(f),E.forEach(f),this.h()},h(){u(s,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),u(n,"fill-rule","evenodd"),u(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),u(n,"clip-rule","evenodd"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox","0 0 16 16"),u(l,"fill","currentColor"),u(l,"class","w-4 h-4"),u(t,"class","flex items-center space-x-3"),u(_,"class","hover:text-white transition"),u(I,"class","hover:text-white transition"),u(b,"class","flex space-x-1.5 items-center"),u(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(y,E){O(y,e,E),c(e,t),c(t,l),c(l,s),c(l,n),c(t,o),c(t,a),c(a,d),c(e,p),c(e,b),c(b,_),c(b,w),c(b,I),$||(B=[te(_,"click",r[14]),te(I,"click",r[15])],$=!0)},p(y,E){E&16&&i!==(i=y[4].t("Are you sure?")+"")&&j(d,i)},d(y){y&&f(e),$=!1,it(B)}}}function Xd(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',s,n,o=r[4].t("Delete All Chats")+"",a,i,d;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),this.h()},l(p){e=m(p,"BUTTON",{class:!0});var b=v(e);t=m(b,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),s=A(b),n=m(b,"DIV",{class:!0});var _=v(n);a=P(_,o),_.forEach(f),b.forEach(f),this.h()},h(){u(t,"class","self-center mr-3"),u(n,"class","self-center text-sm font-medium"),u(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(p,b){O(p,e,b),c(e,t),c(e,s),c(e,n),c(n,a),i||(d=te(e,"click",r[19]),i=!0)},p(p,b){b&16&&o!==(o=p[4].t("Delete All Chats")+"")&&j(a,o)},d(p){p&&f(e),i=!1,d()}}}function Qd(r){let e,t,l,s,n,o,a,i=r[4].t("Are you sure?")+"",d,p,b,_,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,I,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',$,B;return{c(){e=h("div"),t=h("div"),l=_t("svg"),s=_t("path"),n=_t("path"),o=V(),a=h("span"),d=U(i),p=V(),b=h("div"),_=h("button"),_.innerHTML=g,w=V(),I=h("button"),I.innerHTML=k,this.h()},l(y){e=m(y,"DIV",{class:!0});var E=v(e);t=m(E,"DIV",{class:!0});var D=v(t);l=vt(D,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var T=v(l);s=vt(T,"path",{d:!0}),v(s).forEach(f),n=vt(T,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(n).forEach(f),T.forEach(f),o=A(D),a=m(D,"SPAN",{});var C=v(a);d=P(C,i),C.forEach(f),D.forEach(f),p=A(E),b=m(E,"DIV",{class:!0});var M=v(b);_=m(M,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(_)!=="svelte-19nv6qp"&&(_.innerHTML=g),w=A(M),I=m(M,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(I)!=="svelte-ekcykx"&&(I.innerHTML=k),M.forEach(f),E.forEach(f),this.h()},h(){u(s,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),u(n,"fill-rule","evenodd"),u(n,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),u(n,"clip-rule","evenodd"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"viewBox","0 0 16 16"),u(l,"fill","currentColor"),u(l,"class","w-4 h-4"),u(t,"class","flex items-center space-x-3"),u(_,"class","hover:text-white transition"),u(I,"class","hover:text-white transition"),u(b,"class","flex space-x-1.5 items-center"),u(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(y,E){O(y,e,E),c(e,t),c(t,l),c(l,s),c(l,n),c(t,o),c(t,a),c(a,d),c(e,p),c(e,b),c(b,_),c(b,w),c(b,I),$||(B=[te(_,"click",r[17]),te(I,"click",r[18])],$=!0)},p(y,E){E&16&&i!==(i=y[4].t("Are you sure?")+"")&&j(d,i)},d(y){y&&f(e),$=!1,it(B)}}}function eh(r){let e,t,l,s,n,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',d,p,b=r[4].t("Import Chats")+"",_,g,w,I,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',$,B,y=r[4].t("Export Chats")+"",E,D,T,C,M,S,H,q;function X(R,x){return R[1]?Gd:qd}let N=X(r),L=N(r);function Y(R,x){return R[2]?Qd:Xd}let Z=Y(r),F=Z(r);return{c(){e=h("div"),t=h("div"),l=h("div"),s=h("input"),n=V(),o=h("button"),a=h("div"),a.innerHTML=i,d=V(),p=h("div"),_=U(b),g=V(),w=h("button"),I=h("div"),I.innerHTML=k,$=V(),B=h("div"),E=U(y),D=V(),T=h("hr"),C=V(),M=h("div"),L.c(),S=V(),F.c(),this.h()},l(R){e=m(R,"DIV",{class:!0});var x=v(e);t=m(x,"DIV",{class:!0});var z=v(t);l=m(z,"DIV",{class:!0});var Q=v(l);s=m(Q,"INPUT",{id:!0,type:!0,accept:!0}),n=A(Q),o=m(Q,"BUTTON",{class:!0});var J=v(o);a=m(J,"DIV",{class:!0,"data-svelte-h":!0}),xe(a)!=="svelte-135keqh"&&(a.innerHTML=i),d=A(J),p=m(J,"DIV",{class:!0});var ee=v(p);_=P(ee,b),ee.forEach(f),J.forEach(f),g=A(Q),w=m(Q,"BUTTON",{class:!0});var ce=v(w);I=m(ce,"DIV",{class:!0,"data-svelte-h":!0}),xe(I)!=="svelte-7e4f4y"&&(I.innerHTML=k),$=A(ce),B=m(ce,"DIV",{class:!0});var fe=v(B);E=P(fe,y),fe.forEach(f),ce.forEach(f),Q.forEach(f),D=A(z),T=m(z,"HR",{class:!0}),C=A(z),M=m(z,"DIV",{class:!0});var he=v(M);L.l(he),S=A(he),F.l(he),he.forEach(f),z.forEach(f),x.forEach(f),this.h()},h(){u(s,"id","chat-import-input"),u(s,"type","file"),u(s,"accept",".json"),s.hidden=!0,u(a,"class","self-center mr-3"),u(p,"class","self-center text-sm font-medium"),u(o,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),u(I,"class","self-center mr-3"),u(B,"class","self-center text-sm font-medium"),u(w,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),u(l,"class","flex flex-col"),u(T,"class","dark:border-gray-850"),u(M,"class","flex flex-col"),u(t,"class","space-y-2 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(R,x){O(R,e,x),c(e,t),c(t,l),c(l,s),r[10](s),c(l,n),c(l,o),c(o,a),c(o,d),c(o,p),c(p,_),c(l,g),c(l,w),c(w,I),c(w,$),c(w,B),c(B,E),c(t,D),c(t,T),c(t,C),c(t,M),L.m(M,null),c(M,S),F.m(M,null),H||(q=[te(s,"change",r[11]),te(o,"click",r[12]),te(w,"click",r[13])],H=!0)},p(R,[x]){x&16&&b!==(b=R[4].t("Import Chats")+"")&&j(_,b),x&16&&y!==(y=R[4].t("Export Chats")+"")&&j(E,y),N===(N=X(R))&&L?L.p(R,x):(L.d(1),L=N(R),L&&(L.c(),L.m(M,S))),Z===(Z=Y(R))&&F?F.p(R,x):(F.d(1),F=Z(R),F&&(F.c(),F.m(M,null)))},i:ye,o:ye,d(R){R&&f(e),r[10](null),L.d(),F.d(),H=!1,it(q)}}}function th(r,e,t){let l,s;Ve(r,nl,H=>t(20,l=H));const{saveAs:n}=hs,o=gt("i18n");Ve(r,o,H=>t(4,s=H));let{saveSettings:a}=e,i,d=!1,p=!1,b;const _=async H=>{for(const q of H)console.log(q),q.chat?await aa(localStorage.token,q.chat):await aa(localStorage.token,q);nl.set(1),await rl.set(await Ll(localStorage.token,l)),fs.set(!0)},g=async()=>{let H=new Blob([JSON.stringify(await Li(localStorage.token))],{type:"application/json"});n(H,`chat-export-${Date.now()}.json`)},w=async()=>{await Ol("/"),await Mi(localStorage.token).catch(H=>{Ue.error(H)}),nl.set(1),await rl.set(await Ll(localStorage.token,l)),fs.set(!0)},I=async()=>{await Ol("/"),await Oi(localStorage.token).catch(H=>{Ue.error(H)}),nl.set(1),await rl.set(await Ll(localStorage.token,l)),fs.set(!0)};function k(H){lt[H?"unshift":"push"](()=>{b=H,t(3,b)})}function $(){i=this.files,t(0,i)}const B=()=>{b.click()},y=()=>{g()},E=()=>{w(),t(1,d=!1)},D=()=>{t(1,d=!1)},T=()=>{t(1,d=!0)},C=()=>{I(),t(2,p=!1)},M=()=>{t(2,p=!1)},S=()=>{t(2,p=!0)};return r.$$set=H=>{"saveSettings"in H&&t(9,a=H.saveSettings)},r.$$.update=()=>{if(r.$$.dirty&1&&i){console.log(i);let H=new FileReader;H.onload=q=>{let X=JSON.parse(q.target.result);if(console.log(X),yi(X)=="openai")try{X=Ei(X)}catch(N){console.log("Unable to import chats:",N)}_(X)},i.length>0&&H.readAsText(i[0])}},[i,d,p,b,s,o,g,w,I,a,k,$,B,y,E,D,T,C,M,S]}class lh extends at{constructor(e){super(),ot(this,e,th,eh,nt,{saveSettings:9})}}function uo(r){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,s){O(l,e,s)},d(l){l&&f(e)}}}function sh(r){let e,t,l,s=r[3].t("Add Memory")+"",n,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,p,b,_,g,w,I,k,$,B,y=r[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",E,D,T,C,M=r[3].t("Add")+"",S,H,q,X,N,L=r[1]&&uo();return{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("button"),a.innerHTML=i,d=V(),p=h("div"),b=h("div"),_=h("form"),g=h("div"),w=h("textarea"),k=V(),$=h("div"),B=U(" "),E=U(y),D=V(),T=h("div"),C=h("button"),S=U(M),H=V(),L&&L.c(),this.h()},l(Y){e=m(Y,"DIV",{});var Z=v(e);t=m(Z,"DIV",{class:!0});var F=v(t);l=m(F,"DIV",{class:!0});var R=v(l);n=P(R,s),R.forEach(f),o=A(F),a=m(F,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(a)!=="svelte-745w2y"&&(a.innerHTML=i),F.forEach(f),d=A(Z),p=m(Z,"DIV",{class:!0});var x=v(p);b=m(x,"DIV",{class:!0});var z=v(b);_=m(z,"FORM",{class:!0});var Q=v(_);g=m(Q,"DIV",{class:!0});var J=v(g);w=m(J,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(w).forEach(f),k=A(J),$=m(J,"DIV",{class:!0});var ee=v($);B=P(ee," "),E=P(ee,y),ee.forEach(f),J.forEach(f),D=A(Q),T=m(Q,"DIV",{class:!0});var ce=v(T);C=m(ce,"BUTTON",{class:!0,type:!0});var fe=v(C);S=P(fe,M),H=A(fe),L&&L.l(fe),fe.forEach(f),ce.forEach(f),Q.forEach(f),z.forEach(f),x.forEach(f),Z.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),u(w,"rows","3"),u(w,"placeholder",I=r[3].t("Enter a detail about yourself for your LLMs to recall")),u($,"class","text-xs text-gray-500"),u(g,"class",""),u(C,"class",q="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(r[1]?" cursor-not-allowed":"")),u(C,"type","submit"),C.disabled=r[1],u(T,"class","flex justify-end pt-1 text-sm font-medium"),u(_,"class","flex flex-col w-full"),u(b,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(p,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(Y,Z){O(Y,e,Z),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),c(e,d),c(e,p),c(p,b),c(b,_),c(_,g),c(g,w),Re(w,r[2]),c(g,k),c(g,$),c($,B),c($,E),c(_,D),c(_,T),c(T,C),c(C,S),c(C,H),L&&L.m(C,null),X||(N=[te(a,"click",r[6]),te(w,"input",r[7]),te(_,"submit",Gl(r[8]))],X=!0)},p(Y,Z){Z&8&&s!==(s=Y[3].t("Add Memory")+"")&&j(n,s),Z&8&&I!==(I=Y[3].t("Enter a detail about yourself for your LLMs to recall"))&&u(w,"placeholder",I),Z&4&&Re(w,Y[2]),Z&8&&y!==(y=Y[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&j(E,y),Z&8&&M!==(M=Y[3].t("Add")+"")&&j(S,M),Y[1]?L||(L=uo(),L.c(),L.m(C,null)):L&&(L.d(1),L=null),Z&2&&q!==(q="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(Y[1]?" cursor-not-allowed":""))&&u(C,"class",q),Z&2&&(C.disabled=Y[1])},d(Y){Y&&f(e),L&&L.d(),X=!1,it(N)}}}function rh(r){let e,t,l;function s(o){r[9](o)}let n={size:"sm",$$slots:{default:[sh]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.show=r[0]),e=new Ql({props:n}),lt.push(()=>pt(e,"show",s)),{c(){re(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){ae(e,o,a),l=!0},p(o,[a]){const i={};a&2063&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],mt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){K(e.$$.fragment,o),l=!1},d(o){oe(e,o)}}}function nh(r,e,t){let l;const s=Dt();let{show:n}=e;const o=gt("i18n");Ve(r,o,w=>t(3,l=w));let a=!1,i="";const d=async()=>{t(1,a=!0);const w=await zi(localStorage.token,i).catch(I=>(Ue.error(I),null));w&&(console.log(w),Ue.success(l.t("Memory added successfully")),t(2,i=""),t(0,n=!1),s("save")),t(1,a=!1)},p=()=>{t(0,n=!1)};function b(){i=this.value,t(2,i)}const _=()=>{d()};function g(w){n=w,t(0,n)}return r.$$set=w=>{"show"in w&&t(0,n=w.show)},[n,a,i,l,o,d,p,b,_,g]}class ah extends at{constructor(e){super(),ot(this,e,nh,rh,nt,{show:0})}}function ho(r){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=h("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,s){O(l,e,s)},d(l){l&&f(e)}}}function oh(r){let e,t,l,s=r[3].t("Edit Memory")+"",n,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,p,b,_,g,w,I,k,$,B,y=r[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",E,D,T,C,M=r[3].t("Update")+"",S,H,q,X,N,L=r[1]&&ho();return{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("button"),a.innerHTML=i,d=V(),p=h("div"),b=h("div"),_=h("form"),g=h("div"),w=h("textarea"),k=V(),$=h("div"),B=U(" "),E=U(y),D=V(),T=h("div"),C=h("button"),S=U(M),H=V(),L&&L.c(),this.h()},l(Y){e=m(Y,"DIV",{});var Z=v(e);t=m(Z,"DIV",{class:!0});var F=v(t);l=m(F,"DIV",{class:!0});var R=v(l);n=P(R,s),R.forEach(f),o=A(F),a=m(F,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(a)!=="svelte-745w2y"&&(a.innerHTML=i),F.forEach(f),d=A(Z),p=m(Z,"DIV",{class:!0});var x=v(p);b=m(x,"DIV",{class:!0});var z=v(b);_=m(z,"FORM",{class:!0});var Q=v(_);g=m(Q,"DIV",{class:!0});var J=v(g);w=m(J,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(w).forEach(f),k=A(J),$=m(J,"DIV",{class:!0});var ee=v($);B=P(ee," "),E=P(ee,y),ee.forEach(f),J.forEach(f),D=A(Q),T=m(Q,"DIV",{class:!0});var ce=v(T);C=m(ce,"BUTTON",{class:!0,type:!0});var fe=v(C);S=P(fe,M),H=A(fe),L&&L.l(fe),fe.forEach(f),ce.forEach(f),Q.forEach(f),z.forEach(f),x.forEach(f),Z.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),u(w,"rows","3"),u(w,"placeholder",I=r[3].t("Enter a detail about yourself for your LLMs to recall")),u($,"class","text-xs text-gray-500"),u(g,"class",""),u(C,"class",q="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(r[1]?" cursor-not-allowed":"")),u(C,"type","submit"),C.disabled=r[1],u(T,"class","flex justify-end pt-1 text-sm font-medium"),u(_,"class","flex flex-col w-full"),u(b,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(p,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(Y,Z){O(Y,e,Z),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),c(e,d),c(e,p),c(p,b),c(b,_),c(_,g),c(g,w),Re(w,r[2]),c(g,k),c(g,$),c($,B),c($,E),c(_,D),c(_,T),c(T,C),c(C,S),c(C,H),L&&L.m(C,null),X||(N=[te(a,"click",r[7]),te(w,"input",r[8]),te(_,"submit",Gl(r[9]))],X=!0)},p(Y,Z){Z&8&&s!==(s=Y[3].t("Edit Memory")+"")&&j(n,s),Z&8&&I!==(I=Y[3].t("Enter a detail about yourself for your LLMs to recall"))&&u(w,"placeholder",I),Z&4&&Re(w,Y[2]),Z&8&&y!==(y=Y[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&j(E,y),Z&8&&M!==(M=Y[3].t("Update")+"")&&j(S,M),Y[1]?L||(L=ho(),L.c(),L.m(C,null)):L&&(L.d(1),L=null),Z&2&&q!==(q="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(Y[1]?" cursor-not-allowed":""))&&u(C,"class",q),Z&2&&(C.disabled=Y[1])},d(Y){Y&&f(e),L&&L.d(),X=!1,it(N)}}}function ih(r){let e,t,l;function s(o){r[10](o)}let n={size:"sm",$$slots:{default:[oh]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.show=r[0]),e=new Ql({props:n}),lt.push(()=>pt(e,"show",s)),{c(){re(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){ae(e,o,a),l=!0},p(o,[a]){const i={};a&8207&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],mt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){K(e.$$.fragment,o),l=!1},d(o){oe(e,o)}}}function ch(r,e,t){let l;const s=Dt();let{show:n}=e,{memory:o={}}=e;const a=gt("i18n");Ve(r,a,k=>t(3,l=k));let i=!1,d="";const p=()=>{t(2,d=o.content)},b=async()=>{t(1,i=!0);const k=await Ri(localStorage.token,o.id,d).catch($=>(Ue.error($),null));k&&(console.log(k),Ue.success(l.t("Memory updated successfully")),s("save"),t(0,n=!1)),t(1,i=!1)},_=()=>{t(0,n=!1)};function g(){d=this.value,t(2,d)}const w=()=>{b()};function I(k){n=k,t(0,n)}return r.$$set=k=>{"show"in k&&t(0,n=k.show),"memory"in k&&t(6,o=k.memory)},r.$$.update=()=>{r.$$.dirty&1&&n&&p()},[n,i,d,l,a,b,o,_,g,w,I]}class fh extends at{constructor(e){super(),ot(this,e,ch,ih,nt,{show:0,memory:6})}}function mo(r,e,t){const l=r.slice();return l[19]=e[t],l}function uh(r){let e,t,l=r[5].t("Memories accessible by LLMs will be shown here.")+"",s;return{c(){e=h("div"),t=h("div"),s=U(l),this.h()},l(n){e=m(n,"DIV",{class:!0});var o=v(e);t=m(o,"DIV",{class:!0});var a=v(t);s=P(a,l),a.forEach(f),o.forEach(f),this.h()},h(){u(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),u(e,"class","text-center flex h-full text-sm w-full")},m(n,o){O(n,e,o),c(e,t),c(t,s)},p(n,o){o&32&&l!==(l=n[5].t("Memories accessible by LLMs will be shown here.")+"")&&j(s,l)},i:ye,o:ye,d(n){n&&f(e)}}}function dh(r){let e,t,l,s,n,o,a=r[5].t("Name")+"",i,d,p,b=r[5].t("Last Modified")+"",_,g,w,I,k,$,B=Xe(r[1]),y=[];for(let D=0;D<B.length;D+=1)y[D]=po(mo(r,B,D));const E=D=>K(y[D],1,1,()=>{y[D]=null});return{c(){e=h("div"),t=h("div"),l=h("table"),s=h("thead"),n=h("tr"),o=h("th"),i=U(a),d=V(),p=h("th"),_=U(b),g=V(),w=h("th"),I=V(),k=h("tbody");for(let D=0;D<y.length;D+=1)y[D].c();this.h()},l(D){e=m(D,"DIV",{class:!0});var T=v(e);t=m(T,"DIV",{class:!0});var C=v(t);l=m(C,"TABLE",{class:!0});var M=v(l);s=m(M,"THEAD",{class:!0});var S=v(s);n=m(S,"TR",{});var H=v(n);o=m(H,"TH",{scope:!0,class:!0});var q=v(o);i=P(q,a),q.forEach(f),d=A(H),p=m(H,"TH",{scope:!0,class:!0});var X=v(p);_=P(X,b),X.forEach(f),g=A(H),w=m(H,"TH",{scope:!0,class:!0}),v(w).forEach(f),H.forEach(f),S.forEach(f),I=A(M),k=m(M,"TBODY",{});var N=v(k);for(let L=0;L<y.length;L+=1)y[L].l(N);N.forEach(f),M.forEach(f),C.forEach(f),T.forEach(f),this.h()},h(){u(o,"scope","col"),u(o,"class","px-3 py-2"),u(p,"scope","col"),u(p,"class","px-3 py-2 hidden md:flex"),u(w,"scope","col"),u(w,"class","px-3 py-2 text-right"),u(s,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),u(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(t,"class","relative overflow-x-auto"),u(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(D,T){O(D,e,T),c(e,t),c(t,l),c(l,s),c(s,n),c(n,o),c(o,i),c(n,d),c(n,p),c(p,_),c(n,g),c(n,w),c(l,I),c(l,k);for(let C=0;C<y.length;C+=1)y[C]&&y[C].m(k,null);$=!0},p(D,T){if((!$||T&32)&&a!==(a=D[5].t("Name")+"")&&j(i,a),(!$||T&32)&&b!==(b=D[5].t("Last Modified")+"")&&j(_,b),T&58){B=Xe(D[1]);let C;for(C=0;C<B.length;C+=1){const M=mo(D,B,C);y[C]?(y[C].p(M,T),W(y[C],1)):(y[C]=po(M),y[C].c(),W(y[C],1),y[C].m(k,null))}for(qe(),C=B.length;C<y.length;C+=1)E(C);Ge()}},i(D){if(!$){for(let T=0;T<B.length;T+=1)W(y[T]);$=!0}},o(D){y=y.filter(Boolean);for(let T=0;T<y.length;T+=1)K(y[T]);$=!1},d(D){D&&f(e),Ct(y,D)}}}function hh(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 s-FoVA_WMOgxUD"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" class="s-FoVA_WMOgxUD"></path></svg>',l,s;function n(){return r[9](r[19])}return{c(){e=h("button"),e.innerHTML=t,this.h()},l(o){e=m(o,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-1hkti8u"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){O(o,e,a),l||(s=te(e,"click",n),l=!0)},p(o,a){r=o},d(o){o&&f(e),l=!1,s()}}}function mh(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,s;function n(){return r[10](r[19])}return{c(){e=h("button"),e.innerHTML=t,this.h()},l(o){e=m(o,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-12t315d"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,a){O(o,e,a),l||(s=te(e,"click",n),l=!0)},p(o,a){r=o},d(o){o&&f(e),l=!1,s()}}}function po(r){let e,t,l,s=r[19].content+"",n,o,a,i,d=ar(r[19].updated_at*1e3).format(r[5].t("MMMM DD, YYYY hh:mm:ss A"))+"",p,b,_,g,w,I,k,$,B;return w=new At({props:{content:"Edit",$$slots:{default:[hh]},$$scope:{ctx:r}}}),k=new At({props:{content:"Delete",$$slots:{default:[mh]},$$scope:{ctx:r}}}),{c(){e=h("tr"),t=h("td"),l=h("div"),n=U(s),o=V(),a=h("td"),i=h("div"),p=U(d),b=V(),_=h("td"),g=h("div"),re(w.$$.fragment),I=V(),re(k.$$.fragment),$=V(),this.h()},l(y){e=m(y,"TR",{class:!0});var E=v(e);t=m(E,"TD",{class:!0});var D=v(t);l=m(D,"DIV",{class:!0});var T=v(l);n=P(T,s),T.forEach(f),D.forEach(f),o=A(E),a=m(E,"TD",{class:!0});var C=v(a);i=m(C,"DIV",{class:!0});var M=v(i);p=P(M,d),M.forEach(f),C.forEach(f),b=A(E),_=m(E,"TD",{class:!0});var S=v(_);g=m(S,"DIV",{class:!0});var H=v(g);ne(w.$$.fragment,H),I=A(H),ne(k.$$.fragment,H),H.forEach(f),S.forEach(f),$=A(E),E.forEach(f),this.h()},h(){u(l,"class","line-clamp-1"),u(t,"class","px-3 py-1"),u(i,"class","my-auto whitespace-nowrap"),u(a,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),u(g,"class","flex justify-end w-full"),u(_,"class","px-3 py-1"),u(e,"class","border-b dark:border-gray-800 items-center")},m(y,E){O(y,e,E),c(e,t),c(t,l),c(l,n),c(e,o),c(e,a),c(a,i),c(i,p),c(e,b),c(e,_),c(_,g),ae(w,g,null),c(g,I),ae(k,g,null),c(e,$),B=!0},p(y,E){(!B||E&2)&&s!==(s=y[19].content+"")&&j(n,s),(!B||E&34)&&d!==(d=ar(y[19].updated_at*1e3).format(y[5].t("MMMM DD, YYYY hh:mm:ss A"))+"")&&j(p,d);const D={};E&4194330&&(D.$$scope={dirty:E,ctx:y}),w.$set(D);const T={};E&4194338&&(T.$$scope={dirty:E,ctx:y}),k.$set(T)},i(y){B||(W(w.$$.fragment,y),W(k.$$.fragment,y),B=!0)},o(y){K(w.$$.fragment,y),K(k.$$.fragment,y),B=!1},d(y){y&&f(e),oe(w),oe(k)}}}function ph(r){let e,t,l,s=r[5].t("Memory")+"",n,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,p,b,_,g,w,I,k,$=r[5].t("Add Memory")+"",B,y,E,D=r[5].t("Clear memory")+"",T,C,M,S;const H=[dh,uh],q=[];function X(N,L){return N[1].length>0?0:1}return _=X(r),g=q[_]=H[_](r),{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("button"),a.innerHTML=i,d=V(),p=h("div"),b=h("div"),g.c(),w=V(),I=h("div"),k=h("button"),B=U($),y=V(),E=h("button"),T=U(D),this.h()},l(N){e=m(N,"DIV",{});var L=v(e);t=m(L,"DIV",{class:!0});var Y=v(t);l=m(Y,"DIV",{class:!0});var Z=v(l);n=P(Z,s),Z.forEach(f),o=A(Y),a=m(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(a)!=="svelte-745w2y"&&(a.innerHTML=i),Y.forEach(f),d=A(L),p=m(L,"DIV",{class:!0});var F=v(p);b=m(F,"DIV",{class:!0});var R=v(b);g.l(R),R.forEach(f),w=A(F),I=m(F,"DIV",{class:!0});var x=v(I);k=m(x,"BUTTON",{class:!0});var z=v(k);B=P(z,$),z.forEach(f),y=A(x),E=m(x,"BUTTON",{class:!0});var Q=v(E);T=P(Q,D),Q.forEach(f),x.forEach(f),F.forEach(f),L.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(b,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),u(k,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(E,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),u(I,"class","flex text-sm font-medium gap-1.5"),u(p,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(N,L){O(N,e,L),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),c(e,d),c(e,p),c(p,b),q[_].m(b,null),c(p,w),c(p,I),c(I,k),c(k,B),c(I,y),c(I,E),c(E,T),C=!0,M||(S=[te(a,"click",r[8]),te(k,"click",r[11]),te(E,"click",r[12])],M=!0)},p(N,L){(!C||L&32)&&s!==(s=N[5].t("Memory")+"")&&j(n,s);let Y=_;_=X(N),_===Y?q[_].p(N,L):(qe(),K(q[Y],1,1,()=>{q[Y]=null}),Ge(),g=q[_],g?g.p(N,L):(g=q[_]=H[_](N),g.c()),W(g,1),g.m(b,null)),(!C||L&32)&&$!==($=N[5].t("Add Memory")+"")&&j(B,$),(!C||L&32)&&D!==(D=N[5].t("Clear memory")+"")&&j(T,D)},i(N){C||(W(g),C=!0)},o(N){K(g),C=!1},d(N){N&&f(e),q[_].d(),M=!1,it(S)}}}function _h(r){let e,t,l,s,n,o,a,i,d;function p(k){r[13](k)}let b={size:"xl",$$slots:{default:[ph]},$$scope:{ctx:r}};r[0]!==void 0&&(b.show=r[0]),e=new Ql({props:b}),lt.push(()=>pt(e,"show",p));function _(k){r[14](k)}let g={};r[2]!==void 0&&(g.show=r[2]),s=new ah({props:g}),lt.push(()=>pt(s,"show",_)),s.$on("save",r[15]);function w(k){r[16](k)}let I={memory:r[4]};return r[3]!==void 0&&(I.show=r[3]),a=new fh({props:I}),lt.push(()=>pt(a,"show",w)),a.$on("save",r[17]),{c(){re(e.$$.fragment),l=V(),re(s.$$.fragment),o=V(),re(a.$$.fragment)},l(k){ne(e.$$.fragment,k),l=A(k),ne(s.$$.fragment,k),o=A(k),ne(a.$$.fragment,k)},m(k,$){ae(e,k,$),O(k,l,$),ae(s,k,$),O(k,o,$),ae(a,k,$),d=!0},p(k,[$]){const B={};$&4194367&&(B.$$scope={dirty:$,ctx:k}),!t&&$&1&&(t=!0,B.show=k[0],mt(()=>t=!1)),e.$set(B);const y={};!n&&$&4&&(n=!0,y.show=k[2],mt(()=>n=!1)),s.$set(y);const E={};$&16&&(E.memory=k[4]),!i&&$&8&&(i=!0,E.show=k[3],mt(()=>i=!1)),a.$set(E)},i(k){d||(W(e.$$.fragment,k),W(s.$$.fragment,k),W(a.$$.fragment,k),d=!0)},o(k){K(e.$$.fragment,k),K(s.$$.fragment,k),K(a.$$.fragment,k),d=!1},d(k){k&&(f(l),f(o)),oe(e,k),oe(s,k),oe(a,k)}}}function vh(r,e,t){let l;Dt();const s=gt("i18n");Ve(r,s,D=>t(5,l=D));let{show:n=!1}=e,o=[],a=!0,i=!1,d=!1,p=null;const b=()=>{t(0,n=!1)},_=D=>{t(4,p=D),t(3,d=!0)},g=async D=>{await Wi(localStorage.token,D.id).catch(C=>(Ue.error(C),null))&&(Ue.success(l.t("Memory deleted successfully")),t(1,o=await er(localStorage.token)))},w=()=>{t(2,i=!0)},I=async()=>{await Fi(localStorage.token).catch(T=>(Ue.error(T),null))&&(Ue.success(l.t("Memory cleared successfully")),t(1,o=[]))};function k(D){n=D,t(0,n)}function $(D){i=D,t(2,i)}const B=async()=>{t(1,o=await er(localStorage.token))};function y(D){d=D,t(3,d)}const E=async()=>{t(1,o=await er(localStorage.token))};return r.$$set=D=>{"show"in D&&t(0,n=D.show)},r.$$.update=()=>{r.$$.dirty&131&&n&&o.length===0&&a&&(async()=>(t(1,o=await er(localStorage.token)),t(7,a=!1)))()},[n,o,i,d,p,l,s,a,b,_,g,w,I,k,$,B,y,E]}class gh extends at{constructor(e){super(),ot(this,e,vh,_h,nt,{show:0})}}function bh(r){let e,t=r[3].t("Memory")+"",l,s,n,o,a=r[3].t("Experimental")+"",i,d;return{c(){e=h("div"),l=U(t),s=V(),n=h("span"),o=U("("),i=U(a),d=U(")"),this.h()},l(p){e=m(p,"DIV",{class:!0});var b=v(e);l=P(b,t),s=A(b),n=m(b,"SPAN",{class:!0});var _=v(n);o=P(_,"("),i=P(_,a),d=P(_,")"),_.forEach(f),b.forEach(f),this.h()},h(){u(n,"class","text-xs text-gray-500"),u(e,"class","text-sm font-medium")},m(p,b){O(p,e,b),c(e,l),c(e,s),c(e,n),c(n,o),c(n,i),c(n,d)},p(p,b){b&8&&t!==(t=p[3].t("Memory")+"")&&j(l,t),b&8&&a!==(a=p[3].t("Experimental")+"")&&j(i,a)},d(p){p&&f(e)}}}function wh(r){let e,t,l,s,n,o,a,i,d,p,b,_,g,w,I,k=r[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",$,B,y,E,D=r[3].t("Manage")+"",T,C,M,S,H=r[3].t("Save")+"",q,X,N,L;function Y(x){r[6](x)}let Z={};r[1]!==void 0&&(Z.show=r[1]),e=new gh({props:Z}),lt.push(()=>pt(e,"show",Y)),i=new At({props:{content:r[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[bh]},$$scope:{ctx:r}}});function F(x){r[7](x)}let R={};return r[2]!==void 0&&(R.state=r[2]),b=new ei({props:R}),lt.push(()=>pt(b,"state",F)),b.$on("change",r[8]),{c(){re(e.$$.fragment),l=V(),s=h("form"),n=h("div"),o=h("div"),a=h("div"),re(i.$$.fragment),d=V(),p=h("div"),re(b.$$.fragment),g=V(),w=h("div"),I=h("div"),$=U(k),B=V(),y=h("div"),E=h("button"),T=U(D),C=V(),M=h("div"),S=h("button"),q=U(H),this.h()},l(x){ne(e.$$.fragment,x),l=A(x),s=m(x,"FORM",{class:!0});var z=v(s);n=m(z,"DIV",{class:!0});var Q=v(n);o=m(Q,"DIV",{});var J=v(o);a=m(J,"DIV",{class:!0});var ee=v(a);ne(i.$$.fragment,ee),d=A(ee),p=m(ee,"DIV",{class:!0});var ce=v(p);ne(b.$$.fragment,ce),ce.forEach(f),ee.forEach(f),J.forEach(f),g=A(Q),w=m(Q,"DIV",{class:!0});var fe=v(w);I=m(fe,"DIV",{});var he=v(I);$=P(he,k),he.forEach(f),fe.forEach(f),B=A(Q),y=m(Q,"DIV",{class:!0});var ge=v(y);E=m(ge,"BUTTON",{type:!0,class:!0});var ke=v(E);T=P(ke,D),ke.forEach(f),ge.forEach(f),Q.forEach(f),C=A(z),M=m(z,"DIV",{class:!0});var Ne=v(M);S=m(Ne,"BUTTON",{class:!0,type:!0});var Ae=v(S);q=P(Ae,H),Ae.forEach(f),Ne.forEach(f),z.forEach(f),this.h()},h(){u(p,"class",""),u(a,"class","flex items-center justify-between mb-1"),u(w,"class","text-xs text-gray-600 dark:text-gray-400"),u(E,"type","button"),u(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),u(y,"class","mt-3 mb-1 ml-1"),u(n,"class","py-1 overflow-y-scroll max-h-[28rem] lg:max-h-full"),u(S,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(S,"type","submit"),u(M,"class","flex justify-end text-sm font-medium"),u(s,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(x,z){ae(e,x,z),O(x,l,z),O(x,s,z),c(s,n),c(n,o),c(o,a),ae(i,a,null),c(a,d),c(a,p),ae(b,p,null),c(n,g),c(n,w),c(w,I),c(I,$),c(n,B),c(n,y),c(y,E),c(E,T),c(s,C),c(s,M),c(M,S),c(S,q),X=!0,N||(L=[te(E,"click",r[9]),te(s,"submit",Gl(r[10]))],N=!0)},p(x,[z]){const Q={};!t&&z&2&&(t=!0,Q.show=x[1],mt(()=>t=!1)),e.$set(Q);const J={};z&8&&(J.content=x[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),z&4104&&(J.$$scope={dirty:z,ctx:x}),i.$set(J);const ee={};!_&&z&4&&(_=!0,ee.state=x[2],mt(()=>_=!1)),b.$set(ee),(!X||z&8)&&k!==(k=x[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&j($,k),(!X||z&8)&&D!==(D=x[3].t("Manage")+"")&&j(T,D),(!X||z&8)&&H!==(H=x[3].t("Save")+"")&&j(q,H)},i(x){X||(W(e.$$.fragment,x),W(i.$$.fragment,x),W(b.$$.fragment,x),X=!0)},o(x){K(e.$$.fragment,x),K(i.$$.fragment,x),K(b.$$.fragment,x),X=!1},d(x){x&&(f(l),f(s)),oe(e,x),oe(i),oe(b),N=!1,it(L)}}}function kh(r,e,t){let l,s;Ve(r,al,I=>t(11,l=I));const n=Dt(),o=gt("i18n");Ve(r,o,I=>t(3,s=I));let{saveSettings:a}=e,i=!1,d=!1;$t(async()=>{t(2,d=(l==null?void 0:l.memory)??!1)});function p(I){i=I,t(1,i)}function b(I){d=I,t(2,d)}const _=async()=>{a({memory:d})},g=()=>{t(1,i=!0)},w=()=>{n("save")};return r.$$set=I=>{"saveSettings"in I&&t(0,a=I.saveSettings)},[a,i,d,s,n,o,p,b,_,g,w]}class yh extends at{constructor(e){super(),ot(this,e,kh,wh,nt,{saveSettings:0})}}function _o(r,e,t){const l=r.slice();return l[33]=e[t],l}function Eh(r){let e,t=r[4].t("No results found")+"",l;return{c(){e=h("div"),l=U(t),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=v(e);l=P(n,t),n.forEach(f),this.h()},h(){u(e,"class","text-center text-gray-500 mt-4")},m(s,n){O(s,e,n),c(e,l)},p(s,n){n[0]&16&&t!==(t=s[4].t("No results found")+"")&&j(l,t)},i:ye,o:ye,d(s){s&&f(e)}}}function Ih(r){let e=[],t=new Map,l,s,n=Xe(r[2]);const o=a=>a[33];for(let a=0;a<n.length;a+=1){let i=_o(r,n,a),d=o(i);t.set(d,e[a]=go(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ft()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);l=ft()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);O(a,l,i),s=!0},p(a,i){i[0]&61&&(n=Xe(a[2]),qe(),e=or(e,i,o,1,a,n,t,l.parentNode,ir,go,l,_o),Ge())},i(a){if(!s){for(let i=0;i<n.length;i+=1)W(e[i]);s=!0}},o(a){for(let i=0;i<e.length;i+=1)K(e[i]);s=!1},d(a){a&&f(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function Dh(r){let e,t=r[5].role==="admin"&&vo(r);return{c(){t&&t.c(),e=ft()},l(l){t&&t.l(l),e=ft()},m(l,s){t&&t.m(l,s),O(l,e,s)},p(l,s){l[5].role==="admin"?t?t.p(l,s):(t=vo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ye,o:ye,d(l){l&&f(e),t&&t.d(l)}}}function $h(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',s,n,o=r[4].t("About")+"",a,i,d,p,b;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),i=V(),this.h()},l(_){e=m(_,"BUTTON",{class:!0});var g=v(e);t=m(g,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-im5r31"&&(t.innerHTML=l),s=A(g),n=m(g,"DIV",{class:!0});var w=v(n);a=P(w,o),w.forEach(f),i=A(g),g.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(n,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(r[3]==="about"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(_,g){O(_,e,g),c(e,t),c(e,s),c(e,n),c(n,a),c(e,i),p||(b=te(e,"click",r[18]),p=!0)},p(_,g){g[0]&16&&o!==(o=_[4].t("About")+"")&&j(a,o),g[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(_[3]==="about"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:ye,o:ye,d(_){_&&f(e),p=!1,b()}}}function Th(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',s,n,o=r[4].t("Account")+"",a,i,d,p,b;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),i=V(),this.h()},l(_){e=m(_,"BUTTON",{class:!0});var g=v(e);t=m(g,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-uyxh8m"&&(t.innerHTML=l),s=A(g),n=m(g,"DIV",{class:!0});var w=v(n);a=P(w,o),w.forEach(f),i=A(g),g.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(n,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(r[3]==="account"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(_,g){O(_,e,g),c(e,t),c(e,s),c(e,n),c(n,a),c(e,i),p||(b=te(e,"click",r[17]),p=!0)},p(_,g){g[0]&16&&o!==(o=_[4].t("Account")+"")&&j(a,o),g[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(_[3]==="account"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:ye,o:ye,d(_){_&&f(e),p=!1,b()}}}function Vh(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',s,n,o=r[4].t("Chats")+"",a,i,d,p,b;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),i=V(),this.h()},l(_){e=m(_,"BUTTON",{class:!0});var g=v(e);t=m(g,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-hp16vk"&&(t.innerHTML=l),s=A(g),n=m(g,"DIV",{class:!0});var w=v(n);a=P(w,o),w.forEach(f),i=A(g),g.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(n,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(r[3]==="chats"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(_,g){O(_,e,g),c(e,t),c(e,s),c(e,n),c(n,a),c(e,i),p||(b=te(e,"click",r[16]),p=!0)},p(_,g){g[0]&16&&o!==(o=_[4].t("Chats")+"")&&j(a,o),g[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(_[3]==="chats"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:ye,o:ye,d(_){_&&f(e),p=!1,b()}}}function Ah(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',s,n,o=r[4].t("Audio")+"",a,i,d,p,b;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),i=V(),this.h()},l(_){e=m(_,"BUTTON",{class:!0});var g=v(e);t=m(g,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-1bad48g"&&(t.innerHTML=l),s=A(g),n=m(g,"DIV",{class:!0});var w=v(n);a=P(w,o),w.forEach(f),i=A(g),g.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(n,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(r[3]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(_,g){O(_,e,g),c(e,t),c(e,s),c(e,n),c(n,a),c(e,i),p||(b=te(e,"click",r[15]),p=!0)},p(_,g){g[0]&16&&o!==(o=_[4].t("Audio")+"")&&j(a,o),g[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(_[3]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:ye,o:ye,d(_){_&&f(e),p=!1,b()}}}function Ch(r){let e,t,l,s,n,o=r[4].t("Personalization")+"",a,i,d,p,b,_;return l=new cc({}),{c(){e=h("button"),t=h("div"),re(l.$$.fragment),s=V(),n=h("div"),a=U(o),i=V(),this.h()},l(g){e=m(g,"BUTTON",{class:!0});var w=v(e);t=m(w,"DIV",{class:!0});var I=v(t);ne(l.$$.fragment,I),I.forEach(f),s=A(w),n=m(w,"DIV",{class:!0});var k=v(n);a=P(k,o),k.forEach(f),i=A(w),w.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(n,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(r[3]==="personalization"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(g,w){O(g,e,w),c(e,t),ae(l,t,null),c(e,s),c(e,n),c(n,a),c(e,i),p=!0,b||(_=te(e,"click",r[14]),b=!0)},p(g,w){(!p||w[0]&16)&&o!==(o=g[4].t("Personalization")+"")&&j(a,o),(!p||w[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(g[3]==="personalization"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",d)},i(g){p||(W(l.$$.fragment,g),p=!0)},o(g){K(l.$$.fragment,g),p=!1},d(g){g&&f(e),oe(l),b=!1,_()}}}function Sh(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',s,n,o=r[4].t("Interface")+"",a,i,d,p,b;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),i=V(),this.h()},l(_){e=m(_,"BUTTON",{class:!0});var g=v(e);t=m(g,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-183k9gv"&&(t.innerHTML=l),s=A(g),n=m(g,"DIV",{class:!0});var w=v(n);a=P(w,o),w.forEach(f),i=A(g),g.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(n,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(r[3]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(_,g){O(_,e,g),c(e,t),c(e,s),c(e,n),c(n,a),c(e,i),p||(b=te(e,"click",r[13]),p=!0)},p(_,g){g[0]&16&&o!==(o=_[4].t("Interface")+"")&&j(a,o),g[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(_[3]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:ye,o:ye,d(_){_&&f(e),p=!1,b()}}}function Nh(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',s,n,o=r[4].t("General")+"",a,i,d,p,b;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),i=V(),this.h()},l(_){e=m(_,"BUTTON",{class:!0});var g=v(e);t=m(g,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-d0uebp"&&(t.innerHTML=l),s=A(g),n=m(g,"DIV",{class:!0});var w=v(n);a=P(w,o),w.forEach(f),i=A(g),g.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(n,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(r[3]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(_,g){O(_,e,g),c(e,t),c(e,s),c(e,n),c(n,a),c(e,i),p||(b=te(e,"click",r[12]),p=!0)},p(_,g){g[0]&16&&o!==(o=_[4].t("General")+"")&&j(a,o),g[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(_[3]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},i:ye,o:ye,d(_){_&&f(e),p=!1,b()}}}function vo(r){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',s,n,o=r[4].t("Admin Settings")+"",a,i,d,p,b;return{c(){e=h("button"),t=h("div"),t.innerHTML=l,s=V(),n=h("div"),a=U(o),i=V(),this.h()},l(_){e=m(_,"BUTTON",{class:!0});var g=v(e);t=m(g,"DIV",{class:!0,"data-svelte-h":!0}),xe(t)!=="svelte-1rekzwz"&&(t.innerHTML=l),s=A(g),n=m(g,"DIV",{class:!0});var w=v(n);a=P(w,o),w.forEach(f),i=A(g),g.forEach(f),this.h()},h(){u(t,"class","self-center mr-2"),u(n,"class","self-center"),u(e,"class",d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(r[3]==="admin"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(_,g){O(_,e,g),c(e,t),c(e,s),c(e,n),c(n,a),c(e,i),p||(b=te(e,"click",r[19]),p=!0)},p(_,g){g[0]&16&&o!==(o=_[4].t("Admin Settings")+"")&&j(a,o),g[0]&8&&d!==(d="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(_[3]==="admin"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",d)},d(_){_&&f(e),p=!1,b()}}}function go(r,e){let t,l,s,n,o;const a=[Nh,Sh,Ch,Ah,Vh,Th,$h,Dh],i=[];function d(p,b){return p[33]==="general"?0:p[33]==="interface"?1:p[33]==="personalization"?2:p[33]==="audio"?3:p[33]==="chats"?4:p[33]==="account"?5:p[33]==="about"?6:p[33]==="admin"?7:-1}return~(l=d(e))&&(s=i[l]=a[l](e)),{key:r,first:null,c(){t=ft(),s&&s.c(),n=ft(),this.h()},l(p){t=ft(),s&&s.l(p),n=ft(),this.h()},h(){this.first=t},m(p,b){O(p,t,b),~l&&i[l].m(p,b),O(p,n,b),o=!0},p(p,b){e=p;let _=l;l=d(e),l===_?~l&&i[l].p(e,b):(s&&(qe(),K(i[_],1,1,()=>{i[_]=null}),Ge()),~l?(s=i[l],s?s.p(e,b):(s=i[l]=a[l](e),s.c()),W(s,1),s.m(n.parentNode,n)):s=null)},i(p){o||(W(s),o=!0)},o(p){K(s),o=!1},d(p){p&&(f(t),f(n)),~l&&i[l].d(p)}}}function Lh(r){let e,t;return e=new Wu({}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p:ye,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Mh(r){let e,t;return e=new xu({props:{saveHandler:r[24]}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const n={};s[0]&16&&(n.saveHandler=l[24]),e.$set(n)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Oh(r){let e,t;return e=new lh({props:{saveSettings:r[8]}}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p:ye,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Bh(r){let e,t;return e=new Kd({props:{saveSettings:r[8]}}),e.$on("save",r[23]),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p:ye,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Uh(r){let e,t;return e=new yh({props:{saveSettings:r[8]}}),e.$on("save",r[22]),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p:ye,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ph(r){let e,t;return e=new xd({props:{saveSettings:r[8]}}),e.$on("save",r[21]),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p:ye,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Hh(r){let e,t;return e=new Qu({props:{getModels:r[9],saveSettings:r[8]}}),e.$on("save",r[20]),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p:ye,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function xh(r){let e,t,l,s=r[4].t("Settings")+"",n,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,p,b,_,g,w,I,k,$,B,y,E,D,T,C,M,S,H,q;w=new fc({props:{className:"size-3.5"}});const X=[Ih,Eh],N=[];function L(R,x){return R[2].length>0?0:1}y=L(r),E=N[y]=X[y](r);const Y=[Hh,Ph,Uh,Bh,Oh,Mh,Lh],Z=[];function F(R,x){return R[3]==="general"?0:R[3]==="interface"?1:R[3]==="personalization"?2:R[3]==="audio"?3:R[3]==="chats"?4:R[3]==="account"?5:R[3]==="about"?6:-1}return~(C=F(r))&&(M=Z[C]=Y[C](r)),{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=h("button"),a.innerHTML=i,d=V(),p=h("div"),b=h("div"),_=h("div"),g=h("div"),re(w.$$.fragment),I=V(),k=h("input"),B=V(),E.c(),D=V(),T=h("div"),M&&M.c(),this.h()},l(R){e=m(R,"DIV",{class:!0});var x=v(e);t=m(x,"DIV",{class:!0});var z=v(t);l=m(z,"DIV",{class:!0});var Q=v(l);n=P(Q,s),Q.forEach(f),o=A(z),a=m(z,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(a)!=="svelte-745w2y"&&(a.innerHTML=i),z.forEach(f),d=A(x),p=m(x,"DIV",{class:!0});var J=v(p);b=m(J,"DIV",{id:!0,class:!0});var ee=v(b);_=m(ee,"DIV",{class:!0,id:!0});var ce=v(_);g=m(ce,"DIV",{class:!0});var fe=v(g);ne(w.$$.fragment,fe),fe.forEach(f),I=A(ce),k=m(ce,"INPUT",{class:!0,placeholder:!0}),ce.forEach(f),B=A(ee),E.l(ee),ee.forEach(f),D=A(J),T=m(J,"DIV",{class:!0});var he=v(T);M&&M.l(he),he.forEach(f),J.forEach(f),x.forEach(f),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(a,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),u(g,"class","self-center rounded-l-xl bg-transparent"),u(k,"class","w-full py-1.5 text-sm bg-transparent dark:text-gray-300 outline-none svelte-1vx7r9s"),u(k,"placeholder",$=r[4].t("Search")),u(_,"class","hidden md:flex w-full rounded-xl -mb-1 px-0.5 gap-2"),u(_,"id","settings-search"),u(b,"id","settings-tabs-container"),u(b,"class","tabs flex flex-row overflow-x-auto gap-2.5 md:gap-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-sm font-medium text-left mb-1 md:mb-0 -translate-y-1 svelte-1vx7r9s"),u(T,"class","flex-1 md:min-h-[32rem] max-h-[32rem]"),u(p,"class","flex flex-col md:flex-row w-full px-4 pt-1 pb-4 md:space-x-4"),u(e,"class","text-gray-700 dark:text-gray-100")},m(R,x){O(R,e,x),c(e,t),c(t,l),c(l,n),c(t,o),c(t,a),c(e,d),c(e,p),c(p,b),c(b,_),c(_,g),ae(w,g,null),c(_,I),c(_,k),Re(k,r[1]),c(b,B),N[y].m(b,null),c(p,D),c(p,T),~C&&Z[C].m(T,null),S=!0,H||(q=[te(a,"click",r[10]),te(k,"input",r[11]),te(k,"input",r[7])],H=!0)},p(R,x){(!S||x[0]&16)&&s!==(s=R[4].t("Settings")+"")&&j(n,s),(!S||x[0]&16&&$!==($=R[4].t("Search")))&&u(k,"placeholder",$),x[0]&2&&k.value!==R[1]&&Re(k,R[1]);let z=y;y=L(R),y===z?N[y].p(R,x):(qe(),K(N[z],1,1,()=>{N[z]=null}),Ge(),E=N[y],E?E.p(R,x):(E=N[y]=X[y](R),E.c()),W(E,1),E.m(b,null));let Q=C;C=F(R),C===Q?~C&&Z[C].p(R,x):(M&&(qe(),K(Z[Q],1,1,()=>{Z[Q]=null}),Ge()),~C?(M=Z[C],M?M.p(R,x):(M=Z[C]=Y[C](R),M.c()),W(M,1),M.m(T,null)):M=null)},i(R){S||(W(w.$$.fragment,R),W(E),W(M),S=!0)},o(R){K(w.$$.fragment,R),K(E),K(M),S=!1},d(R){R&&f(e),oe(w),N[y].d(),~C&&Z[C].d(),H=!1,it(q)}}}function jh(r){let e,t,l;function s(o){r[25](o)}let n={size:"xl",$$slots:{default:[xh]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.show=r[0]),e=new Ql({props:n}),lt.push(()=>pt(e,"show",s)),{c(){re(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){ae(e,o,a),l=!0},p(o,a){const i={};a[0]&63|a[1]&32&&(i.$$scope={dirty:a,ctx:o}),!t&&a[0]&1&&(t=!0,i.show=o[0],mt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){K(e.$$.fragment,o),l=!1},d(o){oe(e,o)}}}function zh(r,e,t){let l,s,n;Ve(r,al,z=>t(27,l=z)),Ve(r,Bl,z=>t(5,n=z));const o=gt("i18n");Ve(r,o,z=>t(4,s=z));let{show:a=!1}=e;const i=[{id:"general",title:"General",keywords:["general","theme","language","notifications","system","systemprompt","prompt","advanced","settings","defaultsettings","configuration","systemsettings","notificationsettings","systempromptconfig","languageoptions","defaultparameters","systemparameters"]},{id:"interface",title:"Interface",keywords:["defaultmodel","selectmodel","ui","userinterface","display","layout","design","landingpage","landingpagemode","default","chat","chatbubble","chatui","username","showusername","displayusername","widescreen","widescreenmode","fullscreen","expandmode","chatdirection","lefttoright","ltr","righttoleft","rtl","notifications","toast","toastnotifications","largechunks","streamlargechunks","scroll","scrollonbranchchange","scrollbehavior","richtext","richtextinput","background","chatbackground","chatbackgroundimage","backgroundimage","uploadbackground","resetbackground","titleautogen","titleautogeneration","autotitle","chattags","autochattags","responseautocopy","clipboard","location","userlocation","userlocationaccess","haptic","hapticfeedback","vibration","voice","voicecontrol","voiceinterruption","call","emojis","displayemoji","save","interfaceoptions","interfacecustomization"]},{id:"personalization",title:"Personalization",keywords:["personalization","memory","personalize","preferences","profile","personalsettings","customsettings","userpreferences","accountpreferences"]},{id:"audio",title:"Audio",keywords:["audio","sound","soundsettings","audiocontrol","volume","speech","speechrecognition","stt","speechtotext","tts","texttospeech","playback","playbackspeed","voiceplayback","speechplayback","audiooutput","speechengine","voicecontrol","audioplayback","transcription","autotranscribe","autosend","speechsettings","audiovoice","voiceoptions","setvoice","nonlocalvoices","savesettings","audioconfig","speechconfig","voicerecognition","speechsynthesis","speechmode","voicespeed","speechrate","speechspeed","audioinput","audiofeatures","voicemodes"]},{id:"chats",title:"Chats",keywords:["chat","messages","conversations","chatsettings","history","chathistory","messagehistory","messagearchive","convo","chats","conversationhistory","exportmessages","chatactivity"]},{id:"account",title:"Account",keywords:["account","profile","security","privacy","settings","login","useraccount","userdata","api","apikey","userprofile","profiledetails","accountsettings","accountpreferences","securitysettings","privacysettings"]},{id:"admin",title:"Admin",keywords:["admin","administrator","adminsettings","adminpanel","systemadmin","administratoraccess","systemcontrol","manage","management","admincontrols","adminfeatures","usercontrol","arenamodel","evaluations","websearch","database","pipelines","images","audio","documents","rag","models","ollama","openai","users"]},{id:"about",title:"About",keywords:["about","info","information","version","documentation","help","support","details","aboutus","softwareinfo","timothyjaeryangbaek","openwebui","release","updates","updateinfo","versioninfo","aboutapp","terms","termsandconditions","contact","aboutpage"]}];let d="",p=i.map(z=>z.id),b;const _=z=>{const Q=z.toLowerCase().trim();return i.filter(J=>J.title.toLowerCase().includes(Q)||J.keywords.some(ee=>ee.includes(Q))).map(J=>J.id)},g=()=>{clearTimeout(b),b=setTimeout(()=>{t(2,p=_(d)),p.length>0&&!p.includes(k)&&t(3,k=p[0])},100)},w=async z=>{console.log(z),await al.set({...l,...z}),await Po.set(await I()),await zo(localStorage.token,{ui:l})},I=async()=>await xo(localStorage.token);let k="general";const $=z=>{const Q=document.getElementById("settings-tabs-container");Q&&(z.preventDefault(),Q.scrollLeft+=z.deltaY)},B=async()=>{await Fl();const z=document.getElementById("settings-tabs-container");z&&z.addEventListener("wheel",$)},y=async()=>{await Fl();const z=document.getElementById("settings-tabs-container");z&&z.removeEventListener("wheel",$)},E=()=>{t(0,a=!1)};function D(){d=this.value,t(1,d)}const T=()=>{t(3,k="general")},C=()=>{t(3,k="interface")},M=()=>{t(3,k="personalization")},S=()=>{t(3,k="audio")},H=()=>{t(3,k="chats")},q=()=>{t(3,k="account")},X=()=>{t(3,k="about")},N=async()=>{await Ol("/admin/settings"),t(0,a=!1)},L=()=>{Ue.success(s.t("Settings saved successfully!"))},Y=()=>{Ue.success(s.t("Settings saved successfully!"))},Z=()=>{Ue.success(s.t("Settings saved successfully!"))},F=()=>{Ue.success(s.t("Settings saved successfully!"))},R=()=>{Ue.success(s.t("Settings saved successfully!"))};function x(z){a=z,t(0,a)}return r.$$set=z=>{"show"in z&&t(0,a=z.show)},r.$$.update=()=>{r.$$.dirty[0]&1&&(a?B():y())},[a,d,p,k,s,n,o,g,w,I,E,D,T,C,M,S,H,q,X,N,L,Y,Z,F,R,x]}class Rh extends at{constructor(e){super(),ot(this,e,zh,jh,nt,{show:0},null,[-1,-1])}}function bo(r,e,t){const l=r.slice();return l[18]=e[t],l}function wo(r){let e,t=Xe({length:r[6]}),l=[];for(let s=0;s<t.length;s+=1)l[s]=ko(bo(r,t,s));return{c(){e=h("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=m(s,"DIV",{class:!0});var n=v(e);for(let o=0;o<l.length;o+=1)l[o].l(n);n.forEach(f),this.h()},h(){u(e,"class","confetti-holder svelte-io58ff"),Wl(e,"rounded",r[9]),Wl(e,"cone",r[10]),Wl(e,"no-gravity",r[11])},m(s,n){O(s,e,n);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,n){if(n&20991){t=Xe({length:s[6]});let o;for(o=0;o<t.length;o+=1){const a=bo(s,t,o);l[o]?l[o].p(a,n):(l[o]=ko(a),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}n&512&&Wl(e,"rounded",s[9]),n&1024&&Wl(e,"cone",s[10]),n&2048&&Wl(e,"no-gravity",s[11])},d(s){s&&f(e),Ct(l,s)}}}function ko(r){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{class:!0,style:!0}),v(e).forEach(f),this.h()},h(){u(e,"class","confetti svelte-io58ff"),ht(e,"--fall-distance",r[8]),ht(e,"--size",r[0]+"px"),ht(e,"--color",r[14]()),ht(e,"--skew",Vt(-45,45)+"deg,"+Vt(-45,45)+"deg"),ht(e,"--rotation-xyz",Vt(-10,10)+", "+Vt(-10,10)+", "+Vt(-10,10)),ht(e,"--rotation-deg",Vt(0,360)+"deg"),ht(e,"--translate-y-multiplier",Vt(r[2][0],r[2][1])),ht(e,"--translate-x-multiplier",Vt(r[1][0],r[1][1])),ht(e,"--scale",.1*Vt(2,10)),ht(e,"--transition-duration",r[4]?`calc(${r[3]}ms * var(--scale))`:`${r[3]}ms`),ht(e,"--transition-delay",Vt(r[5][0],r[5][1])+"ms"),ht(e,"--transition-iteration-count",r[4]?"infinite":r[7]),ht(e,"--x-spread",1-r[12])},m(t,l){O(t,e,l)},p(t,l){l&256&&ht(e,"--fall-distance",t[8]),l&1&&ht(e,"--size",t[0]+"px"),l&4&&ht(e,"--translate-y-multiplier",Vt(t[2][0],t[2][1])),l&2&&ht(e,"--translate-x-multiplier",Vt(t[1][0],t[1][1])),l&24&&ht(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&ht(e,"--transition-delay",Vt(t[5][0],t[5][1])+"ms"),l&144&&ht(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&ht(e,"--x-spread",1-t[12])},d(t){t&&f(e)}}}function Wh(r){let e,t=!r[13]&&wo(r);return{c(){t&&t.c(),e=ft()},l(l){t&&t.l(l),e=ft()},m(l,s){t&&t.m(l,s),O(l,e,s)},p(l,[s]){l[13]?t&&(t.d(1),t=null):t?t.p(l,s):(t=wo(l),t.c(),t.m(e.parentNode,e))},i:ye,o:ye,d(l){l&&f(e),t&&t.d(l)}}}function Vt(r,e){return Math.random()*(e-r)+r}function Fh(r,e,t){let{size:l=10}=e,{x:s=[-.5,.5]}=e,{y:n=[.25,1]}=e,{duration:o=2e3}=e,{infinite:a=!1}=e,{delay:i=[0,50]}=e,{colorRange:d=[0,360]}=e,{colorArray:p=[]}=e,{amount:b=50}=e,{iterationCount:_=1}=e,{fallDistance:g="100px"}=e,{rounded:w=!1}=e,{cone:I=!1}=e,{noGravity:k=!1}=e,{xSpread:$=.15}=e,{destroyOnComplete:B=!0}=e,y=!1;$t(()=>{!B||a||_=="infinite"||setTimeout(()=>t(13,y=!0),(o+i[1])*_)});function E(){return p.length?p[Math.round(Math.random()*(p.length-1))]:`hsl(${Math.round(Vt(d[0],d[1]))}, 75%, 50%)`}return r.$$set=D=>{"size"in D&&t(0,l=D.size),"x"in D&&t(1,s=D.x),"y"in D&&t(2,n=D.y),"duration"in D&&t(3,o=D.duration),"infinite"in D&&t(4,a=D.infinite),"delay"in D&&t(5,i=D.delay),"colorRange"in D&&t(15,d=D.colorRange),"colorArray"in D&&t(16,p=D.colorArray),"amount"in D&&t(6,b=D.amount),"iterationCount"in D&&t(7,_=D.iterationCount),"fallDistance"in D&&t(8,g=D.fallDistance),"rounded"in D&&t(9,w=D.rounded),"cone"in D&&t(10,I=D.cone),"noGravity"in D&&t(11,k=D.noGravity),"xSpread"in D&&t(12,$=D.xSpread),"destroyOnComplete"in D&&t(17,B=D.destroyOnComplete)},[l,s,n,o,a,i,b,_,g,w,I,k,$,y,E,d,p,B]}class Zh extends at{constructor(e){super(),ot(this,e,Fh,Wh,nt,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function yo(r,e,t){const l=r.slice();return l[10]=e[t],l}function Eo(r,e,t){const l=r.slice();return l[13]=e[t],l}function Io(r,e,t){const l=r.slice();return l[16]=e[t],l}function Do(r){let e,t=Xe(Object.keys(r[1])),l=[];for(let s=0;s<t.length;s+=1)l[s]=Vo(yo(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ft()},l(s){for(let n=0;n<l.length;n+=1)l[n].l(s);e=ft()},m(s,n){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,n);O(s,e,n)},p(s,n){if(n&2){t=Xe(Object.keys(s[1]));let o;for(o=0;o<t.length;o+=1){const a=yo(s,t,o);l[o]?l[o].p(a,n):(l[o]=Vo(a),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&f(e),Ct(l,s)}}}function $o(r){let e,t,l=r[1][r[10]][r[13]][r[16]].title+"",s,n,o,a=r[1][r[10]][r[13]][r[16]].content+"",i;return{c(){e=h("div"),t=h("div"),s=U(l),n=V(),o=h("div"),i=U(a),this.h()},l(d){e=m(d,"DIV",{class:!0});var p=v(e);t=m(p,"DIV",{class:!0});var b=v(t);s=P(b,l),b.forEach(f),n=A(p),o=m(p,"DIV",{class:!0});var _=v(o);i=P(_,a),_.forEach(f),p.forEach(f),this.h()},h(){u(t,"class","font-semibold uppercase"),u(o,"class","mb-2 mt-1"),u(e,"class","text-sm mb-2")},m(d,p){O(d,e,p),c(e,t),c(t,s),c(e,n),c(e,o),c(o,i)},p(d,p){p&2&&l!==(l=d[1][d[10]][d[13]][d[16]].title+"")&&j(s,l),p&2&&a!==(a=d[1][d[10]][d[13]][d[16]].content+"")&&j(i,a)},d(d){d&&f(e)}}}function To(r){let e,t,l=r[13]+"",s,n,o,a,i=Xe(Object.keys(r[1][r[10]][r[13]])),d=[];for(let p=0;p<i.length;p+=1)d[p]=$o(Io(r,i,p));return{c(){e=h("div"),t=h("div"),s=U(l),o=V(),a=h("div");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=m(p,"DIV",{class:!0});var b=v(e);t=m(b,"DIV",{class:!0});var _=v(t);s=P(_,l),_.forEach(f),o=A(b),a=m(b,"DIV",{class:!0});var g=v(a);for(let w=0;w<d.length;w+=1)d[w].l(g);g.forEach(f),b.forEach(f),this.h()},h(){u(t,"class",n="font-semibold uppercase text-xs "+(r[13]==="added"?"text-white bg-blue-600":r[13]==="fixed"?"text-white bg-green-600":r[13]==="changed"?"text-white bg-yellow-600":r[13]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),u(a,"class","my-2.5 px-1.5"),u(e,"class","")},m(p,b){O(p,e,b),c(e,t),c(t,s),c(e,o),c(e,a);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(a,null)},p(p,b){if(b&2&&l!==(l=p[13]+"")&&j(s,l),b&2&&n!==(n="font-semibold uppercase text-xs "+(p[13]==="added"?"text-white bg-blue-600":p[13]==="fixed"?"text-white bg-green-600":p[13]==="changed"?"text-white bg-yellow-600":p[13]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&u(t,"class",n),b&2){i=Xe(Object.keys(p[1][p[10]][p[13]]));let _;for(_=0;_<i.length;_+=1){const g=Io(p,i,_);d[_]?d[_].p(g,b):(d[_]=$o(g),d[_].c(),d[_].m(a,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=i.length}},d(p){p&&f(e),Ct(d,p)}}}function Vo(r){let e,t,l,s=r[10]+"",n,o,a=r[1][r[10]].date+"",i,d,p,b,_,g=Xe(Object.keys(r[1][r[10]]).filter(Ao)),w=[];for(let I=0;I<g.length;I+=1)w[I]=To(Eo(r,g,I));return{c(){e=h("div"),t=h("div"),l=U("v"),n=U(s),o=U(" - "),i=U(a),d=V(),p=h("hr"),b=V();for(let I=0;I<w.length;I+=1)w[I].c();_=V(),this.h()},l(I){e=m(I,"DIV",{class:!0});var k=v(e);t=m(k,"DIV",{class:!0});var $=v(t);l=P($,"v"),n=P($,s),o=P($," - "),i=P($,a),$.forEach(f),d=A(k),p=m(k,"HR",{class:!0}),b=A(k);for(let B=0;B<w.length;B+=1)w[B].l(k);_=A(k),k.forEach(f),this.h()},h(){u(t,"class","font-semibold text-xl mb-1 dark:text-white"),u(p,"class","dark:border-gray-800 my-2"),u(e,"class","mb-3 pr-2")},m(I,k){O(I,e,k),c(e,t),c(t,l),c(t,n),c(t,o),c(t,i),c(e,d),c(e,p),c(e,b);for(let $=0;$<w.length;$+=1)w[$]&&w[$].m(e,null);c(e,_)},p(I,k){if(k&2&&s!==(s=I[10]+"")&&j(n,s),k&2&&a!==(a=I[1][I[10]].date+"")&&j(i,a),k&2){g=Xe(Object.keys(I[1][I[10]]).filter(Ao));let $;for($=0;$<g.length;$+=1){const B=Eo(I,g,$);w[$]?w[$].p(B,k):(w[$]=To(B),w[$].c(),w[$].m(e,_))}for(;$<w.length;$+=1)w[$].d(1);w.length=g.length}},d(I){I&&f(e),Ct(w,I)}}}function Yh(r){let e,t,l,s=r[2].t("Whats New in")+"",n,o,a,i,d,p,b,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,w,I,k=r[2].t("Release Notes")+"",$,B,y,E,D,T,C,M,S,H,q,X,N,L,Y,Z=r[2].t("Okay, Let's Go!")+"",F,R,x,z;d=new Zh({props:{x:[-1,-.25],y:[0,.5]}});let Q=r[1]&&Do(r);return{c(){e=h("div"),t=h("div"),l=h("div"),n=U(s),o=V(),a=U(r[3]),i=V(),re(d.$$.fragment),p=V(),b=h("button"),b.innerHTML=_,g=V(),w=h("div"),I=h("div"),$=U(k),B=V(),y=h("div"),E=V(),D=h("div"),T=U("v"),C=U(fl),M=V(),S=h("div"),H=h("div"),q=h("div"),Q&&Q.c(),X=V(),N=h("div"),L=h("button"),Y=h("span"),F=U(Z),this.h()},l(J){e=m(J,"DIV",{class:!0});var ee=v(e);t=m(ee,"DIV",{class:!0});var ce=v(t);l=m(ce,"DIV",{class:!0});var fe=v(l);n=P(fe,s),o=A(fe),a=P(fe,r[3]),i=A(fe),ne(d.$$.fragment,fe),fe.forEach(f),p=A(ce),b=m(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(b)!=="svelte-14wj4tl"&&(b.innerHTML=_),ce.forEach(f),g=A(ee),w=m(ee,"DIV",{class:!0});var he=v(w);I=m(he,"DIV",{class:!0});var ge=v(I);$=P(ge,k),ge.forEach(f),B=A(he),y=m(he,"DIV",{class:!0}),v(y).forEach(f),E=A(he),D=m(he,"DIV",{class:!0});var ke=v(D);T=P(ke,"v"),C=P(ke,fl),ke.forEach(f),he.forEach(f),ee.forEach(f),M=A(J),S=m(J,"DIV",{class:!0});var Ne=v(S);H=m(Ne,"DIV",{class:!0});var Ae=v(H);q=m(Ae,"DIV",{class:!0});var Ie=v(q);Q&&Q.l(Ie),Ie.forEach(f),Ae.forEach(f),X=A(Ne),N=m(Ne,"DIV",{class:!0});var me=v(N);L=m(me,"BUTTON",{class:!0});var pe=v(L);Y=m(pe,"SPAN",{class:!0});var se=v(Y);F=P(se,Z),se.forEach(f),pe.forEach(f),me.forEach(f),Ne.forEach(f),this.h()},h(){u(l,"class","text-xl font-semibold"),u(b,"class","self-center"),u(t,"class","flex justify-between items-start"),u(I,"class","text-sm dark:text-gray-200"),u(y,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),u(D,"class","text-sm dark:text-gray-200"),u(w,"class","flex items-center mt-1"),u(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),u(q,"class","mb-3"),u(H,"class","overflow-y-scroll max-h-96 scrollbar-hidden"),u(Y,"class","relative"),u(L,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),u(N,"class","flex justify-end pt-3 text-sm font-medium"),u(S,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(J,ee){O(J,e,ee),c(e,t),c(t,l),c(l,n),c(l,o),c(l,a),c(l,i),ae(d,l,null),c(t,p),c(t,b),c(e,g),c(e,w),c(w,I),c(I,$),c(w,B),c(w,y),c(w,E),c(w,D),c(D,T),c(D,C),O(J,M,ee),O(J,S,ee),c(S,H),c(H,q),Q&&Q.m(q,null),c(S,X),c(S,N),c(N,L),c(L,Y),c(Y,F),R=!0,x||(z=[te(b,"click",r[7]),te(L,"click",r[8])],x=!0)},p(J,ee){(!R||ee&4)&&s!==(s=J[2].t("Whats New in")+"")&&j(n,s),(!R||ee&8)&&j(a,J[3]),(!R||ee&4)&&k!==(k=J[2].t("Release Notes")+"")&&j($,k),J[1]?Q?Q.p(J,ee):(Q=Do(J),Q.c(),Q.m(q,null)):Q&&(Q.d(1),Q=null),(!R||ee&4)&&Z!==(Z=J[2].t("Okay, Let's Go!")+"")&&j(F,Z)},i(J){R||(W(d.$$.fragment,J),R=!0)},o(J){K(d.$$.fragment,J),R=!1},d(J){J&&(f(e),f(M),f(S)),oe(d),Q&&Q.d(),x=!1,it(z)}}}function Jh(r){let e,t,l;function s(o){r[9](o)}let n={size:"lg",$$slots:{default:[Yh]},$$scope:{ctx:r}};return r[0]!==void 0&&(n.show=r[0]),e=new Ql({props:n}),lt.push(()=>pt(e,"show",s)),{c(){re(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){ae(e,o,a),l=!0},p(o,[a]){const i={};a&524351&&(i.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,i.show=o[0],mt(()=>t=!1)),e.$set(i)},i(o){l||(W(e.$$.fragment,o),l=!0)},o(o){K(e.$$.fragment,o),l=!1},d(o){oe(e,o)}}}const Ao=r=>r!=="date";function Kh(r,e,t){let l,s,n,o;Ve(r,Uo,g=>t(3,s=g)),Ve(r,ms,g=>t(4,n=g)),Ve(r,al,g=>t(5,o=g));const a=gt("i18n");Ve(r,a,g=>t(2,l=g));let{show:i=!1}=e,d=null;$t(async()=>{const g=await gi();t(1,d=g)});const p=()=>{localStorage.version=n.version,t(0,i=!1)},b=async()=>{localStorage.version=n.version,await al.set({...o,version:n.version}),await zo(localStorage.token,{ui:o}),t(0,i=!1)};function _(g){i=g,t(0,i)}return r.$$set=g=>{"show"in g&&t(0,i=g.show)},[i,d,l,s,n,o,a,p,b,_]}class qh extends at{constructor(e){super(),ot(this,e,Kh,Jh,nt,{show:0})}}function Co(r){let e,t,l=r[1].t("Admin")+"",s,n,o=r[0].name+"",a,i,d=r[0].email+"",p,b;return{c(){e=h("div"),t=h("div"),s=U(l),n=U(": "),a=U(o),i=U(" ("),p=U(d),b=U(")"),this.h()},l(_){e=m(_,"DIV",{class:!0});var g=v(e);t=m(g,"DIV",{});var w=v(t);s=P(w,l),n=P(w,": "),a=P(w,o),i=P(w," ("),p=P(w,d),b=P(w,")"),w.forEach(f),g.forEach(f),this.h()},h(){u(e,"class","mt-4 text-sm font-medium text-center")},m(_,g){O(_,e,g),c(e,t),c(t,s),c(t,n),c(t,a),c(t,i),c(t,p),c(t,b)},p(_,g){g&2&&l!==(l=_[1].t("Admin")+"")&&j(s,l),g&1&&o!==(o=_[0].name+"")&&j(a,o),g&1&&d!==(d=_[0].email+"")&&j(p,d)},d(_){_&&f(e)}}}function Gh(r){let e,t,l,s,n,o=r[1].t("Account Activation Pending")+"",a,i,d,p=r[1].t("Contact Admin for WebUI Access")+"",b,_,g,w=r[1].t("Your account status is currently pending activation.")+"",I,k,$,B=r[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",y,E,D,T,C,M=r[1].t("Check Again")+"",S,H,q,X=r[1].t("Sign Out")+"",N,L,Y,Z=r[0]&&Co(r);return{c(){e=h("div"),t=h("div"),l=h("div"),s=h("div"),n=h("div"),a=U(o),i=h("br"),d=V(),b=U(p),_=V(),g=h("div"),I=U(w),k=h("br"),$=V(),y=U(B),E=V(),Z&&Z.c(),D=V(),T=h("div"),C=h("button"),S=U(M),H=V(),q=h("button"),N=U(X),this.h()},l(F){e=m(F,"DIV",{class:!0});var R=v(e);t=m(R,"DIV",{class:!0});var x=v(t);l=m(x,"DIV",{class:!0});var z=v(l);s=m(z,"DIV",{class:!0});var Q=v(s);n=m(Q,"DIV",{class:!0});var J=v(n);a=P(J,o),i=m(J,"BR",{}),d=A(J),b=P(J,p),J.forEach(f),_=A(Q),g=m(Q,"DIV",{class:!0});var ee=v(g);I=P(ee,w),k=m(ee,"BR",{}),$=A(ee),y=P(ee,B),ee.forEach(f),E=A(Q),Z&&Z.l(Q),D=A(Q),T=m(Q,"DIV",{class:!0});var ce=v(T);C=m(ce,"BUTTON",{class:!0});var fe=v(C);S=P(fe,M),fe.forEach(f),H=A(ce),q=m(ce,"BUTTON",{class:!0});var he=v(q);N=P(he,X),he.forEach(f),ce.forEach(f),Q.forEach(f),z.forEach(f),x.forEach(f),R.forEach(f),this.h()},h(){u(n,"class","text-center dark:text-white text-2xl font-medium z-50"),u(g,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),u(C,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),u(q,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),u(T,"class","mt-6 mx-auto relative group w-fit"),u(s,"class","max-w-md"),u(l,"class","m-auto pb-10 flex flex-col justify-center"),u(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),u(e,"class","fixed w-full h-full flex z-[999]")},m(F,R){O(F,e,R),c(e,t),c(t,l),c(l,s),c(s,n),c(n,a),c(n,i),c(n,d),c(n,b),c(s,_),c(s,g),c(g,I),c(g,k),c(g,$),c(g,y),c(s,E),Z&&Z.m(s,null),c(s,D),c(s,T),c(T,C),c(C,S),c(T,H),c(T,q),c(q,N),L||(Y=[te(C,"click",r[3]),te(q,"click",r[4])],L=!0)},p(F,[R]){R&2&&o!==(o=F[1].t("Account Activation Pending")+"")&&j(a,o),R&2&&p!==(p=F[1].t("Contact Admin for WebUI Access")+"")&&j(b,p),R&2&&w!==(w=F[1].t("Your account status is currently pending activation.")+"")&&j(I,w),R&2&&B!==(B=F[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&j(y,B),F[0]?Z?Z.p(F,R):(Z=Co(F),Z.c(),Z.m(s,D)):Z&&(Z.d(1),Z=null),R&2&&M!==(M=F[1].t("Check Again")+"")&&j(S,M),R&2&&X!==(X=F[1].t("Sign Out")+"")&&j(N,X)},i:ye,o:ye,d(F){F&&f(e),Z&&Z.d(),L=!1,it(Y)}}}function Xh(r,e,t){let l;const s=gt("i18n");Ve(r,s,i=>t(1,l=i));let n=null;return $t(async()=>{t(0,n=await rc(localStorage.token).catch(i=>(console.error(i),null)))}),[n,l,s,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class Qh extends at{constructor(e){super(),ot(this,e,Xh,Gh,nt,{})}}function e1(r){let e,t,l=r[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:r[0].latest})+"",s,n,o,a=r[1].t("Update for the latest features and improvements.")+"",i,d,p,b,_,g,w,I;return _=new Jo({}),{c(){e=h("div"),t=h("div"),s=U(l),n=V(),o=h("a"),i=U(a),d=V(),p=h("div"),b=h("button"),re(_.$$.fragment),this.h()},l(k){e=m(k,"DIV",{class:!0});var $=v(e);t=m($,"DIV",{class:!0});var B=v(t);s=P(B,l),n=A(B),o=m(B,"A",{href:!0,target:!0,class:!0});var y=v(o);i=P(y,a),y.forEach(f),B.forEach(f),d=A($),p=m($,"DIV",{class:!0});var E=v(p);b=m(E,"BUTTON",{class:!0});var D=v(b);ne(_.$$.fragment,D),D.forEach(f),E.forEach(f),$.forEach(f),this.h()},h(){u(o,"href","https://github.com/open-webui/open-webui/releases"),u(o,"target","_blank"),u(o,"class","underline"),u(t,"class","flex-1 font-medium"),u(b,"class","hover:text-blue-900 dark:hover:text-blue-300 transition"),u(p,"class","flex-shrink-0 pr-1"),u(e,"class","flex items-start bg-[#F1F8FE] dark:bg-[#020C1D] border border-[3371D5] dark:border-[#03113B] text-[#3371D5] dark:text-[#6795EC] rounded-lg px-3.5 py-3 text-xs max-w-80 pr-2 w-full shadow-lg")},m(k,$){O(k,e,$),c(e,t),c(t,s),c(t,n),c(t,o),c(o,i),c(e,d),c(e,p),c(p,b),ae(_,b,null),g=!0,w||(I=te(b,"click",r[4]),w=!0)},p(k,[$]){(!g||$&3)&&l!==(l=k[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:k[0].latest})+"")&&j(s,l),(!g||$&2)&&a!==(a=k[1].t("Update for the latest features and improvements.")+"")&&j(i,a)},i(k){g||(W(_.$$.fragment,k),g=!0)},o(k){K(_.$$.fragment,k),g=!1},d(k){k&&f(e),oe(_),w=!1,I()}}}function t1(r,e,t){let l;const s=Dt(),n=gt("i18n");Ve(r,n,i=>t(1,l=i));let{version:o={current:fl,latest:fl}}=e;const a=()=>{s("close")};return r.$$set=i=>{"version"in i&&t(0,o=i.version)},[o,l,s,n,a]}class l1 extends at{constructor(e){super(),ot(this,e,t1,e1,nt,{version:0})}}function So(r){let e,t,l,s;return t=new l1({props:{version:r[3]}}),t.$on("close",r[15]),{c(){e=h("div"),re(t.$$.fragment),this.h()},l(n){e=m(n,"DIV",{class:!0});var o=v(e);ne(t.$$.fragment,o),o.forEach(f),this.h()},h(){u(e,"class","absolute bottom-8 right-8 z-50")},m(n,o){O(n,e,o),ae(t,e,null),s=!0},p(n,o){const a={};o&8&&(a.version=n[3]),t.$set(a)},i(n){s||(W(t.$$.fragment,n),n&&(l||Ml(()=>{l=Mo(e,Oo,{duration:100}),l.start()})),s=!0)},o(n){K(t.$$.fragment,n),s=!1},d(n){n&&f(e),oe(t)}}}function No(r){let e,t,l,s,n,o,a;const i=[r1,s1],d=[];function p(g,w){return w&16&&(e=null),e==null&&(e=!["user","admin"].includes(g[4].role)),e?0:g[2].length>0?1:-1}~(t=p(r,-1))&&(l=d[t]=i[t](r)),n=new Tu({});const b=r[12].default,_=Zl(b,r,r[11],null);return{c(){l&&l.c(),s=V(),re(n.$$.fragment),o=V(),_&&_.c()},l(g){l&&l.l(g),s=A(g),ne(n.$$.fragment,g),o=A(g),_&&_.l(g)},m(g,w){~t&&d[t].m(g,w),O(g,s,w),ae(n,g,w),O(g,o,w),_&&_.m(g,w),a=!0},p(g,w){let I=t;t=p(g,w),t===I?~t&&d[t].p(g,w):(l&&(qe(),K(d[I],1,1,()=>{d[I]=null}),Ge()),~t?(l=d[t],l?l.p(g,w):(l=d[t]=i[t](g),l.c()),W(l,1),l.m(s.parentNode,s)):l=null),_&&_.p&&(!a||w&2048)&&Yl(_,b,g,g[11],a?Kl(b,g[11],w,null):Jl(g[11]),null)},i(g){a||(W(l),W(n.$$.fragment,g),W(_,g),a=!0)},o(g){K(l),K(n.$$.fragment,g),K(_,g),a=!1},d(g){g&&(f(s),f(o)),~t&&d[t].d(g),oe(n,g),_&&_.d(g)}}}function s1(r){let e,t,l,s,n,o="Important Update<br/> Action Required for Chat Log Storage",a,i,d=r[8].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",p,b,_,g=r[8].t("Settings")+"",w,I,k=r[8].t("Chats")+"",$,B,y=r[8].t("Import Chats")+"",E,D,T=r[8].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",C,M,S,H,q="Download & Delete",X,N,L=r[8].t("Close")+"",Y,Z,F;return{c(){e=h("div"),t=h("div"),l=h("div"),s=h("div"),n=h("div"),n.innerHTML=o,a=V(),i=h("div"),p=U(d),b=V(),_=h("span"),w=U(g),I=U(" > "),$=U(k),B=U(" > "),E=U(y),D=U(". "),C=U(T),M=V(),S=h("div"),H=h("button"),H.textContent=q,X=V(),N=h("button"),Y=U(L),this.h()},l(R){e=m(R,"DIV",{class:!0});var x=v(e);t=m(x,"DIV",{class:!0});var z=v(t);l=m(z,"DIV",{class:!0});var Q=v(l);s=m(Q,"DIV",{class:!0});var J=v(s);n=m(J,"DIV",{class:!0,"data-svelte-h":!0}),xe(n)!=="svelte-mnqwc6"&&(n.innerHTML=o),a=A(J),i=m(J,"DIV",{class:!0});var ee=v(i);p=P(ee,d),b=A(ee),_=m(ee,"SPAN",{class:!0});var ce=v(_);w=P(ce,g),I=P(ce," > "),$=P(ce,k),B=P(ce," > "),E=P(ce,y),ce.forEach(f),D=P(ee,". "),C=P(ee,T),ee.forEach(f),M=A(J),S=m(J,"DIV",{class:!0});var fe=v(S);H=m(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(H)!=="svelte-1ia8i9q"&&(H.textContent=q),X=A(fe),N=m(fe,"BUTTON",{class:!0});var he=v(N);Y=P(he,L),he.forEach(f),fe.forEach(f),J.forEach(f),Q.forEach(f),z.forEach(f),x.forEach(f),this.h()},h(){u(n,"class","text-center dark:text-white text-2xl font-medium z-50"),u(_,"class","font-semibold dark:text-white"),u(i,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),u(H,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),u(N,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),u(S,"class","mt-6 mx-auto relative group w-fit"),u(s,"class","max-w-md"),u(l,"class","m-auto pb-44 flex flex-col justify-center"),u(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),u(e,"class","fixed w-full h-full flex z-50")},m(R,x){O(R,e,x),c(e,t),c(t,l),c(l,s),c(s,n),c(s,a),c(s,i),c(i,p),c(i,b),c(i,_),c(_,w),c(_,I),c(_,$),c(_,B),c(_,E),c(i,D),c(i,C),c(s,M),c(s,S),c(S,H),c(S,X),c(S,N),c(N,Y),Z||(F=[te(H,"click",r[16]),te(N,"click",r[17])],Z=!0)},p(R,x){x&256&&d!==(d=R[8].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&j(p,d),x&256&&g!==(g=R[8].t("Settings")+"")&&j(w,g),x&256&&k!==(k=R[8].t("Chats")+"")&&j($,k),x&256&&y!==(y=R[8].t("Import Chats")+"")&&j(E,y),x&256&&T!==(T=R[8].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&j(C,T),x&256&&L!==(L=R[8].t("Close")+"")&&j(Y,L)},i:ye,o:ye,d(R){R&&f(e),Z=!1,it(F)}}}function r1(r){let e,t;return e=new Qh({}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p:ye,i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function n1(r){var B;let e,t,l,s,n,o,a=r[3]&&Vr(r[3].latest,r[3].current)&&(((B=r[5])==null?void 0:B.showUpdateToast)??!0),i,d,p,b;function _(y){r[13](y)}let g={};r[6]!==void 0&&(g.show=r[6]),e=new Rh({props:g}),lt.push(()=>pt(e,"show",_));function w(y){r[14](y)}let I={};r[7]!==void 0&&(I.show=r[7]),s=new qh({props:I}),lt.push(()=>pt(s,"show",w));let k=a&&So(r),$=r[0]&&No(r);return{c(){re(e.$$.fragment),l=V(),re(s.$$.fragment),o=V(),k&&k.c(),i=V(),d=h("div"),p=h("div"),$&&$.c(),this.h()},l(y){ne(e.$$.fragment,y),l=A(y),ne(s.$$.fragment,y),o=A(y),k&&k.l(y),i=A(y),d=m(y,"DIV",{class:!0});var E=v(d);p=m(E,"DIV",{class:!0});var D=v(p);$&&$.l(D),D.forEach(f),E.forEach(f),this.h()},h(){u(p,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row"),u(d,"class","app relative")},m(y,E){ae(e,y,E),O(y,l,E),ae(s,y,E),O(y,o,E),k&&k.m(y,E),O(y,i,E),O(y,d,E),c(d,p),$&&$.m(p,null),b=!0},p(y,[E]){var C;const D={};!t&&E&64&&(t=!0,D.show=y[6],mt(()=>t=!1)),e.$set(D);const T={};!n&&E&128&&(n=!0,T.show=y[7],mt(()=>n=!1)),s.$set(T),E&40&&(a=y[3]&&Vr(y[3].latest,y[3].current)&&(((C=y[5])==null?void 0:C.showUpdateToast)??!0)),a?k?(k.p(y,E),E&40&&W(k,1)):(k=So(y),k.c(),W(k,1),k.m(i.parentNode,i)):k&&(qe(),K(k,1,1,()=>{k=null}),Ge()),y[0]?$?($.p(y,E),E&1&&W($,1)):($=No(y),$.c(),W($,1),$.m(p,null)):$&&(qe(),K($,1,1,()=>{$=null}),Ge())},i(y){b||(W(e.$$.fragment,y),W(s.$$.fragment,y),W(k),W($),b=!0)},o(y){K(e.$$.fragment,y),K(s.$$.fragment,y),K(k),K($),b=!1},d(y){y&&(f(l),f(o),f(i),f(d)),oe(e,y),oe(s,y),k&&k.d(y),$&&$.d()}}}function a1(r,e,t){let l,s,n,o,a,i,d;Ve(r,Bl,M=>t(4,l=M)),Ve(r,ui,M=>t(18,s=M)),Ve(r,ms,M=>t(19,n=M)),Ve(r,al,M=>t(5,o=M)),Ve(r,wr,M=>t(6,a=M)),Ve(r,tr,M=>t(7,i=M));let{$$slots:p={},$$scope:b}=e;const{saveAs:_}=hs,g=gt("i18n");Ve(r,g,M=>t(8,d=M));let w=!1,I=null,k=[],$;$t(async()=>{if(l===void 0)await Ol("/auth");else if(["user","admin"].includes(l.role)){try{if(t(1,I=await bc("Chats",1)),I){const S=await I.getAllFromIndex("chats","timestamp");t(2,k=S.map((H,q)=>S[S.length-1-q])),k.length===0&&await fa("Chats")}console.log(I)}catch{}const M=await Ti(localStorage.token).catch(S=>(console.error(S),null));if(M)al.set(M.ui);else{let S={};try{S=JSON.parse(localStorage.getItem("settings")??"{}")}catch(H){console.error("Failed to parse settings from localStorage",H)}al.set(S)}if(Po.set(await xo(localStorage.token)),_i.set(await Di(localStorage.token)),vi.set(await Ii(localStorage.token)),document.addEventListener("keydown",function(S){var X,N,L,Y,Z;const H=S.ctrlKey||S.metaKey,q=S.shiftKey;if(H&&q&&S.key.toLowerCase()==="o"&&(S.preventDefault(),console.log("newChat"),(X=document.getElementById("sidebar-new-chat-button"))==null||X.click()),q&&S.key==="Escape"&&(S.preventDefault(),console.log("focusInput"),(N=document.getElementById("chat-input"))==null||N.focus()),H&&q&&S.key===";"){S.preventDefault(),console.log("copyLastCodeBlock");const F=[...document.getElementsByClassName("copy-code-button")].at(-1);F==null||F.click()}if(H&&q&&S.key.toLowerCase()==="c"){S.preventDefault(),console.log("copyLastResponse");const F=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(F),F==null||F.click()}H&&q&&S.key.toLowerCase()==="s"&&(S.preventDefault(),console.log("toggleSidebar"),(L=document.getElementById("sidebar-toggle-button"))==null||L.click()),H&&q&&(S.key==="Backspace"||S.key==="Delete")&&(S.preventDefault(),console.log("deleteChat"),(Y=document.getElementById("delete-chat-button"))==null||Y.click()),H&&S.key==="."&&(S.preventDefault(),console.log("openSettings"),wr.set(!a)),H&&S.key==="/"&&(S.preventDefault(),console.log("showShortcuts"),(Z=document.getElementById("show-shortcuts-button"))==null||Z.click())}),l.role==="admin"&&((o==null?void 0:o.showChangelog)??!0)&&tr.set((o==null?void 0:o.version)!==n.version),s.url.searchParams.get("temporary-chat")==="true"&&Bo.set(!0),l.role==="admin")if(localStorage.dismissedUpdateToast){const S=new Date(Number(localStorage.dismissedUpdateToast));new Date-S>24*60*60*1e3&&B()}else B();await Fl()}t(0,w=!0)});const B=async()=>{t(3,$=await Ho().catch(M=>({current:fl,latest:fl})))};function y(M){a=M,wr.set(a)}function E(M){i=M,tr.set(i)}const D=()=>{localStorage.setItem("dismissedUpdateToast",Date.now().toString()),t(3,$=null)},T=async()=>{let M=new Blob([JSON.stringify(k)],{type:"application/json"});_(M,`chat-export-${Date.now()}.json`);const S=I.transaction("chats","readwrite");await Promise.all([S.store.clear(),S.done]),await fa("Chats"),t(2,k=[])},C=async()=>{t(2,k=[])};return r.$$set=M=>{"$$scope"in M&&t(11,b=M.$$scope)},[w,I,k,$,l,o,a,i,d,_,g,b,p,y,E,D,T,C]}class e0 extends at{constructor(e){super(),ot(this,e,a1,n1,nt,{})}}export{e0 as component};
//# sourceMappingURL=2.DmWTxk-b.js.map
